(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))i(l);new MutationObserver(l=>{for(const c of l)if(c.type==="childList")for(const d of c.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&i(d)}).observe(document,{childList:!0,subtree:!0});function s(l){const c={};return l.integrity&&(c.integrity=l.integrity),l.referrerPolicy&&(c.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?c.credentials="include":l.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function i(l){if(l.ep)return;l.ep=!0;const c=s(l);fetch(l.href,c)}})();function ng(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var yd={exports:{}},ti={},xd={exports:{}},Ie={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e0;function db(){if(e0)return Ie;e0=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),i=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),c=Symbol.for("react.provider"),d=Symbol.for("react.context"),h=Symbol.for("react.forward_ref"),m=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),y=Symbol.iterator;function v(M){return M===null||typeof M!="object"?null:(M=y&&M[y]||M["@@iterator"],typeof M=="function"?M:null)}var w={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},k=Object.assign,N={};function _(M,W,re){this.props=M,this.context=W,this.refs=N,this.updater=re||w}_.prototype.isReactComponent={},_.prototype.setState=function(M,W){if(typeof M!="object"&&typeof M!="function"&&M!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,M,W,"setState")},_.prototype.forceUpdate=function(M){this.updater.enqueueForceUpdate(this,M,"forceUpdate")};function T(){}T.prototype=_.prototype;function S(M,W,re){this.props=M,this.context=W,this.refs=N,this.updater=re||w}var j=S.prototype=new T;j.constructor=S,k(j,_.prototype),j.isPureReactComponent=!0;var D=Array.isArray,$=Object.prototype.hasOwnProperty,B={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function O(M,W,re){var fe,xe={},Se=null,Re=null;if(W!=null)for(fe in W.ref!==void 0&&(Re=W.ref),W.key!==void 0&&(Se=""+W.key),W)$.call(W,fe)&&!L.hasOwnProperty(fe)&&(xe[fe]=W[fe]);var ve=arguments.length-2;if(ve===1)xe.children=re;else if(1<ve){for(var De=Array(ve),rt=0;rt<ve;rt++)De[rt]=arguments[rt+2];xe.children=De}if(M&&M.defaultProps)for(fe in ve=M.defaultProps,ve)xe[fe]===void 0&&(xe[fe]=ve[fe]);return{$$typeof:t,type:M,key:Se,ref:Re,props:xe,_owner:B.current}}function H(M,W){return{$$typeof:t,type:M.type,key:W,ref:M.ref,props:M.props,_owner:M._owner}}function se(M){return typeof M=="object"&&M!==null&&M.$$typeof===t}function he(M){var W={"=":"=0",":":"=2"};return"$"+M.replace(/[=:]/g,function(re){return W[re]})}var je=/\/+/g;function J(M,W){return typeof M=="object"&&M!==null&&M.key!=null?he(""+M.key):W.toString(36)}function be(M,W,re,fe,xe){var Se=typeof M;(Se==="undefined"||Se==="boolean")&&(M=null);var Re=!1;if(M===null)Re=!0;else switch(Se){case"string":case"number":Re=!0;break;case"object":switch(M.$$typeof){case t:case e:Re=!0}}if(Re)return Re=M,xe=xe(Re),M=fe===""?"."+J(Re,0):fe,D(xe)?(re="",M!=null&&(re=M.replace(je,"$&/")+"/"),be(xe,W,re,"",function(rt){return rt})):xe!=null&&(se(xe)&&(xe=H(xe,re+(!xe.key||Re&&Re.key===xe.key?"":(""+xe.key).replace(je,"$&/")+"/")+M)),W.push(xe)),1;if(Re=0,fe=fe===""?".":fe+":",D(M))for(var ve=0;ve<M.length;ve++){Se=M[ve];var De=fe+J(Se,ve);Re+=be(Se,W,re,De,xe)}else if(De=v(M),typeof De=="function")for(M=De.call(M),ve=0;!(Se=M.next()).done;)Se=Se.value,De=fe+J(Se,ve++),Re+=be(Se,W,re,De,xe);else if(Se==="object")throw W=String(M),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(M).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Re}function Pe(M,W,re){if(M==null)return M;var fe=[],xe=0;return be(M,fe,"","",function(Se){return W.call(re,Se,xe++)}),fe}function ge(M){if(M._status===-1){var W=M._result;W=W(),W.then(function(re){(M._status===0||M._status===-1)&&(M._status=1,M._result=re)},function(re){(M._status===0||M._status===-1)&&(M._status=2,M._result=re)}),M._status===-1&&(M._status=0,M._result=W)}if(M._status===1)return M._result.default;throw M._result}var le={current:null},Y={transition:null},ie={ReactCurrentDispatcher:le,ReactCurrentBatchConfig:Y,ReactCurrentOwner:B};function K(){throw Error("act(...) is not supported in production builds of React.")}return Ie.Children={map:Pe,forEach:function(M,W,re){Pe(M,function(){W.apply(this,arguments)},re)},count:function(M){var W=0;return Pe(M,function(){W++}),W},toArray:function(M){return Pe(M,function(W){return W})||[]},only:function(M){if(!se(M))throw Error("React.Children.only expected to receive a single React element child.");return M}},Ie.Component=_,Ie.Fragment=s,Ie.Profiler=l,Ie.PureComponent=S,Ie.StrictMode=i,Ie.Suspense=m,Ie.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ie,Ie.act=K,Ie.cloneElement=function(M,W,re){if(M==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+M+".");var fe=k({},M.props),xe=M.key,Se=M.ref,Re=M._owner;if(W!=null){if(W.ref!==void 0&&(Se=W.ref,Re=B.current),W.key!==void 0&&(xe=""+W.key),M.type&&M.type.defaultProps)var ve=M.type.defaultProps;for(De in W)$.call(W,De)&&!L.hasOwnProperty(De)&&(fe[De]=W[De]===void 0&&ve!==void 0?ve[De]:W[De])}var De=arguments.length-2;if(De===1)fe.children=re;else if(1<De){ve=Array(De);for(var rt=0;rt<De;rt++)ve[rt]=arguments[rt+2];fe.children=ve}return{$$typeof:t,type:M.type,key:xe,ref:Se,props:fe,_owner:Re}},Ie.createContext=function(M){return M={$$typeof:d,_currentValue:M,_currentValue2:M,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},M.Provider={$$typeof:c,_context:M},M.Consumer=M},Ie.createElement=O,Ie.createFactory=function(M){var W=O.bind(null,M);return W.type=M,W},Ie.createRef=function(){return{current:null}},Ie.forwardRef=function(M){return{$$typeof:h,render:M}},Ie.isValidElement=se,Ie.lazy=function(M){return{$$typeof:g,_payload:{_status:-1,_result:M},_init:ge}},Ie.memo=function(M,W){return{$$typeof:p,type:M,compare:W===void 0?null:W}},Ie.startTransition=function(M){var W=Y.transition;Y.transition={};try{M()}finally{Y.transition=W}},Ie.unstable_act=K,Ie.useCallback=function(M,W){return le.current.useCallback(M,W)},Ie.useContext=function(M){return le.current.useContext(M)},Ie.useDebugValue=function(){},Ie.useDeferredValue=function(M){return le.current.useDeferredValue(M)},Ie.useEffect=function(M,W){return le.current.useEffect(M,W)},Ie.useId=function(){return le.current.useId()},Ie.useImperativeHandle=function(M,W,re){return le.current.useImperativeHandle(M,W,re)},Ie.useInsertionEffect=function(M,W){return le.current.useInsertionEffect(M,W)},Ie.useLayoutEffect=function(M,W){return le.current.useLayoutEffect(M,W)},Ie.useMemo=function(M,W){return le.current.useMemo(M,W)},Ie.useReducer=function(M,W,re){return le.current.useReducer(M,W,re)},Ie.useRef=function(M){return le.current.useRef(M)},Ie.useState=function(M){return le.current.useState(M)},Ie.useSyncExternalStore=function(M,W,re){return le.current.useSyncExternalStore(M,W,re)},Ie.useTransition=function(){return le.current.useTransition()},Ie.version="18.3.1",Ie}var t0;function $u(){return t0||(t0=1,xd.exports=db()),xd.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r0;function ub(){if(r0)return ti;r0=1;var t=$u(),e=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,c={key:!0,ref:!0,__self:!0,__source:!0};function d(h,m,p){var g,y={},v=null,w=null;p!==void 0&&(v=""+p),m.key!==void 0&&(v=""+m.key),m.ref!==void 0&&(w=m.ref);for(g in m)i.call(m,g)&&!c.hasOwnProperty(g)&&(y[g]=m[g]);if(h&&h.defaultProps)for(g in m=h.defaultProps,m)y[g]===void 0&&(y[g]=m[g]);return{$$typeof:e,type:h,key:v,ref:w,props:y,_owner:l.current}}return ti.Fragment=s,ti.jsx=d,ti.jsxs=d,ti}var s0;function hb(){return s0||(s0=1,yd.exports=ub()),yd.exports}var n=hb(),Fo={},vd={exports:{}},Ht={},bd={exports:{}},wd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var n0;function fb(){return n0||(n0=1,(function(t){function e(Y,ie){var K=Y.length;Y.push(ie);e:for(;0<K;){var M=K-1>>>1,W=Y[M];if(0<l(W,ie))Y[M]=ie,Y[K]=W,K=M;else break e}}function s(Y){return Y.length===0?null:Y[0]}function i(Y){if(Y.length===0)return null;var ie=Y[0],K=Y.pop();if(K!==ie){Y[0]=K;e:for(var M=0,W=Y.length,re=W>>>1;M<re;){var fe=2*(M+1)-1,xe=Y[fe],Se=fe+1,Re=Y[Se];if(0>l(xe,K))Se<W&&0>l(Re,xe)?(Y[M]=Re,Y[Se]=K,M=Se):(Y[M]=xe,Y[fe]=K,M=fe);else if(Se<W&&0>l(Re,K))Y[M]=Re,Y[Se]=K,M=Se;else break e}}return ie}function l(Y,ie){var K=Y.sortIndex-ie.sortIndex;return K!==0?K:Y.id-ie.id}if(typeof performance=="object"&&typeof performance.now=="function"){var c=performance;t.unstable_now=function(){return c.now()}}else{var d=Date,h=d.now();t.unstable_now=function(){return d.now()-h}}var m=[],p=[],g=1,y=null,v=3,w=!1,k=!1,N=!1,_=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Y){for(var ie=s(p);ie!==null;){if(ie.callback===null)i(p);else if(ie.startTime<=Y)i(p),ie.sortIndex=ie.expirationTime,e(m,ie);else break;ie=s(p)}}function D(Y){if(N=!1,j(Y),!k)if(s(m)!==null)k=!0,ge($);else{var ie=s(p);ie!==null&&le(D,ie.startTime-Y)}}function $(Y,ie){k=!1,N&&(N=!1,T(O),O=-1),w=!0;var K=v;try{for(j(ie),y=s(m);y!==null&&(!(y.expirationTime>ie)||Y&&!he());){var M=y.callback;if(typeof M=="function"){y.callback=null,v=y.priorityLevel;var W=M(y.expirationTime<=ie);ie=t.unstable_now(),typeof W=="function"?y.callback=W:y===s(m)&&i(m),j(ie)}else i(m);y=s(m)}if(y!==null)var re=!0;else{var fe=s(p);fe!==null&&le(D,fe.startTime-ie),re=!1}return re}finally{y=null,v=K,w=!1}}var B=!1,L=null,O=-1,H=5,se=-1;function he(){return!(t.unstable_now()-se<H)}function je(){if(L!==null){var Y=t.unstable_now();se=Y;var ie=!0;try{ie=L(!0,Y)}finally{ie?J():(B=!1,L=null)}}else B=!1}var J;if(typeof S=="function")J=function(){S(je)};else if(typeof MessageChannel<"u"){var be=new MessageChannel,Pe=be.port2;be.port1.onmessage=je,J=function(){Pe.postMessage(null)}}else J=function(){_(je,0)};function ge(Y){L=Y,B||(B=!0,J())}function le(Y,ie){O=_(function(){Y(t.unstable_now())},ie)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Y){Y.callback=null},t.unstable_continueExecution=function(){k||w||(k=!0,ge($))},t.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},t.unstable_getCurrentPriorityLevel=function(){return v},t.unstable_getFirstCallbackNode=function(){return s(m)},t.unstable_next=function(Y){switch(v){case 1:case 2:case 3:var ie=3;break;default:ie=v}var K=v;v=ie;try{return Y()}finally{v=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Y,ie){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var K=v;v=Y;try{return ie()}finally{v=K}},t.unstable_scheduleCallback=function(Y,ie,K){var M=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?M+K:M):K=M,Y){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=K+W,Y={id:g++,callback:ie,priorityLevel:Y,startTime:K,expirationTime:W,sortIndex:-1},K>M?(Y.sortIndex=K,e(p,Y),s(m)===null&&Y===s(p)&&(N?(T(O),O=-1):N=!0,le(D,K-M))):(Y.sortIndex=W,e(m,Y),k||w||(k=!0,ge($))),Y},t.unstable_shouldYield=he,t.unstable_wrapCallback=function(Y){var ie=v;return function(){var K=v;v=ie;try{return Y.apply(this,arguments)}finally{v=K}}}})(wd)),wd}var a0;function mb(){return a0||(a0=1,bd.exports=fb()),bd.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var i0;function pb(){if(i0)return Ht;i0=1;var t=$u(),e=mb();function s(r){for(var a="https://reactjs.org/docs/error-decoder.html?invariant="+r,o=1;o<arguments.length;o++)a+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+r+"; visit "+a+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function c(r,a){d(r,a),d(r+"Capture",a)}function d(r,a){for(l[r]=a,r=0;r<a.length;r++)i.add(a[r])}var h=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),m=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},y={};function v(r){return m.call(y,r)?!0:m.call(g,r)?!1:p.test(r)?y[r]=!0:(g[r]=!0,!1)}function w(r,a,o,u){if(o!==null&&o.type===0)return!1;switch(typeof a){case"function":case"symbol":return!0;case"boolean":return u?!1:o!==null?!o.acceptsBooleans:(r=r.toLowerCase().slice(0,5),r!=="data-"&&r!=="aria-");default:return!1}}function k(r,a,o,u){if(a===null||typeof a>"u"||w(r,a,o,u))return!0;if(u)return!1;if(o!==null)switch(o.type){case 3:return!a;case 4:return a===!1;case 5:return isNaN(a);case 6:return isNaN(a)||1>a}return!1}function N(r,a,o,u,f,x,b){this.acceptsBooleans=a===2||a===3||a===4,this.attributeName=u,this.attributeNamespace=f,this.mustUseProperty=o,this.propertyName=r,this.type=a,this.sanitizeURL=x,this.removeEmptyString=b}var _={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(r){_[r]=new N(r,0,!1,r,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(r){var a=r[0];_[a]=new N(a,1,!1,r[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(r){_[r]=new N(r,2,!1,r.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(r){_[r]=new N(r,2,!1,r,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(r){_[r]=new N(r,3,!1,r.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(r){_[r]=new N(r,3,!0,r,null,!1,!1)}),["capture","download"].forEach(function(r){_[r]=new N(r,4,!1,r,null,!1,!1)}),["cols","rows","size","span"].forEach(function(r){_[r]=new N(r,6,!1,r,null,!1,!1)}),["rowSpan","start"].forEach(function(r){_[r]=new N(r,5,!1,r.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function S(r){return r[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(r){var a=r.replace(T,S);_[a]=new N(a,1,!1,r,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(r){var a=r.replace(T,S);_[a]=new N(a,1,!1,r,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(r){var a=r.replace(T,S);_[a]=new N(a,1,!1,r,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(r){_[r]=new N(r,1,!1,r.toLowerCase(),null,!1,!1)}),_.xlinkHref=new N("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(r){_[r]=new N(r,1,!1,r.toLowerCase(),null,!0,!0)});function j(r,a,o,u){var f=_.hasOwnProperty(a)?_[a]:null;(f!==null?f.type!==0:u||!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(k(a,o,f,u)&&(o=null),u||f===null?v(a)&&(o===null?r.removeAttribute(a):r.setAttribute(a,""+o)):f.mustUseProperty?r[f.propertyName]=o===null?f.type===3?!1:"":o:(a=f.attributeName,u=f.attributeNamespace,o===null?r.removeAttribute(a):(f=f.type,o=f===3||f===4&&o===!0?"":""+o,u?r.setAttributeNS(u,a,o):r.setAttribute(a,o))))}var D=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,$=Symbol.for("react.element"),B=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),O=Symbol.for("react.strict_mode"),H=Symbol.for("react.profiler"),se=Symbol.for("react.provider"),he=Symbol.for("react.context"),je=Symbol.for("react.forward_ref"),J=Symbol.for("react.suspense"),be=Symbol.for("react.suspense_list"),Pe=Symbol.for("react.memo"),ge=Symbol.for("react.lazy"),le=Symbol.for("react.offscreen"),Y=Symbol.iterator;function ie(r){return r===null||typeof r!="object"?null:(r=Y&&r[Y]||r["@@iterator"],typeof r=="function"?r:null)}var K=Object.assign,M;function W(r){if(M===void 0)try{throw Error()}catch(o){var a=o.stack.trim().match(/\n( *(at )?)/);M=a&&a[1]||""}return`
`+M+r}var re=!1;function fe(r,a){if(!r||re)return"";re=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(a)if(a=function(){throw Error()},Object.defineProperty(a.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(a,[])}catch(z){var u=z}Reflect.construct(r,[],a)}else{try{a.call()}catch(z){u=z}r.call(a.prototype)}else{try{throw Error()}catch(z){u=z}r()}}catch(z){if(z&&u&&typeof z.stack=="string"){for(var f=z.stack.split(`
`),x=u.stack.split(`
`),b=f.length-1,A=x.length-1;1<=b&&0<=A&&f[b]!==x[A];)A--;for(;1<=b&&0<=A;b--,A--)if(f[b]!==x[A]){if(b!==1||A!==1)do if(b--,A--,0>A||f[b]!==x[A]){var R=`
`+f[b].replace(" at new "," at ");return r.displayName&&R.includes("<anonymous>")&&(R=R.replace("<anonymous>",r.displayName)),R}while(1<=b&&0<=A);break}}}finally{re=!1,Error.prepareStackTrace=o}return(r=r?r.displayName||r.name:"")?W(r):""}function xe(r){switch(r.tag){case 5:return W(r.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return r=fe(r.type,!1),r;case 11:return r=fe(r.type.render,!1),r;case 1:return r=fe(r.type,!0),r;default:return""}}function Se(r){if(r==null)return null;if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r;switch(r){case L:return"Fragment";case B:return"Portal";case H:return"Profiler";case O:return"StrictMode";case J:return"Suspense";case be:return"SuspenseList"}if(typeof r=="object")switch(r.$$typeof){case he:return(r.displayName||"Context")+".Consumer";case se:return(r._context.displayName||"Context")+".Provider";case je:var a=r.render;return r=r.displayName,r||(r=a.displayName||a.name||"",r=r!==""?"ForwardRef("+r+")":"ForwardRef"),r;case Pe:return a=r.displayName||null,a!==null?a:Se(r.type)||"Memo";case ge:a=r._payload,r=r._init;try{return Se(r(a))}catch{}}return null}function Re(r){var a=r.type;switch(r.tag){case 24:return"Cache";case 9:return(a.displayName||"Context")+".Consumer";case 10:return(a._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return r=a.render,r=r.displayName||r.name||"",a.displayName||(r!==""?"ForwardRef("+r+")":"ForwardRef");case 7:return"Fragment";case 5:return a;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Se(a);case 8:return a===O?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof a=="function")return a.displayName||a.name||null;if(typeof a=="string")return a}return null}function ve(r){switch(typeof r){case"boolean":case"number":case"string":case"undefined":return r;case"object":return r;default:return""}}function De(r){var a=r.type;return(r=r.nodeName)&&r.toLowerCase()==="input"&&(a==="checkbox"||a==="radio")}function rt(r){var a=De(r)?"checked":"value",o=Object.getOwnPropertyDescriptor(r.constructor.prototype,a),u=""+r[a];if(!r.hasOwnProperty(a)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var f=o.get,x=o.set;return Object.defineProperty(r,a,{configurable:!0,get:function(){return f.call(this)},set:function(b){u=""+b,x.call(this,b)}}),Object.defineProperty(r,a,{enumerable:o.enumerable}),{getValue:function(){return u},setValue:function(b){u=""+b},stopTracking:function(){r._valueTracker=null,delete r[a]}}}}function gr(r){r._valueTracker||(r._valueTracker=rt(r))}function Kt(r){if(!r)return!1;var a=r._valueTracker;if(!a)return!0;var o=a.getValue(),u="";return r&&(u=De(r)?r.checked?"true":"false":r.value),r=u,r!==o?(a.setValue(r),!0):!1}function ds(r){if(r=r||(typeof document<"u"?document:void 0),typeof r>"u")return null;try{return r.activeElement||r.body}catch{return r.body}}function Fr(r,a){var o=a.checked;return K({},a,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??r._wrapperState.initialChecked})}function us(r,a){var o=a.defaultValue==null?"":a.defaultValue,u=a.checked!=null?a.checked:a.defaultChecked;o=ve(a.value!=null?a.value:o),r._wrapperState={initialChecked:u,initialValue:o,controlled:a.type==="checkbox"||a.type==="radio"?a.checked!=null:a.value!=null}}function Hr(r,a){a=a.checked,a!=null&&j(r,"checked",a,!1)}function qt(r,a){Hr(r,a);var o=ve(a.value),u=a.type;if(o!=null)u==="number"?(o===0&&r.value===""||r.value!=o)&&(r.value=""+o):r.value!==""+o&&(r.value=""+o);else if(u==="submit"||u==="reset"){r.removeAttribute("value");return}a.hasOwnProperty("value")?Pt(r,a.type,o):a.hasOwnProperty("defaultValue")&&Pt(r,a.type,ve(a.defaultValue)),a.checked==null&&a.defaultChecked!=null&&(r.defaultChecked=!!a.defaultChecked)}function Ks(r,a,o){if(a.hasOwnProperty("value")||a.hasOwnProperty("defaultValue")){var u=a.type;if(!(u!=="submit"&&u!=="reset"||a.value!==void 0&&a.value!==null))return;a=""+r._wrapperState.initialValue,o||a===r.value||(r.value=a),r.defaultValue=a}o=r.name,o!==""&&(r.name=""),r.defaultChecked=!!r._wrapperState.initialChecked,o!==""&&(r.name=o)}function Pt(r,a,o){(a!=="number"||ds(r.ownerDocument)!==r)&&(o==null?r.defaultValue=""+r._wrapperState.initialValue:r.defaultValue!==""+o&&(r.defaultValue=""+o))}var Wr=Array.isArray;function Ir(r,a,o,u){if(r=r.options,a){a={};for(var f=0;f<o.length;f++)a["$"+o[f]]=!0;for(o=0;o<r.length;o++)f=a.hasOwnProperty("$"+r[o].value),r[o].selected!==f&&(r[o].selected=f),f&&u&&(r[o].defaultSelected=!0)}else{for(o=""+ve(o),a=null,f=0;f<r.length;f++){if(r[f].value===o){r[f].selected=!0,u&&(r[f].defaultSelected=!0);return}a!==null||r[f].disabled||(a=r[f])}a!==null&&(a.selected=!0)}}function ot(r,a){if(a.dangerouslySetInnerHTML!=null)throw Error(s(91));return K({},a,{value:void 0,defaultValue:void 0,children:""+r._wrapperState.initialValue})}function yr(r,a){var o=a.value;if(o==null){if(o=a.children,a=a.defaultValue,o!=null){if(a!=null)throw Error(s(92));if(Wr(o)){if(1<o.length)throw Error(s(93));o=o[0]}a=o}a==null&&(a=""),o=a}r._wrapperState={initialValue:ve(o)}}function kn(r,a){var o=ve(a.value),u=ve(a.defaultValue);o!=null&&(o=""+o,o!==r.value&&(r.value=o),a.defaultValue==null&&r.defaultValue!==o&&(r.defaultValue=o)),u!=null&&(r.defaultValue=""+u)}function jn(r){var a=r.textContent;a===r._wrapperState.initialValue&&a!==""&&a!==null&&(r.value=a)}function At(r){switch(r){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function hs(r,a){return r==null||r==="http://www.w3.org/1999/xhtml"?At(a):r==="http://www.w3.org/2000/svg"&&a==="foreignObject"?"http://www.w3.org/1999/xhtml":r}var xr,E=(function(r){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(a,o,u,f){MSApp.execUnsafeLocalFunction(function(){return r(a,o,u,f)})}:r})(function(r,a){if(r.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in r)r.innerHTML=a;else{for(xr=xr||document.createElement("div"),xr.innerHTML="<svg>"+a.valueOf().toString()+"</svg>",a=xr.firstChild;r.firstChild;)r.removeChild(r.firstChild);for(;a.firstChild;)r.appendChild(a.firstChild)}});function F(r,a){if(a){var o=r.firstChild;if(o&&o===r.lastChild&&o.nodeType===3){o.nodeValue=a;return}}r.textContent=a}var ce={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ae=["Webkit","ms","Moz","O"];Object.keys(ce).forEach(function(r){Ae.forEach(function(a){a=a+r.charAt(0).toUpperCase()+r.substring(1),ce[a]=ce[r]})});function Ce(r,a,o){return a==null||typeof a=="boolean"||a===""?"":o||typeof a!="number"||a===0||ce.hasOwnProperty(r)&&ce[r]?(""+a).trim():a+"px"}function ne(r,a){r=r.style;for(var o in a)if(a.hasOwnProperty(o)){var u=o.indexOf("--")===0,f=Ce(o,a[o],u);o==="float"&&(o="cssFloat"),u?r.setProperty(o,f):r[o]=f}}var fs=K({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Nn(r,a){if(a){if(fs[r]&&(a.children!=null||a.dangerouslySetInnerHTML!=null))throw Error(s(137,r));if(a.dangerouslySetInnerHTML!=null){if(a.children!=null)throw Error(s(60));if(typeof a.dangerouslySetInnerHTML!="object"||!("__html"in a.dangerouslySetInnerHTML))throw Error(s(61))}if(a.style!=null&&typeof a.style!="object")throw Error(s(62))}}function xa(r,a){if(r.indexOf("-")===-1)return typeof a.is=="string";switch(r){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qs=null;function nr(r){return r=r.target||r.srcElement||window,r.correspondingUseElement&&(r=r.correspondingUseElement),r.nodeType===3?r.parentNode:r}var va=null,ms=null,Kr=null;function ba(r){if(r=Ba(r)){if(typeof va!="function")throw Error(s(280));var a=r.stateNode;a&&(a=so(a),va(r.stateNode,r.type,a))}}function Te(r){ms?Kr?Kr.push(r):Kr=[r]:ms=r}function Qe(){if(ms){var r=ms,a=Kr;if(Kr=ms=null,ba(r),a)for(r=0;r<a.length;r++)ba(a[r])}}function lt(r,a){return r(a)}function jt(){}var ps=!1;function st(r,a,o){if(ps)return r(a,o);ps=!0;try{return lt(r,a,o)}finally{ps=!1,(ms!==null||Kr!==null)&&(jt(),Qe())}}function ft(r,a){var o=r.stateNode;if(o===null)return null;var u=so(o);if(u===null)return null;o=u[a];e:switch(a){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(u=!u.disabled)||(r=r.type,u=!(r==="button"||r==="input"||r==="select"||r==="textarea")),r=!u;break e;default:r=!1}if(r)return null;if(o&&typeof o!="function")throw Error(s(231,a,typeof o));return o}var gs=!1;if(h)try{var yt={};Object.defineProperty(yt,"passive",{get:function(){gs=!0}}),window.addEventListener("test",yt,yt),window.removeEventListener("test",yt,yt)}catch{gs=!1}function Gt(r,a,o,u,f,x,b,A,R){var z=Array.prototype.slice.call(arguments,3);try{a.apply(o,z)}catch(G){this.onError(G)}}var ys=!1,ar=null,wa=!1,Ml=null,yx={onError:function(r){ys=!0,ar=r}};function xx(r,a,o,u,f,x,b,A,R){ys=!1,ar=null,Gt.apply(yx,arguments)}function vx(r,a,o,u,f,x,b,A,R){if(xx.apply(this,arguments),ys){if(ys){var z=ar;ys=!1,ar=null}else throw Error(s(198));wa||(wa=!0,Ml=z)}}function Gs(r){var a=r,o=r;if(r.alternate)for(;a.return;)a=a.return;else{r=a;do a=r,(a.flags&4098)!==0&&(o=a.return),r=a.return;while(r)}return a.tag===3?o:null}function kh(r){if(r.tag===13){var a=r.memoizedState;if(a===null&&(r=r.alternate,r!==null&&(a=r.memoizedState)),a!==null)return a.dehydrated}return null}function jh(r){if(Gs(r)!==r)throw Error(s(188))}function bx(r){var a=r.alternate;if(!a){if(a=Gs(r),a===null)throw Error(s(188));return a!==r?null:r}for(var o=r,u=a;;){var f=o.return;if(f===null)break;var x=f.alternate;if(x===null){if(u=f.return,u!==null){o=u;continue}break}if(f.child===x.child){for(x=f.child;x;){if(x===o)return jh(f),r;if(x===u)return jh(f),a;x=x.sibling}throw Error(s(188))}if(o.return!==u.return)o=f,u=x;else{for(var b=!1,A=f.child;A;){if(A===o){b=!0,o=f,u=x;break}if(A===u){b=!0,u=f,o=x;break}A=A.sibling}if(!b){for(A=x.child;A;){if(A===o){b=!0,o=x,u=f;break}if(A===u){b=!0,u=x,o=f;break}A=A.sibling}if(!b)throw Error(s(189))}}if(o.alternate!==u)throw Error(s(190))}if(o.tag!==3)throw Error(s(188));return o.stateNode.current===o?r:a}function Nh(r){return r=bx(r),r!==null?_h(r):null}function _h(r){if(r.tag===5||r.tag===6)return r;for(r=r.child;r!==null;){var a=_h(r);if(a!==null)return a;r=r.sibling}return null}var Sh=e.unstable_scheduleCallback,Eh=e.unstable_cancelCallback,wx=e.unstable_shouldYield,kx=e.unstable_requestPaint,Ze=e.unstable_now,jx=e.unstable_getCurrentPriorityLevel,Ll=e.unstable_ImmediatePriority,Th=e.unstable_UserBlockingPriority,Li=e.unstable_NormalPriority,Nx=e.unstable_LowPriority,Ch=e.unstable_IdlePriority,$i=null,Dr=null;function _x(r){if(Dr&&typeof Dr.onCommitFiberRoot=="function")try{Dr.onCommitFiberRoot($i,r,void 0,(r.current.flags&128)===128)}catch{}}var vr=Math.clz32?Math.clz32:Tx,Sx=Math.log,Ex=Math.LN2;function Tx(r){return r>>>=0,r===0?32:31-(Sx(r)/Ex|0)|0}var Ui=64,Bi=4194304;function ka(r){switch(r&-r){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return r&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return r}}function Vi(r,a){var o=r.pendingLanes;if(o===0)return 0;var u=0,f=r.suspendedLanes,x=r.pingedLanes,b=o&268435455;if(b!==0){var A=b&~f;A!==0?u=ka(A):(x&=b,x!==0&&(u=ka(x)))}else b=o&~f,b!==0?u=ka(b):x!==0&&(u=ka(x));if(u===0)return 0;if(a!==0&&a!==u&&(a&f)===0&&(f=u&-u,x=a&-a,f>=x||f===16&&(x&4194240)!==0))return a;if((u&4)!==0&&(u|=o&16),a=r.entangledLanes,a!==0)for(r=r.entanglements,a&=u;0<a;)o=31-vr(a),f=1<<o,u|=r[o],a&=~f;return u}function Cx(r,a){switch(r){case 1:case 2:case 4:return a+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return a+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Px(r,a){for(var o=r.suspendedLanes,u=r.pingedLanes,f=r.expirationTimes,x=r.pendingLanes;0<x;){var b=31-vr(x),A=1<<b,R=f[b];R===-1?((A&o)===0||(A&u)!==0)&&(f[b]=Cx(A,a)):R<=a&&(r.expiredLanes|=A),x&=~A}}function $l(r){return r=r.pendingLanes&-1073741825,r!==0?r:r&1073741824?1073741824:0}function Ph(){var r=Ui;return Ui<<=1,(Ui&4194240)===0&&(Ui=64),r}function Ul(r){for(var a=[],o=0;31>o;o++)a.push(r);return a}function ja(r,a,o){r.pendingLanes|=a,a!==536870912&&(r.suspendedLanes=0,r.pingedLanes=0),r=r.eventTimes,a=31-vr(a),r[a]=o}function Ax(r,a){var o=r.pendingLanes&~a;r.pendingLanes=a,r.suspendedLanes=0,r.pingedLanes=0,r.expiredLanes&=a,r.mutableReadLanes&=a,r.entangledLanes&=a,a=r.entanglements;var u=r.eventTimes;for(r=r.expirationTimes;0<o;){var f=31-vr(o),x=1<<f;a[f]=0,u[f]=-1,r[f]=-1,o&=~x}}function Bl(r,a){var o=r.entangledLanes|=a;for(r=r.entanglements;o;){var u=31-vr(o),f=1<<u;f&a|r[u]&a&&(r[u]|=a),o&=~f}}var Le=0;function Ah(r){return r&=-r,1<r?4<r?(r&268435455)!==0?16:536870912:4:1}var Rh,Vl,Ih,Dh,Oh,zl=!1,zi=[],xs=null,vs=null,bs=null,Na=new Map,_a=new Map,ws=[],Rx="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Mh(r,a){switch(r){case"focusin":case"focusout":xs=null;break;case"dragenter":case"dragleave":vs=null;break;case"mouseover":case"mouseout":bs=null;break;case"pointerover":case"pointerout":Na.delete(a.pointerId);break;case"gotpointercapture":case"lostpointercapture":_a.delete(a.pointerId)}}function Sa(r,a,o,u,f,x){return r===null||r.nativeEvent!==x?(r={blockedOn:a,domEventName:o,eventSystemFlags:u,nativeEvent:x,targetContainers:[f]},a!==null&&(a=Ba(a),a!==null&&Vl(a)),r):(r.eventSystemFlags|=u,a=r.targetContainers,f!==null&&a.indexOf(f)===-1&&a.push(f),r)}function Ix(r,a,o,u,f){switch(a){case"focusin":return xs=Sa(xs,r,a,o,u,f),!0;case"dragenter":return vs=Sa(vs,r,a,o,u,f),!0;case"mouseover":return bs=Sa(bs,r,a,o,u,f),!0;case"pointerover":var x=f.pointerId;return Na.set(x,Sa(Na.get(x)||null,r,a,o,u,f)),!0;case"gotpointercapture":return x=f.pointerId,_a.set(x,Sa(_a.get(x)||null,r,a,o,u,f)),!0}return!1}function Lh(r){var a=Js(r.target);if(a!==null){var o=Gs(a);if(o!==null){if(a=o.tag,a===13){if(a=kh(o),a!==null){r.blockedOn=a,Oh(r.priority,function(){Ih(o)});return}}else if(a===3&&o.stateNode.current.memoizedState.isDehydrated){r.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}r.blockedOn=null}function Fi(r){if(r.blockedOn!==null)return!1;for(var a=r.targetContainers;0<a.length;){var o=Hl(r.domEventName,r.eventSystemFlags,a[0],r.nativeEvent);if(o===null){o=r.nativeEvent;var u=new o.constructor(o.type,o);qs=u,o.target.dispatchEvent(u),qs=null}else return a=Ba(o),a!==null&&Vl(a),r.blockedOn=o,!1;a.shift()}return!0}function $h(r,a,o){Fi(r)&&o.delete(a)}function Dx(){zl=!1,xs!==null&&Fi(xs)&&(xs=null),vs!==null&&Fi(vs)&&(vs=null),bs!==null&&Fi(bs)&&(bs=null),Na.forEach($h),_a.forEach($h)}function Ea(r,a){r.blockedOn===a&&(r.blockedOn=null,zl||(zl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Dx)))}function Ta(r){function a(f){return Ea(f,r)}if(0<zi.length){Ea(zi[0],r);for(var o=1;o<zi.length;o++){var u=zi[o];u.blockedOn===r&&(u.blockedOn=null)}}for(xs!==null&&Ea(xs,r),vs!==null&&Ea(vs,r),bs!==null&&Ea(bs,r),Na.forEach(a),_a.forEach(a),o=0;o<ws.length;o++)u=ws[o],u.blockedOn===r&&(u.blockedOn=null);for(;0<ws.length&&(o=ws[0],o.blockedOn===null);)Lh(o),o.blockedOn===null&&ws.shift()}var _n=D.ReactCurrentBatchConfig,Hi=!0;function Ox(r,a,o,u){var f=Le,x=_n.transition;_n.transition=null;try{Le=1,Fl(r,a,o,u)}finally{Le=f,_n.transition=x}}function Mx(r,a,o,u){var f=Le,x=_n.transition;_n.transition=null;try{Le=4,Fl(r,a,o,u)}finally{Le=f,_n.transition=x}}function Fl(r,a,o,u){if(Hi){var f=Hl(r,a,o,u);if(f===null)oc(r,a,u,Wi,o),Mh(r,u);else if(Ix(f,r,a,o,u))u.stopPropagation();else if(Mh(r,u),a&4&&-1<Rx.indexOf(r)){for(;f!==null;){var x=Ba(f);if(x!==null&&Rh(x),x=Hl(r,a,o,u),x===null&&oc(r,a,u,Wi,o),x===f)break;f=x}f!==null&&u.stopPropagation()}else oc(r,a,u,null,o)}}var Wi=null;function Hl(r,a,o,u){if(Wi=null,r=nr(u),r=Js(r),r!==null)if(a=Gs(r),a===null)r=null;else if(o=a.tag,o===13){if(r=kh(a),r!==null)return r;r=null}else if(o===3){if(a.stateNode.current.memoizedState.isDehydrated)return a.tag===3?a.stateNode.containerInfo:null;r=null}else a!==r&&(r=null);return Wi=r,null}function Uh(r){switch(r){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(jx()){case Ll:return 1;case Th:return 4;case Li:case Nx:return 16;case Ch:return 536870912;default:return 16}default:return 16}}var ks=null,Wl=null,Ki=null;function Bh(){if(Ki)return Ki;var r,a=Wl,o=a.length,u,f="value"in ks?ks.value:ks.textContent,x=f.length;for(r=0;r<o&&a[r]===f[r];r++);var b=o-r;for(u=1;u<=b&&a[o-u]===f[x-u];u++);return Ki=f.slice(r,1<u?1-u:void 0)}function qi(r){var a=r.keyCode;return"charCode"in r?(r=r.charCode,r===0&&a===13&&(r=13)):r=a,r===10&&(r=13),32<=r||r===13?r:0}function Gi(){return!0}function Vh(){return!1}function Jt(r){function a(o,u,f,x,b){this._reactName=o,this._targetInst=f,this.type=u,this.nativeEvent=x,this.target=b,this.currentTarget=null;for(var A in r)r.hasOwnProperty(A)&&(o=r[A],this[A]=o?o(x):x[A]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?Gi:Vh,this.isPropagationStopped=Vh,this}return K(a.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=Gi)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=Gi)},persist:function(){},isPersistent:Gi}),a}var Sn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(r){return r.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Kl=Jt(Sn),Ca=K({},Sn,{view:0,detail:0}),Lx=Jt(Ca),ql,Gl,Pa,Ji=K({},Ca,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yl,button:0,buttons:0,relatedTarget:function(r){return r.relatedTarget===void 0?r.fromElement===r.srcElement?r.toElement:r.fromElement:r.relatedTarget},movementX:function(r){return"movementX"in r?r.movementX:(r!==Pa&&(Pa&&r.type==="mousemove"?(ql=r.screenX-Pa.screenX,Gl=r.screenY-Pa.screenY):Gl=ql=0,Pa=r),ql)},movementY:function(r){return"movementY"in r?r.movementY:Gl}}),zh=Jt(Ji),$x=K({},Ji,{dataTransfer:0}),Ux=Jt($x),Bx=K({},Ca,{relatedTarget:0}),Jl=Jt(Bx),Vx=K({},Sn,{animationName:0,elapsedTime:0,pseudoElement:0}),zx=Jt(Vx),Fx=K({},Sn,{clipboardData:function(r){return"clipboardData"in r?r.clipboardData:window.clipboardData}}),Hx=Jt(Fx),Wx=K({},Sn,{data:0}),Fh=Jt(Wx),Kx={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},qx={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Gx={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jx(r){var a=this.nativeEvent;return a.getModifierState?a.getModifierState(r):(r=Gx[r])?!!a[r]:!1}function Yl(){return Jx}var Yx=K({},Ca,{key:function(r){if(r.key){var a=Kx[r.key]||r.key;if(a!=="Unidentified")return a}return r.type==="keypress"?(r=qi(r),r===13?"Enter":String.fromCharCode(r)):r.type==="keydown"||r.type==="keyup"?qx[r.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yl,charCode:function(r){return r.type==="keypress"?qi(r):0},keyCode:function(r){return r.type==="keydown"||r.type==="keyup"?r.keyCode:0},which:function(r){return r.type==="keypress"?qi(r):r.type==="keydown"||r.type==="keyup"?r.keyCode:0}}),Xx=Jt(Yx),Qx=K({},Ji,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hh=Jt(Qx),Zx=K({},Ca,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yl}),ev=Jt(Zx),tv=K({},Sn,{propertyName:0,elapsedTime:0,pseudoElement:0}),rv=Jt(tv),sv=K({},Ji,{deltaX:function(r){return"deltaX"in r?r.deltaX:"wheelDeltaX"in r?-r.wheelDeltaX:0},deltaY:function(r){return"deltaY"in r?r.deltaY:"wheelDeltaY"in r?-r.wheelDeltaY:"wheelDelta"in r?-r.wheelDelta:0},deltaZ:0,deltaMode:0}),nv=Jt(sv),av=[9,13,27,32],Xl=h&&"CompositionEvent"in window,Aa=null;h&&"documentMode"in document&&(Aa=document.documentMode);var iv=h&&"TextEvent"in window&&!Aa,Wh=h&&(!Xl||Aa&&8<Aa&&11>=Aa),Kh=" ",qh=!1;function Gh(r,a){switch(r){case"keyup":return av.indexOf(a.keyCode)!==-1;case"keydown":return a.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Jh(r){return r=r.detail,typeof r=="object"&&"data"in r?r.data:null}var En=!1;function ov(r,a){switch(r){case"compositionend":return Jh(a);case"keypress":return a.which!==32?null:(qh=!0,Kh);case"textInput":return r=a.data,r===Kh&&qh?null:r;default:return null}}function lv(r,a){if(En)return r==="compositionend"||!Xl&&Gh(r,a)?(r=Bh(),Ki=Wl=ks=null,En=!1,r):null;switch(r){case"paste":return null;case"keypress":if(!(a.ctrlKey||a.altKey||a.metaKey)||a.ctrlKey&&a.altKey){if(a.char&&1<a.char.length)return a.char;if(a.which)return String.fromCharCode(a.which)}return null;case"compositionend":return Wh&&a.locale!=="ko"?null:a.data;default:return null}}var cv={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Yh(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a==="input"?!!cv[r.type]:a==="textarea"}function Xh(r,a,o,u){Te(u),a=eo(a,"onChange"),0<a.length&&(o=new Kl("onChange","change",null,o,u),r.push({event:o,listeners:a}))}var Ra=null,Ia=null;function dv(r){gf(r,0)}function Yi(r){var a=Rn(r);if(Kt(a))return r}function uv(r,a){if(r==="change")return a}var Qh=!1;if(h){var Ql;if(h){var Zl="oninput"in document;if(!Zl){var Zh=document.createElement("div");Zh.setAttribute("oninput","return;"),Zl=typeof Zh.oninput=="function"}Ql=Zl}else Ql=!1;Qh=Ql&&(!document.documentMode||9<document.documentMode)}function ef(){Ra&&(Ra.detachEvent("onpropertychange",tf),Ia=Ra=null)}function tf(r){if(r.propertyName==="value"&&Yi(Ia)){var a=[];Xh(a,Ia,r,nr(r)),st(dv,a)}}function hv(r,a,o){r==="focusin"?(ef(),Ra=a,Ia=o,Ra.attachEvent("onpropertychange",tf)):r==="focusout"&&ef()}function fv(r){if(r==="selectionchange"||r==="keyup"||r==="keydown")return Yi(Ia)}function mv(r,a){if(r==="click")return Yi(a)}function pv(r,a){if(r==="input"||r==="change")return Yi(a)}function gv(r,a){return r===a&&(r!==0||1/r===1/a)||r!==r&&a!==a}var br=typeof Object.is=="function"?Object.is:gv;function Da(r,a){if(br(r,a))return!0;if(typeof r!="object"||r===null||typeof a!="object"||a===null)return!1;var o=Object.keys(r),u=Object.keys(a);if(o.length!==u.length)return!1;for(u=0;u<o.length;u++){var f=o[u];if(!m.call(a,f)||!br(r[f],a[f]))return!1}return!0}function rf(r){for(;r&&r.firstChild;)r=r.firstChild;return r}function sf(r,a){var o=rf(r);r=0;for(var u;o;){if(o.nodeType===3){if(u=r+o.textContent.length,r<=a&&u>=a)return{node:o,offset:a-r};r=u}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=rf(o)}}function nf(r,a){return r&&a?r===a?!0:r&&r.nodeType===3?!1:a&&a.nodeType===3?nf(r,a.parentNode):"contains"in r?r.contains(a):r.compareDocumentPosition?!!(r.compareDocumentPosition(a)&16):!1:!1}function af(){for(var r=window,a=ds();a instanceof r.HTMLIFrameElement;){try{var o=typeof a.contentWindow.location.href=="string"}catch{o=!1}if(o)r=a.contentWindow;else break;a=ds(r.document)}return a}function ec(r){var a=r&&r.nodeName&&r.nodeName.toLowerCase();return a&&(a==="input"&&(r.type==="text"||r.type==="search"||r.type==="tel"||r.type==="url"||r.type==="password")||a==="textarea"||r.contentEditable==="true")}function yv(r){var a=af(),o=r.focusedElem,u=r.selectionRange;if(a!==o&&o&&o.ownerDocument&&nf(o.ownerDocument.documentElement,o)){if(u!==null&&ec(o)){if(a=u.start,r=u.end,r===void 0&&(r=a),"selectionStart"in o)o.selectionStart=a,o.selectionEnd=Math.min(r,o.value.length);else if(r=(a=o.ownerDocument||document)&&a.defaultView||window,r.getSelection){r=r.getSelection();var f=o.textContent.length,x=Math.min(u.start,f);u=u.end===void 0?x:Math.min(u.end,f),!r.extend&&x>u&&(f=u,u=x,x=f),f=sf(o,x);var b=sf(o,u);f&&b&&(r.rangeCount!==1||r.anchorNode!==f.node||r.anchorOffset!==f.offset||r.focusNode!==b.node||r.focusOffset!==b.offset)&&(a=a.createRange(),a.setStart(f.node,f.offset),r.removeAllRanges(),x>u?(r.addRange(a),r.extend(b.node,b.offset)):(a.setEnd(b.node,b.offset),r.addRange(a)))}}for(a=[],r=o;r=r.parentNode;)r.nodeType===1&&a.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<a.length;o++)r=a[o],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var xv=h&&"documentMode"in document&&11>=document.documentMode,Tn=null,tc=null,Oa=null,rc=!1;function of(r,a,o){var u=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;rc||Tn==null||Tn!==ds(u)||(u=Tn,"selectionStart"in u&&ec(u)?u={start:u.selectionStart,end:u.selectionEnd}:(u=(u.ownerDocument&&u.ownerDocument.defaultView||window).getSelection(),u={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}),Oa&&Da(Oa,u)||(Oa=u,u=eo(tc,"onSelect"),0<u.length&&(a=new Kl("onSelect","select",null,a,o),r.push({event:a,listeners:u}),a.target=Tn)))}function Xi(r,a){var o={};return o[r.toLowerCase()]=a.toLowerCase(),o["Webkit"+r]="webkit"+a,o["Moz"+r]="moz"+a,o}var Cn={animationend:Xi("Animation","AnimationEnd"),animationiteration:Xi("Animation","AnimationIteration"),animationstart:Xi("Animation","AnimationStart"),transitionend:Xi("Transition","TransitionEnd")},sc={},lf={};h&&(lf=document.createElement("div").style,"AnimationEvent"in window||(delete Cn.animationend.animation,delete Cn.animationiteration.animation,delete Cn.animationstart.animation),"TransitionEvent"in window||delete Cn.transitionend.transition);function Qi(r){if(sc[r])return sc[r];if(!Cn[r])return r;var a=Cn[r],o;for(o in a)if(a.hasOwnProperty(o)&&o in lf)return sc[r]=a[o];return r}var cf=Qi("animationend"),df=Qi("animationiteration"),uf=Qi("animationstart"),hf=Qi("transitionend"),ff=new Map,mf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function js(r,a){ff.set(r,a),c(a,[r])}for(var nc=0;nc<mf.length;nc++){var ac=mf[nc],vv=ac.toLowerCase(),bv=ac[0].toUpperCase()+ac.slice(1);js(vv,"on"+bv)}js(cf,"onAnimationEnd"),js(df,"onAnimationIteration"),js(uf,"onAnimationStart"),js("dblclick","onDoubleClick"),js("focusin","onFocus"),js("focusout","onBlur"),js(hf,"onTransitionEnd"),d("onMouseEnter",["mouseout","mouseover"]),d("onMouseLeave",["mouseout","mouseover"]),d("onPointerEnter",["pointerout","pointerover"]),d("onPointerLeave",["pointerout","pointerover"]),c("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),c("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),c("onBeforeInput",["compositionend","keypress","textInput","paste"]),c("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),c("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ma="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),wv=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ma));function pf(r,a,o){var u=r.type||"unknown-event";r.currentTarget=o,vx(u,a,void 0,r),r.currentTarget=null}function gf(r,a){a=(a&4)!==0;for(var o=0;o<r.length;o++){var u=r[o],f=u.event;u=u.listeners;e:{var x=void 0;if(a)for(var b=u.length-1;0<=b;b--){var A=u[b],R=A.instance,z=A.currentTarget;if(A=A.listener,R!==x&&f.isPropagationStopped())break e;pf(f,A,z),x=R}else for(b=0;b<u.length;b++){if(A=u[b],R=A.instance,z=A.currentTarget,A=A.listener,R!==x&&f.isPropagationStopped())break e;pf(f,A,z),x=R}}}if(wa)throw r=Ml,wa=!1,Ml=null,r}function ze(r,a){var o=a[fc];o===void 0&&(o=a[fc]=new Set);var u=r+"__bubble";o.has(u)||(yf(a,r,2,!1),o.add(u))}function ic(r,a,o){var u=0;a&&(u|=4),yf(o,r,u,a)}var Zi="_reactListening"+Math.random().toString(36).slice(2);function La(r){if(!r[Zi]){r[Zi]=!0,i.forEach(function(o){o!=="selectionchange"&&(wv.has(o)||ic(o,!1,r),ic(o,!0,r))});var a=r.nodeType===9?r:r.ownerDocument;a===null||a[Zi]||(a[Zi]=!0,ic("selectionchange",!1,a))}}function yf(r,a,o,u){switch(Uh(a)){case 1:var f=Ox;break;case 4:f=Mx;break;default:f=Fl}o=f.bind(null,a,o,r),f=void 0,!gs||a!=="touchstart"&&a!=="touchmove"&&a!=="wheel"||(f=!0),u?f!==void 0?r.addEventListener(a,o,{capture:!0,passive:f}):r.addEventListener(a,o,!0):f!==void 0?r.addEventListener(a,o,{passive:f}):r.addEventListener(a,o,!1)}function oc(r,a,o,u,f){var x=u;if((a&1)===0&&(a&2)===0&&u!==null)e:for(;;){if(u===null)return;var b=u.tag;if(b===3||b===4){var A=u.stateNode.containerInfo;if(A===f||A.nodeType===8&&A.parentNode===f)break;if(b===4)for(b=u.return;b!==null;){var R=b.tag;if((R===3||R===4)&&(R=b.stateNode.containerInfo,R===f||R.nodeType===8&&R.parentNode===f))return;b=b.return}for(;A!==null;){if(b=Js(A),b===null)return;if(R=b.tag,R===5||R===6){u=x=b;continue e}A=A.parentNode}}u=u.return}st(function(){var z=x,G=nr(o),X=[];e:{var q=ff.get(r);if(q!==void 0){var ae=Kl,de=r;switch(r){case"keypress":if(qi(o)===0)break e;case"keydown":case"keyup":ae=Xx;break;case"focusin":de="focus",ae=Jl;break;case"focusout":de="blur",ae=Jl;break;case"beforeblur":case"afterblur":ae=Jl;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":ae=zh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":ae=Ux;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":ae=ev;break;case cf:case df:case uf:ae=zx;break;case hf:ae=rv;break;case"scroll":ae=Lx;break;case"wheel":ae=nv;break;case"copy":case"cut":case"paste":ae=Hx;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":ae=Hh}var me=(a&4)!==0,et=!me&&r==="scroll",U=me?q!==null?q+"Capture":null:q;me=[];for(var I=z,V;I!==null;){V=I;var Q=V.stateNode;if(V.tag===5&&Q!==null&&(V=Q,U!==null&&(Q=ft(I,U),Q!=null&&me.push($a(I,Q,V)))),et)break;I=I.return}0<me.length&&(q=new ae(q,de,null,o,G),X.push({event:q,listeners:me}))}}if((a&7)===0){e:{if(q=r==="mouseover"||r==="pointerover",ae=r==="mouseout"||r==="pointerout",q&&o!==qs&&(de=o.relatedTarget||o.fromElement)&&(Js(de)||de[qr]))break e;if((ae||q)&&(q=G.window===G?G:(q=G.ownerDocument)?q.defaultView||q.parentWindow:window,ae?(de=o.relatedTarget||o.toElement,ae=z,de=de?Js(de):null,de!==null&&(et=Gs(de),de!==et||de.tag!==5&&de.tag!==6)&&(de=null)):(ae=null,de=z),ae!==de)){if(me=zh,Q="onMouseLeave",U="onMouseEnter",I="mouse",(r==="pointerout"||r==="pointerover")&&(me=Hh,Q="onPointerLeave",U="onPointerEnter",I="pointer"),et=ae==null?q:Rn(ae),V=de==null?q:Rn(de),q=new me(Q,I+"leave",ae,o,G),q.target=et,q.relatedTarget=V,Q=null,Js(G)===z&&(me=new me(U,I+"enter",de,o,G),me.target=V,me.relatedTarget=et,Q=me),et=Q,ae&&de)t:{for(me=ae,U=de,I=0,V=me;V;V=Pn(V))I++;for(V=0,Q=U;Q;Q=Pn(Q))V++;for(;0<I-V;)me=Pn(me),I--;for(;0<V-I;)U=Pn(U),V--;for(;I--;){if(me===U||U!==null&&me===U.alternate)break t;me=Pn(me),U=Pn(U)}me=null}else me=null;ae!==null&&xf(X,q,ae,me,!1),de!==null&&et!==null&&xf(X,et,de,me,!0)}}e:{if(q=z?Rn(z):window,ae=q.nodeName&&q.nodeName.toLowerCase(),ae==="select"||ae==="input"&&q.type==="file")var pe=uv;else if(Yh(q))if(Qh)pe=pv;else{pe=fv;var we=hv}else(ae=q.nodeName)&&ae.toLowerCase()==="input"&&(q.type==="checkbox"||q.type==="radio")&&(pe=mv);if(pe&&(pe=pe(r,z))){Xh(X,pe,o,G);break e}we&&we(r,q,z),r==="focusout"&&(we=q._wrapperState)&&we.controlled&&q.type==="number"&&Pt(q,"number",q.value)}switch(we=z?Rn(z):window,r){case"focusin":(Yh(we)||we.contentEditable==="true")&&(Tn=we,tc=z,Oa=null);break;case"focusout":Oa=tc=Tn=null;break;case"mousedown":rc=!0;break;case"contextmenu":case"mouseup":case"dragend":rc=!1,of(X,o,G);break;case"selectionchange":if(xv)break;case"keydown":case"keyup":of(X,o,G)}var ke;if(Xl)e:{switch(r){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else En?Gh(r,o)&&(Ee="onCompositionEnd"):r==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Wh&&o.locale!=="ko"&&(En||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&En&&(ke=Bh()):(ks=G,Wl="value"in ks?ks.value:ks.textContent,En=!0)),we=eo(z,Ee),0<we.length&&(Ee=new Fh(Ee,r,null,o,G),X.push({event:Ee,listeners:we}),ke?Ee.data=ke:(ke=Jh(o),ke!==null&&(Ee.data=ke)))),(ke=iv?ov(r,o):lv(r,o))&&(z=eo(z,"onBeforeInput"),0<z.length&&(G=new Fh("onBeforeInput","beforeinput",null,o,G),X.push({event:G,listeners:z}),G.data=ke))}gf(X,a)})}function $a(r,a,o){return{instance:r,listener:a,currentTarget:o}}function eo(r,a){for(var o=a+"Capture",u=[];r!==null;){var f=r,x=f.stateNode;f.tag===5&&x!==null&&(f=x,x=ft(r,o),x!=null&&u.unshift($a(r,x,f)),x=ft(r,a),x!=null&&u.push($a(r,x,f))),r=r.return}return u}function Pn(r){if(r===null)return null;do r=r.return;while(r&&r.tag!==5);return r||null}function xf(r,a,o,u,f){for(var x=a._reactName,b=[];o!==null&&o!==u;){var A=o,R=A.alternate,z=A.stateNode;if(R!==null&&R===u)break;A.tag===5&&z!==null&&(A=z,f?(R=ft(o,x),R!=null&&b.unshift($a(o,R,A))):f||(R=ft(o,x),R!=null&&b.push($a(o,R,A)))),o=o.return}b.length!==0&&r.push({event:a,listeners:b})}var kv=/\r\n?/g,jv=/\u0000|\uFFFD/g;function vf(r){return(typeof r=="string"?r:""+r).replace(kv,`
`).replace(jv,"")}function to(r,a,o){if(a=vf(a),vf(r)!==a&&o)throw Error(s(425))}function ro(){}var lc=null,cc=null;function dc(r,a){return r==="textarea"||r==="noscript"||typeof a.children=="string"||typeof a.children=="number"||typeof a.dangerouslySetInnerHTML=="object"&&a.dangerouslySetInnerHTML!==null&&a.dangerouslySetInnerHTML.__html!=null}var uc=typeof setTimeout=="function"?setTimeout:void 0,Nv=typeof clearTimeout=="function"?clearTimeout:void 0,bf=typeof Promise=="function"?Promise:void 0,_v=typeof queueMicrotask=="function"?queueMicrotask:typeof bf<"u"?function(r){return bf.resolve(null).then(r).catch(Sv)}:uc;function Sv(r){setTimeout(function(){throw r})}function hc(r,a){var o=a,u=0;do{var f=o.nextSibling;if(r.removeChild(o),f&&f.nodeType===8)if(o=f.data,o==="/$"){if(u===0){r.removeChild(f),Ta(a);return}u--}else o!=="$"&&o!=="$?"&&o!=="$!"||u++;o=f}while(o);Ta(a)}function Ns(r){for(;r!=null;r=r.nextSibling){var a=r.nodeType;if(a===1||a===3)break;if(a===8){if(a=r.data,a==="$"||a==="$!"||a==="$?")break;if(a==="/$")return null}}return r}function wf(r){r=r.previousSibling;for(var a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="$"||o==="$!"||o==="$?"){if(a===0)return r;a--}else o==="/$"&&a++}r=r.previousSibling}return null}var An=Math.random().toString(36).slice(2),Or="__reactFiber$"+An,Ua="__reactProps$"+An,qr="__reactContainer$"+An,fc="__reactEvents$"+An,Ev="__reactListeners$"+An,Tv="__reactHandles$"+An;function Js(r){var a=r[Or];if(a)return a;for(var o=r.parentNode;o;){if(a=o[qr]||o[Or]){if(o=a.alternate,a.child!==null||o!==null&&o.child!==null)for(r=wf(r);r!==null;){if(o=r[Or])return o;r=wf(r)}return a}r=o,o=r.parentNode}return null}function Ba(r){return r=r[Or]||r[qr],!r||r.tag!==5&&r.tag!==6&&r.tag!==13&&r.tag!==3?null:r}function Rn(r){if(r.tag===5||r.tag===6)return r.stateNode;throw Error(s(33))}function so(r){return r[Ua]||null}var mc=[],In=-1;function _s(r){return{current:r}}function Fe(r){0>In||(r.current=mc[In],mc[In]=null,In--)}function Ue(r,a){In++,mc[In]=r.current,r.current=a}var Ss={},Nt=_s(Ss),Ut=_s(!1),Ys=Ss;function Dn(r,a){var o=r.type.contextTypes;if(!o)return Ss;var u=r.stateNode;if(u&&u.__reactInternalMemoizedUnmaskedChildContext===a)return u.__reactInternalMemoizedMaskedChildContext;var f={},x;for(x in o)f[x]=a[x];return u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=a,r.__reactInternalMemoizedMaskedChildContext=f),f}function Bt(r){return r=r.childContextTypes,r!=null}function no(){Fe(Ut),Fe(Nt)}function kf(r,a,o){if(Nt.current!==Ss)throw Error(s(168));Ue(Nt,a),Ue(Ut,o)}function jf(r,a,o){var u=r.stateNode;if(a=a.childContextTypes,typeof u.getChildContext!="function")return o;u=u.getChildContext();for(var f in u)if(!(f in a))throw Error(s(108,Re(r)||"Unknown",f));return K({},o,u)}function ao(r){return r=(r=r.stateNode)&&r.__reactInternalMemoizedMergedChildContext||Ss,Ys=Nt.current,Ue(Nt,r),Ue(Ut,Ut.current),!0}function Nf(r,a,o){var u=r.stateNode;if(!u)throw Error(s(169));o?(r=jf(r,a,Ys),u.__reactInternalMemoizedMergedChildContext=r,Fe(Ut),Fe(Nt),Ue(Nt,r)):Fe(Ut),Ue(Ut,o)}var Gr=null,io=!1,pc=!1;function _f(r){Gr===null?Gr=[r]:Gr.push(r)}function Cv(r){io=!0,_f(r)}function Es(){if(!pc&&Gr!==null){pc=!0;var r=0,a=Le;try{var o=Gr;for(Le=1;r<o.length;r++){var u=o[r];do u=u(!0);while(u!==null)}Gr=null,io=!1}catch(f){throw Gr!==null&&(Gr=Gr.slice(r+1)),Sh(Ll,Es),f}finally{Le=a,pc=!1}}return null}var On=[],Mn=0,oo=null,lo=0,ir=[],or=0,Xs=null,Jr=1,Yr="";function Qs(r,a){On[Mn++]=lo,On[Mn++]=oo,oo=r,lo=a}function Sf(r,a,o){ir[or++]=Jr,ir[or++]=Yr,ir[or++]=Xs,Xs=r;var u=Jr;r=Yr;var f=32-vr(u)-1;u&=~(1<<f),o+=1;var x=32-vr(a)+f;if(30<x){var b=f-f%5;x=(u&(1<<b)-1).toString(32),u>>=b,f-=b,Jr=1<<32-vr(a)+f|o<<f|u,Yr=x+r}else Jr=1<<x|o<<f|u,Yr=r}function gc(r){r.return!==null&&(Qs(r,1),Sf(r,1,0))}function yc(r){for(;r===oo;)oo=On[--Mn],On[Mn]=null,lo=On[--Mn],On[Mn]=null;for(;r===Xs;)Xs=ir[--or],ir[or]=null,Yr=ir[--or],ir[or]=null,Jr=ir[--or],ir[or]=null}var Yt=null,Xt=null,He=!1,wr=null;function Ef(r,a){var o=ur(5,null,null,0);o.elementType="DELETED",o.stateNode=a,o.return=r,a=r.deletions,a===null?(r.deletions=[o],r.flags|=16):a.push(o)}function Tf(r,a){switch(r.tag){case 5:var o=r.type;return a=a.nodeType!==1||o.toLowerCase()!==a.nodeName.toLowerCase()?null:a,a!==null?(r.stateNode=a,Yt=r,Xt=Ns(a.firstChild),!0):!1;case 6:return a=r.pendingProps===""||a.nodeType!==3?null:a,a!==null?(r.stateNode=a,Yt=r,Xt=null,!0):!1;case 13:return a=a.nodeType!==8?null:a,a!==null?(o=Xs!==null?{id:Jr,overflow:Yr}:null,r.memoizedState={dehydrated:a,treeContext:o,retryLane:1073741824},o=ur(18,null,null,0),o.stateNode=a,o.return=r,r.child=o,Yt=r,Xt=null,!0):!1;default:return!1}}function xc(r){return(r.mode&1)!==0&&(r.flags&128)===0}function vc(r){if(He){var a=Xt;if(a){var o=a;if(!Tf(r,a)){if(xc(r))throw Error(s(418));a=Ns(o.nextSibling);var u=Yt;a&&Tf(r,a)?Ef(u,o):(r.flags=r.flags&-4097|2,He=!1,Yt=r)}}else{if(xc(r))throw Error(s(418));r.flags=r.flags&-4097|2,He=!1,Yt=r}}}function Cf(r){for(r=r.return;r!==null&&r.tag!==5&&r.tag!==3&&r.tag!==13;)r=r.return;Yt=r}function co(r){if(r!==Yt)return!1;if(!He)return Cf(r),He=!0,!1;var a;if((a=r.tag!==3)&&!(a=r.tag!==5)&&(a=r.type,a=a!=="head"&&a!=="body"&&!dc(r.type,r.memoizedProps)),a&&(a=Xt)){if(xc(r))throw Pf(),Error(s(418));for(;a;)Ef(r,a),a=Ns(a.nextSibling)}if(Cf(r),r.tag===13){if(r=r.memoizedState,r=r!==null?r.dehydrated:null,!r)throw Error(s(317));e:{for(r=r.nextSibling,a=0;r;){if(r.nodeType===8){var o=r.data;if(o==="/$"){if(a===0){Xt=Ns(r.nextSibling);break e}a--}else o!=="$"&&o!=="$!"&&o!=="$?"||a++}r=r.nextSibling}Xt=null}}else Xt=Yt?Ns(r.stateNode.nextSibling):null;return!0}function Pf(){for(var r=Xt;r;)r=Ns(r.nextSibling)}function Ln(){Xt=Yt=null,He=!1}function bc(r){wr===null?wr=[r]:wr.push(r)}var Pv=D.ReactCurrentBatchConfig;function Va(r,a,o){if(r=o.ref,r!==null&&typeof r!="function"&&typeof r!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(s(309));var u=o.stateNode}if(!u)throw Error(s(147,r));var f=u,x=""+r;return a!==null&&a.ref!==null&&typeof a.ref=="function"&&a.ref._stringRef===x?a.ref:(a=function(b){var A=f.refs;b===null?delete A[x]:A[x]=b},a._stringRef=x,a)}if(typeof r!="string")throw Error(s(284));if(!o._owner)throw Error(s(290,r))}return r}function uo(r,a){throw r=Object.prototype.toString.call(a),Error(s(31,r==="[object Object]"?"object with keys {"+Object.keys(a).join(", ")+"}":r))}function Af(r){var a=r._init;return a(r._payload)}function Rf(r){function a(U,I){if(r){var V=U.deletions;V===null?(U.deletions=[I],U.flags|=16):V.push(I)}}function o(U,I){if(!r)return null;for(;I!==null;)a(U,I),I=I.sibling;return null}function u(U,I){for(U=new Map;I!==null;)I.key!==null?U.set(I.key,I):U.set(I.index,I),I=I.sibling;return U}function f(U,I){return U=Os(U,I),U.index=0,U.sibling=null,U}function x(U,I,V){return U.index=V,r?(V=U.alternate,V!==null?(V=V.index,V<I?(U.flags|=2,I):V):(U.flags|=2,I)):(U.flags|=1048576,I)}function b(U){return r&&U.alternate===null&&(U.flags|=2),U}function A(U,I,V,Q){return I===null||I.tag!==6?(I=ud(V,U.mode,Q),I.return=U,I):(I=f(I,V),I.return=U,I)}function R(U,I,V,Q){var pe=V.type;return pe===L?G(U,I,V.props.children,Q,V.key):I!==null&&(I.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ge&&Af(pe)===I.type)?(Q=f(I,V.props),Q.ref=Va(U,I,V),Q.return=U,Q):(Q=Oo(V.type,V.key,V.props,null,U.mode,Q),Q.ref=Va(U,I,V),Q.return=U,Q)}function z(U,I,V,Q){return I===null||I.tag!==4||I.stateNode.containerInfo!==V.containerInfo||I.stateNode.implementation!==V.implementation?(I=hd(V,U.mode,Q),I.return=U,I):(I=f(I,V.children||[]),I.return=U,I)}function G(U,I,V,Q,pe){return I===null||I.tag!==7?(I=on(V,U.mode,Q,pe),I.return=U,I):(I=f(I,V),I.return=U,I)}function X(U,I,V){if(typeof I=="string"&&I!==""||typeof I=="number")return I=ud(""+I,U.mode,V),I.return=U,I;if(typeof I=="object"&&I!==null){switch(I.$$typeof){case $:return V=Oo(I.type,I.key,I.props,null,U.mode,V),V.ref=Va(U,null,I),V.return=U,V;case B:return I=hd(I,U.mode,V),I.return=U,I;case ge:var Q=I._init;return X(U,Q(I._payload),V)}if(Wr(I)||ie(I))return I=on(I,U.mode,V,null),I.return=U,I;uo(U,I)}return null}function q(U,I,V,Q){var pe=I!==null?I.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return pe!==null?null:A(U,I,""+V,Q);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case $:return V.key===pe?R(U,I,V,Q):null;case B:return V.key===pe?z(U,I,V,Q):null;case ge:return pe=V._init,q(U,I,pe(V._payload),Q)}if(Wr(V)||ie(V))return pe!==null?null:G(U,I,V,Q,null);uo(U,V)}return null}function ae(U,I,V,Q,pe){if(typeof Q=="string"&&Q!==""||typeof Q=="number")return U=U.get(V)||null,A(I,U,""+Q,pe);if(typeof Q=="object"&&Q!==null){switch(Q.$$typeof){case $:return U=U.get(Q.key===null?V:Q.key)||null,R(I,U,Q,pe);case B:return U=U.get(Q.key===null?V:Q.key)||null,z(I,U,Q,pe);case ge:var we=Q._init;return ae(U,I,V,we(Q._payload),pe)}if(Wr(Q)||ie(Q))return U=U.get(V)||null,G(I,U,Q,pe,null);uo(I,Q)}return null}function de(U,I,V,Q){for(var pe=null,we=null,ke=I,Ee=I=0,gt=null;ke!==null&&Ee<V.length;Ee++){ke.index>Ee?(gt=ke,ke=null):gt=ke.sibling;var Me=q(U,ke,V[Ee],Q);if(Me===null){ke===null&&(ke=gt);break}r&&ke&&Me.alternate===null&&a(U,ke),I=x(Me,I,Ee),we===null?pe=Me:we.sibling=Me,we=Me,ke=gt}if(Ee===V.length)return o(U,ke),He&&Qs(U,Ee),pe;if(ke===null){for(;Ee<V.length;Ee++)ke=X(U,V[Ee],Q),ke!==null&&(I=x(ke,I,Ee),we===null?pe=ke:we.sibling=ke,we=ke);return He&&Qs(U,Ee),pe}for(ke=u(U,ke);Ee<V.length;Ee++)gt=ae(ke,U,Ee,V[Ee],Q),gt!==null&&(r&&gt.alternate!==null&&ke.delete(gt.key===null?Ee:gt.key),I=x(gt,I,Ee),we===null?pe=gt:we.sibling=gt,we=gt);return r&&ke.forEach(function(Ms){return a(U,Ms)}),He&&Qs(U,Ee),pe}function me(U,I,V,Q){var pe=ie(V);if(typeof pe!="function")throw Error(s(150));if(V=pe.call(V),V==null)throw Error(s(151));for(var we=pe=null,ke=I,Ee=I=0,gt=null,Me=V.next();ke!==null&&!Me.done;Ee++,Me=V.next()){ke.index>Ee?(gt=ke,ke=null):gt=ke.sibling;var Ms=q(U,ke,Me.value,Q);if(Ms===null){ke===null&&(ke=gt);break}r&&ke&&Ms.alternate===null&&a(U,ke),I=x(Ms,I,Ee),we===null?pe=Ms:we.sibling=Ms,we=Ms,ke=gt}if(Me.done)return o(U,ke),He&&Qs(U,Ee),pe;if(ke===null){for(;!Me.done;Ee++,Me=V.next())Me=X(U,Me.value,Q),Me!==null&&(I=x(Me,I,Ee),we===null?pe=Me:we.sibling=Me,we=Me);return He&&Qs(U,Ee),pe}for(ke=u(U,ke);!Me.done;Ee++,Me=V.next())Me=ae(ke,U,Ee,Me.value,Q),Me!==null&&(r&&Me.alternate!==null&&ke.delete(Me.key===null?Ee:Me.key),I=x(Me,I,Ee),we===null?pe=Me:we.sibling=Me,we=Me);return r&&ke.forEach(function(cb){return a(U,cb)}),He&&Qs(U,Ee),pe}function et(U,I,V,Q){if(typeof V=="object"&&V!==null&&V.type===L&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case $:e:{for(var pe=V.key,we=I;we!==null;){if(we.key===pe){if(pe=V.type,pe===L){if(we.tag===7){o(U,we.sibling),I=f(we,V.props.children),I.return=U,U=I;break e}}else if(we.elementType===pe||typeof pe=="object"&&pe!==null&&pe.$$typeof===ge&&Af(pe)===we.type){o(U,we.sibling),I=f(we,V.props),I.ref=Va(U,we,V),I.return=U,U=I;break e}o(U,we);break}else a(U,we);we=we.sibling}V.type===L?(I=on(V.props.children,U.mode,Q,V.key),I.return=U,U=I):(Q=Oo(V.type,V.key,V.props,null,U.mode,Q),Q.ref=Va(U,I,V),Q.return=U,U=Q)}return b(U);case B:e:{for(we=V.key;I!==null;){if(I.key===we)if(I.tag===4&&I.stateNode.containerInfo===V.containerInfo&&I.stateNode.implementation===V.implementation){o(U,I.sibling),I=f(I,V.children||[]),I.return=U,U=I;break e}else{o(U,I);break}else a(U,I);I=I.sibling}I=hd(V,U.mode,Q),I.return=U,U=I}return b(U);case ge:return we=V._init,et(U,I,we(V._payload),Q)}if(Wr(V))return de(U,I,V,Q);if(ie(V))return me(U,I,V,Q);uo(U,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,I!==null&&I.tag===6?(o(U,I.sibling),I=f(I,V),I.return=U,U=I):(o(U,I),I=ud(V,U.mode,Q),I.return=U,U=I),b(U)):o(U,I)}return et}var $n=Rf(!0),If=Rf(!1),ho=_s(null),fo=null,Un=null,wc=null;function kc(){wc=Un=fo=null}function jc(r){var a=ho.current;Fe(ho),r._currentValue=a}function Nc(r,a,o){for(;r!==null;){var u=r.alternate;if((r.childLanes&a)!==a?(r.childLanes|=a,u!==null&&(u.childLanes|=a)):u!==null&&(u.childLanes&a)!==a&&(u.childLanes|=a),r===o)break;r=r.return}}function Bn(r,a){fo=r,wc=Un=null,r=r.dependencies,r!==null&&r.firstContext!==null&&((r.lanes&a)!==0&&(Vt=!0),r.firstContext=null)}function lr(r){var a=r._currentValue;if(wc!==r)if(r={context:r,memoizedValue:a,next:null},Un===null){if(fo===null)throw Error(s(308));Un=r,fo.dependencies={lanes:0,firstContext:r}}else Un=Un.next=r;return a}var Zs=null;function _c(r){Zs===null?Zs=[r]:Zs.push(r)}function Df(r,a,o,u){var f=a.interleaved;return f===null?(o.next=o,_c(a)):(o.next=f.next,f.next=o),a.interleaved=o,Xr(r,u)}function Xr(r,a){r.lanes|=a;var o=r.alternate;for(o!==null&&(o.lanes|=a),o=r,r=r.return;r!==null;)r.childLanes|=a,o=r.alternate,o!==null&&(o.childLanes|=a),o=r,r=r.return;return o.tag===3?o.stateNode:null}var Ts=!1;function Sc(r){r.updateQueue={baseState:r.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Of(r,a){r=r.updateQueue,a.updateQueue===r&&(a.updateQueue={baseState:r.baseState,firstBaseUpdate:r.firstBaseUpdate,lastBaseUpdate:r.lastBaseUpdate,shared:r.shared,effects:r.effects})}function Qr(r,a){return{eventTime:r,lane:a,tag:0,payload:null,callback:null,next:null}}function Cs(r,a,o){var u=r.updateQueue;if(u===null)return null;if(u=u.shared,(Oe&2)!==0){var f=u.pending;return f===null?a.next=a:(a.next=f.next,f.next=a),u.pending=a,Xr(r,o)}return f=u.interleaved,f===null?(a.next=a,_c(u)):(a.next=f.next,f.next=a),u.interleaved=a,Xr(r,o)}function mo(r,a,o){if(a=a.updateQueue,a!==null&&(a=a.shared,(o&4194240)!==0)){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Bl(r,o)}}function Mf(r,a){var o=r.updateQueue,u=r.alternate;if(u!==null&&(u=u.updateQueue,o===u)){var f=null,x=null;if(o=o.firstBaseUpdate,o!==null){do{var b={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};x===null?f=x=b:x=x.next=b,o=o.next}while(o!==null);x===null?f=x=a:x=x.next=a}else f=x=a;o={baseState:u.baseState,firstBaseUpdate:f,lastBaseUpdate:x,shared:u.shared,effects:u.effects},r.updateQueue=o;return}r=o.lastBaseUpdate,r===null?o.firstBaseUpdate=a:r.next=a,o.lastBaseUpdate=a}function po(r,a,o,u){var f=r.updateQueue;Ts=!1;var x=f.firstBaseUpdate,b=f.lastBaseUpdate,A=f.shared.pending;if(A!==null){f.shared.pending=null;var R=A,z=R.next;R.next=null,b===null?x=z:b.next=z,b=R;var G=r.alternate;G!==null&&(G=G.updateQueue,A=G.lastBaseUpdate,A!==b&&(A===null?G.firstBaseUpdate=z:A.next=z,G.lastBaseUpdate=R))}if(x!==null){var X=f.baseState;b=0,G=z=R=null,A=x;do{var q=A.lane,ae=A.eventTime;if((u&q)===q){G!==null&&(G=G.next={eventTime:ae,lane:0,tag:A.tag,payload:A.payload,callback:A.callback,next:null});e:{var de=r,me=A;switch(q=a,ae=o,me.tag){case 1:if(de=me.payload,typeof de=="function"){X=de.call(ae,X,q);break e}X=de;break e;case 3:de.flags=de.flags&-65537|128;case 0:if(de=me.payload,q=typeof de=="function"?de.call(ae,X,q):de,q==null)break e;X=K({},X,q);break e;case 2:Ts=!0}}A.callback!==null&&A.lane!==0&&(r.flags|=64,q=f.effects,q===null?f.effects=[A]:q.push(A))}else ae={eventTime:ae,lane:q,tag:A.tag,payload:A.payload,callback:A.callback,next:null},G===null?(z=G=ae,R=X):G=G.next=ae,b|=q;if(A=A.next,A===null){if(A=f.shared.pending,A===null)break;q=A,A=q.next,q.next=null,f.lastBaseUpdate=q,f.shared.pending=null}}while(!0);if(G===null&&(R=X),f.baseState=R,f.firstBaseUpdate=z,f.lastBaseUpdate=G,a=f.shared.interleaved,a!==null){f=a;do b|=f.lane,f=f.next;while(f!==a)}else x===null&&(f.shared.lanes=0);rn|=b,r.lanes=b,r.memoizedState=X}}function Lf(r,a,o){if(r=a.effects,a.effects=null,r!==null)for(a=0;a<r.length;a++){var u=r[a],f=u.callback;if(f!==null){if(u.callback=null,u=o,typeof f!="function")throw Error(s(191,f));f.call(u)}}}var za={},Mr=_s(za),Fa=_s(za),Ha=_s(za);function en(r){if(r===za)throw Error(s(174));return r}function Ec(r,a){switch(Ue(Ha,a),Ue(Fa,r),Ue(Mr,za),r=a.nodeType,r){case 9:case 11:a=(a=a.documentElement)?a.namespaceURI:hs(null,"");break;default:r=r===8?a.parentNode:a,a=r.namespaceURI||null,r=r.tagName,a=hs(a,r)}Fe(Mr),Ue(Mr,a)}function Vn(){Fe(Mr),Fe(Fa),Fe(Ha)}function $f(r){en(Ha.current);var a=en(Mr.current),o=hs(a,r.type);a!==o&&(Ue(Fa,r),Ue(Mr,o))}function Tc(r){Fa.current===r&&(Fe(Mr),Fe(Fa))}var Ke=_s(0);function go(r){for(var a=r;a!==null;){if(a.tag===13){var o=a.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return a}else if(a.tag===19&&a.memoizedProps.revealOrder!==void 0){if((a.flags&128)!==0)return a}else if(a.child!==null){a.child.return=a,a=a.child;continue}if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return null;a=a.return}a.sibling.return=a.return,a=a.sibling}return null}var Cc=[];function Pc(){for(var r=0;r<Cc.length;r++)Cc[r]._workInProgressVersionPrimary=null;Cc.length=0}var yo=D.ReactCurrentDispatcher,Ac=D.ReactCurrentBatchConfig,tn=0,qe=null,ct=null,mt=null,xo=!1,Wa=!1,Ka=0,Av=0;function _t(){throw Error(s(321))}function Rc(r,a){if(a===null)return!1;for(var o=0;o<a.length&&o<r.length;o++)if(!br(r[o],a[o]))return!1;return!0}function Ic(r,a,o,u,f,x){if(tn=x,qe=a,a.memoizedState=null,a.updateQueue=null,a.lanes=0,yo.current=r===null||r.memoizedState===null?Ov:Mv,r=o(u,f),Wa){x=0;do{if(Wa=!1,Ka=0,25<=x)throw Error(s(301));x+=1,mt=ct=null,a.updateQueue=null,yo.current=Lv,r=o(u,f)}while(Wa)}if(yo.current=wo,a=ct!==null&&ct.next!==null,tn=0,mt=ct=qe=null,xo=!1,a)throw Error(s(300));return r}function Dc(){var r=Ka!==0;return Ka=0,r}function Lr(){var r={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?qe.memoizedState=mt=r:mt=mt.next=r,mt}function cr(){if(ct===null){var r=qe.alternate;r=r!==null?r.memoizedState:null}else r=ct.next;var a=mt===null?qe.memoizedState:mt.next;if(a!==null)mt=a,ct=r;else{if(r===null)throw Error(s(310));ct=r,r={memoizedState:ct.memoizedState,baseState:ct.baseState,baseQueue:ct.baseQueue,queue:ct.queue,next:null},mt===null?qe.memoizedState=mt=r:mt=mt.next=r}return mt}function qa(r,a){return typeof a=="function"?a(r):a}function Oc(r){var a=cr(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=ct,f=u.baseQueue,x=o.pending;if(x!==null){if(f!==null){var b=f.next;f.next=x.next,x.next=b}u.baseQueue=f=x,o.pending=null}if(f!==null){x=f.next,u=u.baseState;var A=b=null,R=null,z=x;do{var G=z.lane;if((tn&G)===G)R!==null&&(R=R.next={lane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),u=z.hasEagerState?z.eagerState:r(u,z.action);else{var X={lane:G,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null};R===null?(A=R=X,b=u):R=R.next=X,qe.lanes|=G,rn|=G}z=z.next}while(z!==null&&z!==x);R===null?b=u:R.next=A,br(u,a.memoizedState)||(Vt=!0),a.memoizedState=u,a.baseState=b,a.baseQueue=R,o.lastRenderedState=u}if(r=o.interleaved,r!==null){f=r;do x=f.lane,qe.lanes|=x,rn|=x,f=f.next;while(f!==r)}else f===null&&(o.lanes=0);return[a.memoizedState,o.dispatch]}function Mc(r){var a=cr(),o=a.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var u=o.dispatch,f=o.pending,x=a.memoizedState;if(f!==null){o.pending=null;var b=f=f.next;do x=r(x,b.action),b=b.next;while(b!==f);br(x,a.memoizedState)||(Vt=!0),a.memoizedState=x,a.baseQueue===null&&(a.baseState=x),o.lastRenderedState=x}return[x,u]}function Uf(){}function Bf(r,a){var o=qe,u=cr(),f=a(),x=!br(u.memoizedState,f);if(x&&(u.memoizedState=f,Vt=!0),u=u.queue,Lc(Ff.bind(null,o,u,r),[r]),u.getSnapshot!==a||x||mt!==null&&mt.memoizedState.tag&1){if(o.flags|=2048,Ga(9,zf.bind(null,o,u,f,a),void 0,null),pt===null)throw Error(s(349));(tn&30)!==0||Vf(o,a,f)}return f}function Vf(r,a,o){r.flags|=16384,r={getSnapshot:a,value:o},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.stores=[r]):(o=a.stores,o===null?a.stores=[r]:o.push(r))}function zf(r,a,o,u){a.value=o,a.getSnapshot=u,Hf(a)&&Wf(r)}function Ff(r,a,o){return o(function(){Hf(a)&&Wf(r)})}function Hf(r){var a=r.getSnapshot;r=r.value;try{var o=a();return!br(r,o)}catch{return!0}}function Wf(r){var a=Xr(r,1);a!==null&&_r(a,r,1,-1)}function Kf(r){var a=Lr();return typeof r=="function"&&(r=r()),a.memoizedState=a.baseState=r,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:qa,lastRenderedState:r},a.queue=r,r=r.dispatch=Dv.bind(null,qe,r),[a.memoizedState,r]}function Ga(r,a,o,u){return r={tag:r,create:a,destroy:o,deps:u,next:null},a=qe.updateQueue,a===null?(a={lastEffect:null,stores:null},qe.updateQueue=a,a.lastEffect=r.next=r):(o=a.lastEffect,o===null?a.lastEffect=r.next=r:(u=o.next,o.next=r,r.next=u,a.lastEffect=r)),r}function qf(){return cr().memoizedState}function vo(r,a,o,u){var f=Lr();qe.flags|=r,f.memoizedState=Ga(1|a,o,void 0,u===void 0?null:u)}function bo(r,a,o,u){var f=cr();u=u===void 0?null:u;var x=void 0;if(ct!==null){var b=ct.memoizedState;if(x=b.destroy,u!==null&&Rc(u,b.deps)){f.memoizedState=Ga(a,o,x,u);return}}qe.flags|=r,f.memoizedState=Ga(1|a,o,x,u)}function Gf(r,a){return vo(8390656,8,r,a)}function Lc(r,a){return bo(2048,8,r,a)}function Jf(r,a){return bo(4,2,r,a)}function Yf(r,a){return bo(4,4,r,a)}function Xf(r,a){if(typeof a=="function")return r=r(),a(r),function(){a(null)};if(a!=null)return r=r(),a.current=r,function(){a.current=null}}function Qf(r,a,o){return o=o!=null?o.concat([r]):null,bo(4,4,Xf.bind(null,a,r),o)}function $c(){}function Zf(r,a){var o=cr();a=a===void 0?null:a;var u=o.memoizedState;return u!==null&&a!==null&&Rc(a,u[1])?u[0]:(o.memoizedState=[r,a],r)}function em(r,a){var o=cr();a=a===void 0?null:a;var u=o.memoizedState;return u!==null&&a!==null&&Rc(a,u[1])?u[0]:(r=r(),o.memoizedState=[r,a],r)}function tm(r,a,o){return(tn&21)===0?(r.baseState&&(r.baseState=!1,Vt=!0),r.memoizedState=o):(br(o,a)||(o=Ph(),qe.lanes|=o,rn|=o,r.baseState=!0),a)}function Rv(r,a){var o=Le;Le=o!==0&&4>o?o:4,r(!0);var u=Ac.transition;Ac.transition={};try{r(!1),a()}finally{Le=o,Ac.transition=u}}function rm(){return cr().memoizedState}function Iv(r,a,o){var u=Is(r);if(o={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null},sm(r))nm(a,o);else if(o=Df(r,a,o,u),o!==null){var f=It();_r(o,r,u,f),am(o,a,u)}}function Dv(r,a,o){var u=Is(r),f={lane:u,action:o,hasEagerState:!1,eagerState:null,next:null};if(sm(r))nm(a,f);else{var x=r.alternate;if(r.lanes===0&&(x===null||x.lanes===0)&&(x=a.lastRenderedReducer,x!==null))try{var b=a.lastRenderedState,A=x(b,o);if(f.hasEagerState=!0,f.eagerState=A,br(A,b)){var R=a.interleaved;R===null?(f.next=f,_c(a)):(f.next=R.next,R.next=f),a.interleaved=f;return}}catch{}finally{}o=Df(r,a,f,u),o!==null&&(f=It(),_r(o,r,u,f),am(o,a,u))}}function sm(r){var a=r.alternate;return r===qe||a!==null&&a===qe}function nm(r,a){Wa=xo=!0;var o=r.pending;o===null?a.next=a:(a.next=o.next,o.next=a),r.pending=a}function am(r,a,o){if((o&4194240)!==0){var u=a.lanes;u&=r.pendingLanes,o|=u,a.lanes=o,Bl(r,o)}}var wo={readContext:lr,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},Ov={readContext:lr,useCallback:function(r,a){return Lr().memoizedState=[r,a===void 0?null:a],r},useContext:lr,useEffect:Gf,useImperativeHandle:function(r,a,o){return o=o!=null?o.concat([r]):null,vo(4194308,4,Xf.bind(null,a,r),o)},useLayoutEffect:function(r,a){return vo(4194308,4,r,a)},useInsertionEffect:function(r,a){return vo(4,2,r,a)},useMemo:function(r,a){var o=Lr();return a=a===void 0?null:a,r=r(),o.memoizedState=[r,a],r},useReducer:function(r,a,o){var u=Lr();return a=o!==void 0?o(a):a,u.memoizedState=u.baseState=a,r={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:r,lastRenderedState:a},u.queue=r,r=r.dispatch=Iv.bind(null,qe,r),[u.memoizedState,r]},useRef:function(r){var a=Lr();return r={current:r},a.memoizedState=r},useState:Kf,useDebugValue:$c,useDeferredValue:function(r){return Lr().memoizedState=r},useTransition:function(){var r=Kf(!1),a=r[0];return r=Rv.bind(null,r[1]),Lr().memoizedState=r,[a,r]},useMutableSource:function(){},useSyncExternalStore:function(r,a,o){var u=qe,f=Lr();if(He){if(o===void 0)throw Error(s(407));o=o()}else{if(o=a(),pt===null)throw Error(s(349));(tn&30)!==0||Vf(u,a,o)}f.memoizedState=o;var x={value:o,getSnapshot:a};return f.queue=x,Gf(Ff.bind(null,u,x,r),[r]),u.flags|=2048,Ga(9,zf.bind(null,u,x,o,a),void 0,null),o},useId:function(){var r=Lr(),a=pt.identifierPrefix;if(He){var o=Yr,u=Jr;o=(u&~(1<<32-vr(u)-1)).toString(32)+o,a=":"+a+"R"+o,o=Ka++,0<o&&(a+="H"+o.toString(32)),a+=":"}else o=Av++,a=":"+a+"r"+o.toString(32)+":";return r.memoizedState=a},unstable_isNewReconciler:!1},Mv={readContext:lr,useCallback:Zf,useContext:lr,useEffect:Lc,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:Yf,useMemo:em,useReducer:Oc,useRef:qf,useState:function(){return Oc(qa)},useDebugValue:$c,useDeferredValue:function(r){var a=cr();return tm(a,ct.memoizedState,r)},useTransition:function(){var r=Oc(qa)[0],a=cr().memoizedState;return[r,a]},useMutableSource:Uf,useSyncExternalStore:Bf,useId:rm,unstable_isNewReconciler:!1},Lv={readContext:lr,useCallback:Zf,useContext:lr,useEffect:Lc,useImperativeHandle:Qf,useInsertionEffect:Jf,useLayoutEffect:Yf,useMemo:em,useReducer:Mc,useRef:qf,useState:function(){return Mc(qa)},useDebugValue:$c,useDeferredValue:function(r){var a=cr();return ct===null?a.memoizedState=r:tm(a,ct.memoizedState,r)},useTransition:function(){var r=Mc(qa)[0],a=cr().memoizedState;return[r,a]},useMutableSource:Uf,useSyncExternalStore:Bf,useId:rm,unstable_isNewReconciler:!1};function kr(r,a){if(r&&r.defaultProps){a=K({},a),r=r.defaultProps;for(var o in r)a[o]===void 0&&(a[o]=r[o]);return a}return a}function Uc(r,a,o,u){a=r.memoizedState,o=o(u,a),o=o==null?a:K({},a,o),r.memoizedState=o,r.lanes===0&&(r.updateQueue.baseState=o)}var ko={isMounted:function(r){return(r=r._reactInternals)?Gs(r)===r:!1},enqueueSetState:function(r,a,o){r=r._reactInternals;var u=It(),f=Is(r),x=Qr(u,f);x.payload=a,o!=null&&(x.callback=o),a=Cs(r,x,f),a!==null&&(_r(a,r,f,u),mo(a,r,f))},enqueueReplaceState:function(r,a,o){r=r._reactInternals;var u=It(),f=Is(r),x=Qr(u,f);x.tag=1,x.payload=a,o!=null&&(x.callback=o),a=Cs(r,x,f),a!==null&&(_r(a,r,f,u),mo(a,r,f))},enqueueForceUpdate:function(r,a){r=r._reactInternals;var o=It(),u=Is(r),f=Qr(o,u);f.tag=2,a!=null&&(f.callback=a),a=Cs(r,f,u),a!==null&&(_r(a,r,u,o),mo(a,r,u))}};function im(r,a,o,u,f,x,b){return r=r.stateNode,typeof r.shouldComponentUpdate=="function"?r.shouldComponentUpdate(u,x,b):a.prototype&&a.prototype.isPureReactComponent?!Da(o,u)||!Da(f,x):!0}function om(r,a,o){var u=!1,f=Ss,x=a.contextType;return typeof x=="object"&&x!==null?x=lr(x):(f=Bt(a)?Ys:Nt.current,u=a.contextTypes,x=(u=u!=null)?Dn(r,f):Ss),a=new a(o,x),r.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,a.updater=ko,r.stateNode=a,a._reactInternals=r,u&&(r=r.stateNode,r.__reactInternalMemoizedUnmaskedChildContext=f,r.__reactInternalMemoizedMaskedChildContext=x),a}function lm(r,a,o,u){r=a.state,typeof a.componentWillReceiveProps=="function"&&a.componentWillReceiveProps(o,u),typeof a.UNSAFE_componentWillReceiveProps=="function"&&a.UNSAFE_componentWillReceiveProps(o,u),a.state!==r&&ko.enqueueReplaceState(a,a.state,null)}function Bc(r,a,o,u){var f=r.stateNode;f.props=o,f.state=r.memoizedState,f.refs={},Sc(r);var x=a.contextType;typeof x=="object"&&x!==null?f.context=lr(x):(x=Bt(a)?Ys:Nt.current,f.context=Dn(r,x)),f.state=r.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Uc(r,a,x,o),f.state=r.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(a=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),a!==f.state&&ko.enqueueReplaceState(f,f.state,null),po(r,o,f,u),f.state=r.memoizedState),typeof f.componentDidMount=="function"&&(r.flags|=4194308)}function zn(r,a){try{var o="",u=a;do o+=xe(u),u=u.return;while(u);var f=o}catch(x){f=`
Error generating stack: `+x.message+`
`+x.stack}return{value:r,source:a,stack:f,digest:null}}function Vc(r,a,o){return{value:r,source:null,stack:o??null,digest:a??null}}function zc(r,a){try{console.error(a.value)}catch(o){setTimeout(function(){throw o})}}var $v=typeof WeakMap=="function"?WeakMap:Map;function cm(r,a,o){o=Qr(-1,o),o.tag=3,o.payload={element:null};var u=a.value;return o.callback=function(){Co||(Co=!0,sd=u),zc(r,a)},o}function dm(r,a,o){o=Qr(-1,o),o.tag=3;var u=r.type.getDerivedStateFromError;if(typeof u=="function"){var f=a.value;o.payload=function(){return u(f)},o.callback=function(){zc(r,a)}}var x=r.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(o.callback=function(){zc(r,a),typeof u!="function"&&(As===null?As=new Set([this]):As.add(this));var b=a.stack;this.componentDidCatch(a.value,{componentStack:b!==null?b:""})}),o}function um(r,a,o){var u=r.pingCache;if(u===null){u=r.pingCache=new $v;var f=new Set;u.set(a,f)}else f=u.get(a),f===void 0&&(f=new Set,u.set(a,f));f.has(o)||(f.add(o),r=Qv.bind(null,r,a,o),a.then(r,r))}function hm(r){do{var a;if((a=r.tag===13)&&(a=r.memoizedState,a=a!==null?a.dehydrated!==null:!0),a)return r;r=r.return}while(r!==null);return null}function fm(r,a,o,u,f){return(r.mode&1)===0?(r===a?r.flags|=65536:(r.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(a=Qr(-1,1),a.tag=2,Cs(o,a,1))),o.lanes|=1),r):(r.flags|=65536,r.lanes=f,r)}var Uv=D.ReactCurrentOwner,Vt=!1;function Rt(r,a,o,u){a.child=r===null?If(a,null,o,u):$n(a,r.child,o,u)}function mm(r,a,o,u,f){o=o.render;var x=a.ref;return Bn(a,f),u=Ic(r,a,o,u,x,f),o=Dc(),r!==null&&!Vt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f,Zr(r,a,f)):(He&&o&&gc(a),a.flags|=1,Rt(r,a,u,f),a.child)}function pm(r,a,o,u,f){if(r===null){var x=o.type;return typeof x=="function"&&!dd(x)&&x.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(a.tag=15,a.type=x,gm(r,a,x,u,f)):(r=Oo(o.type,null,u,a,a.mode,f),r.ref=a.ref,r.return=a,a.child=r)}if(x=r.child,(r.lanes&f)===0){var b=x.memoizedProps;if(o=o.compare,o=o!==null?o:Da,o(b,u)&&r.ref===a.ref)return Zr(r,a,f)}return a.flags|=1,r=Os(x,u),r.ref=a.ref,r.return=a,a.child=r}function gm(r,a,o,u,f){if(r!==null){var x=r.memoizedProps;if(Da(x,u)&&r.ref===a.ref)if(Vt=!1,a.pendingProps=u=x,(r.lanes&f)!==0)(r.flags&131072)!==0&&(Vt=!0);else return a.lanes=r.lanes,Zr(r,a,f)}return Fc(r,a,o,u,f)}function ym(r,a,o){var u=a.pendingProps,f=u.children,x=r!==null?r.memoizedState:null;if(u.mode==="hidden")if((a.mode&1)===0)a.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ue(Hn,Qt),Qt|=o;else{if((o&1073741824)===0)return r=x!==null?x.baseLanes|o:o,a.lanes=a.childLanes=1073741824,a.memoizedState={baseLanes:r,cachePool:null,transitions:null},a.updateQueue=null,Ue(Hn,Qt),Qt|=r,null;a.memoizedState={baseLanes:0,cachePool:null,transitions:null},u=x!==null?x.baseLanes:o,Ue(Hn,Qt),Qt|=u}else x!==null?(u=x.baseLanes|o,a.memoizedState=null):u=o,Ue(Hn,Qt),Qt|=u;return Rt(r,a,f,o),a.child}function xm(r,a){var o=a.ref;(r===null&&o!==null||r!==null&&r.ref!==o)&&(a.flags|=512,a.flags|=2097152)}function Fc(r,a,o,u,f){var x=Bt(o)?Ys:Nt.current;return x=Dn(a,x),Bn(a,f),o=Ic(r,a,o,u,x,f),u=Dc(),r!==null&&!Vt?(a.updateQueue=r.updateQueue,a.flags&=-2053,r.lanes&=~f,Zr(r,a,f)):(He&&u&&gc(a),a.flags|=1,Rt(r,a,o,f),a.child)}function vm(r,a,o,u,f){if(Bt(o)){var x=!0;ao(a)}else x=!1;if(Bn(a,f),a.stateNode===null)No(r,a),om(a,o,u),Bc(a,o,u,f),u=!0;else if(r===null){var b=a.stateNode,A=a.memoizedProps;b.props=A;var R=b.context,z=o.contextType;typeof z=="object"&&z!==null?z=lr(z):(z=Bt(o)?Ys:Nt.current,z=Dn(a,z));var G=o.getDerivedStateFromProps,X=typeof G=="function"||typeof b.getSnapshotBeforeUpdate=="function";X||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==u||R!==z)&&lm(a,b,u,z),Ts=!1;var q=a.memoizedState;b.state=q,po(a,u,b,f),R=a.memoizedState,A!==u||q!==R||Ut.current||Ts?(typeof G=="function"&&(Uc(a,o,G,u),R=a.memoizedState),(A=Ts||im(a,o,A,u,q,R,z))?(X||typeof b.UNSAFE_componentWillMount!="function"&&typeof b.componentWillMount!="function"||(typeof b.componentWillMount=="function"&&b.componentWillMount(),typeof b.UNSAFE_componentWillMount=="function"&&b.UNSAFE_componentWillMount()),typeof b.componentDidMount=="function"&&(a.flags|=4194308)):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),a.memoizedProps=u,a.memoizedState=R),b.props=u,b.state=R,b.context=z,u=A):(typeof b.componentDidMount=="function"&&(a.flags|=4194308),u=!1)}else{b=a.stateNode,Of(r,a),A=a.memoizedProps,z=a.type===a.elementType?A:kr(a.type,A),b.props=z,X=a.pendingProps,q=b.context,R=o.contextType,typeof R=="object"&&R!==null?R=lr(R):(R=Bt(o)?Ys:Nt.current,R=Dn(a,R));var ae=o.getDerivedStateFromProps;(G=typeof ae=="function"||typeof b.getSnapshotBeforeUpdate=="function")||typeof b.UNSAFE_componentWillReceiveProps!="function"&&typeof b.componentWillReceiveProps!="function"||(A!==X||q!==R)&&lm(a,b,u,R),Ts=!1,q=a.memoizedState,b.state=q,po(a,u,b,f);var de=a.memoizedState;A!==X||q!==de||Ut.current||Ts?(typeof ae=="function"&&(Uc(a,o,ae,u),de=a.memoizedState),(z=Ts||im(a,o,z,u,q,de,R)||!1)?(G||typeof b.UNSAFE_componentWillUpdate!="function"&&typeof b.componentWillUpdate!="function"||(typeof b.componentWillUpdate=="function"&&b.componentWillUpdate(u,de,R),typeof b.UNSAFE_componentWillUpdate=="function"&&b.UNSAFE_componentWillUpdate(u,de,R)),typeof b.componentDidUpdate=="function"&&(a.flags|=4),typeof b.getSnapshotBeforeUpdate=="function"&&(a.flags|=1024)):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&q===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&q===r.memoizedState||(a.flags|=1024),a.memoizedProps=u,a.memoizedState=de),b.props=u,b.state=de,b.context=R,u=z):(typeof b.componentDidUpdate!="function"||A===r.memoizedProps&&q===r.memoizedState||(a.flags|=4),typeof b.getSnapshotBeforeUpdate!="function"||A===r.memoizedProps&&q===r.memoizedState||(a.flags|=1024),u=!1)}return Hc(r,a,o,u,x,f)}function Hc(r,a,o,u,f,x){xm(r,a);var b=(a.flags&128)!==0;if(!u&&!b)return f&&Nf(a,o,!1),Zr(r,a,x);u=a.stateNode,Uv.current=a;var A=b&&typeof o.getDerivedStateFromError!="function"?null:u.render();return a.flags|=1,r!==null&&b?(a.child=$n(a,r.child,null,x),a.child=$n(a,null,A,x)):Rt(r,a,A,x),a.memoizedState=u.state,f&&Nf(a,o,!0),a.child}function bm(r){var a=r.stateNode;a.pendingContext?kf(r,a.pendingContext,a.pendingContext!==a.context):a.context&&kf(r,a.context,!1),Ec(r,a.containerInfo)}function wm(r,a,o,u,f){return Ln(),bc(f),a.flags|=256,Rt(r,a,o,u),a.child}var Wc={dehydrated:null,treeContext:null,retryLane:0};function Kc(r){return{baseLanes:r,cachePool:null,transitions:null}}function km(r,a,o){var u=a.pendingProps,f=Ke.current,x=!1,b=(a.flags&128)!==0,A;if((A=b)||(A=r!==null&&r.memoizedState===null?!1:(f&2)!==0),A?(x=!0,a.flags&=-129):(r===null||r.memoizedState!==null)&&(f|=1),Ue(Ke,f&1),r===null)return vc(a),r=a.memoizedState,r!==null&&(r=r.dehydrated,r!==null)?((a.mode&1)===0?a.lanes=1:r.data==="$!"?a.lanes=8:a.lanes=1073741824,null):(b=u.children,r=u.fallback,x?(u=a.mode,x=a.child,b={mode:"hidden",children:b},(u&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=b):x=Mo(b,u,0,null),r=on(r,u,o,null),x.return=a,r.return=a,x.sibling=r,a.child=x,a.child.memoizedState=Kc(o),a.memoizedState=Wc,r):qc(a,b));if(f=r.memoizedState,f!==null&&(A=f.dehydrated,A!==null))return Bv(r,a,b,u,A,f,o);if(x){x=u.fallback,b=a.mode,f=r.child,A=f.sibling;var R={mode:"hidden",children:u.children};return(b&1)===0&&a.child!==f?(u=a.child,u.childLanes=0,u.pendingProps=R,a.deletions=null):(u=Os(f,R),u.subtreeFlags=f.subtreeFlags&14680064),A!==null?x=Os(A,x):(x=on(x,b,o,null),x.flags|=2),x.return=a,u.return=a,u.sibling=x,a.child=u,u=x,x=a.child,b=r.child.memoizedState,b=b===null?Kc(o):{baseLanes:b.baseLanes|o,cachePool:null,transitions:b.transitions},x.memoizedState=b,x.childLanes=r.childLanes&~o,a.memoizedState=Wc,u}return x=r.child,r=x.sibling,u=Os(x,{mode:"visible",children:u.children}),(a.mode&1)===0&&(u.lanes=o),u.return=a,u.sibling=null,r!==null&&(o=a.deletions,o===null?(a.deletions=[r],a.flags|=16):o.push(r)),a.child=u,a.memoizedState=null,u}function qc(r,a){return a=Mo({mode:"visible",children:a},r.mode,0,null),a.return=r,r.child=a}function jo(r,a,o,u){return u!==null&&bc(u),$n(a,r.child,null,o),r=qc(a,a.pendingProps.children),r.flags|=2,a.memoizedState=null,r}function Bv(r,a,o,u,f,x,b){if(o)return a.flags&256?(a.flags&=-257,u=Vc(Error(s(422))),jo(r,a,b,u)):a.memoizedState!==null?(a.child=r.child,a.flags|=128,null):(x=u.fallback,f=a.mode,u=Mo({mode:"visible",children:u.children},f,0,null),x=on(x,f,b,null),x.flags|=2,u.return=a,x.return=a,u.sibling=x,a.child=u,(a.mode&1)!==0&&$n(a,r.child,null,b),a.child.memoizedState=Kc(b),a.memoizedState=Wc,x);if((a.mode&1)===0)return jo(r,a,b,null);if(f.data==="$!"){if(u=f.nextSibling&&f.nextSibling.dataset,u)var A=u.dgst;return u=A,x=Error(s(419)),u=Vc(x,u,void 0),jo(r,a,b,u)}if(A=(b&r.childLanes)!==0,Vt||A){if(u=pt,u!==null){switch(b&-b){case 4:f=2;break;case 16:f=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:f=32;break;case 536870912:f=268435456;break;default:f=0}f=(f&(u.suspendedLanes|b))!==0?0:f,f!==0&&f!==x.retryLane&&(x.retryLane=f,Xr(r,f),_r(u,r,f,-1))}return cd(),u=Vc(Error(s(421))),jo(r,a,b,u)}return f.data==="$?"?(a.flags|=128,a.child=r.child,a=Zv.bind(null,r),f._reactRetry=a,null):(r=x.treeContext,Xt=Ns(f.nextSibling),Yt=a,He=!0,wr=null,r!==null&&(ir[or++]=Jr,ir[or++]=Yr,ir[or++]=Xs,Jr=r.id,Yr=r.overflow,Xs=a),a=qc(a,u.children),a.flags|=4096,a)}function jm(r,a,o){r.lanes|=a;var u=r.alternate;u!==null&&(u.lanes|=a),Nc(r.return,a,o)}function Gc(r,a,o,u,f){var x=r.memoizedState;x===null?r.memoizedState={isBackwards:a,rendering:null,renderingStartTime:0,last:u,tail:o,tailMode:f}:(x.isBackwards=a,x.rendering=null,x.renderingStartTime=0,x.last=u,x.tail=o,x.tailMode=f)}function Nm(r,a,o){var u=a.pendingProps,f=u.revealOrder,x=u.tail;if(Rt(r,a,u.children,o),u=Ke.current,(u&2)!==0)u=u&1|2,a.flags|=128;else{if(r!==null&&(r.flags&128)!==0)e:for(r=a.child;r!==null;){if(r.tag===13)r.memoizedState!==null&&jm(r,o,a);else if(r.tag===19)jm(r,o,a);else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===a)break e;for(;r.sibling===null;){if(r.return===null||r.return===a)break e;r=r.return}r.sibling.return=r.return,r=r.sibling}u&=1}if(Ue(Ke,u),(a.mode&1)===0)a.memoizedState=null;else switch(f){case"forwards":for(o=a.child,f=null;o!==null;)r=o.alternate,r!==null&&go(r)===null&&(f=o),o=o.sibling;o=f,o===null?(f=a.child,a.child=null):(f=o.sibling,o.sibling=null),Gc(a,!1,f,o,x);break;case"backwards":for(o=null,f=a.child,a.child=null;f!==null;){if(r=f.alternate,r!==null&&go(r)===null){a.child=f;break}r=f.sibling,f.sibling=o,o=f,f=r}Gc(a,!0,o,null,x);break;case"together":Gc(a,!1,null,null,void 0);break;default:a.memoizedState=null}return a.child}function No(r,a){(a.mode&1)===0&&r!==null&&(r.alternate=null,a.alternate=null,a.flags|=2)}function Zr(r,a,o){if(r!==null&&(a.dependencies=r.dependencies),rn|=a.lanes,(o&a.childLanes)===0)return null;if(r!==null&&a.child!==r.child)throw Error(s(153));if(a.child!==null){for(r=a.child,o=Os(r,r.pendingProps),a.child=o,o.return=a;r.sibling!==null;)r=r.sibling,o=o.sibling=Os(r,r.pendingProps),o.return=a;o.sibling=null}return a.child}function Vv(r,a,o){switch(a.tag){case 3:bm(a),Ln();break;case 5:$f(a);break;case 1:Bt(a.type)&&ao(a);break;case 4:Ec(a,a.stateNode.containerInfo);break;case 10:var u=a.type._context,f=a.memoizedProps.value;Ue(ho,u._currentValue),u._currentValue=f;break;case 13:if(u=a.memoizedState,u!==null)return u.dehydrated!==null?(Ue(Ke,Ke.current&1),a.flags|=128,null):(o&a.child.childLanes)!==0?km(r,a,o):(Ue(Ke,Ke.current&1),r=Zr(r,a,o),r!==null?r.sibling:null);Ue(Ke,Ke.current&1);break;case 19:if(u=(o&a.childLanes)!==0,(r.flags&128)!==0){if(u)return Nm(r,a,o);a.flags|=128}if(f=a.memoizedState,f!==null&&(f.rendering=null,f.tail=null,f.lastEffect=null),Ue(Ke,Ke.current),u)break;return null;case 22:case 23:return a.lanes=0,ym(r,a,o)}return Zr(r,a,o)}var _m,Jc,Sm,Em;_m=function(r,a){for(var o=a.child;o!==null;){if(o.tag===5||o.tag===6)r.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===a)break;for(;o.sibling===null;){if(o.return===null||o.return===a)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},Jc=function(){},Sm=function(r,a,o,u){var f=r.memoizedProps;if(f!==u){r=a.stateNode,en(Mr.current);var x=null;switch(o){case"input":f=Fr(r,f),u=Fr(r,u),x=[];break;case"select":f=K({},f,{value:void 0}),u=K({},u,{value:void 0}),x=[];break;case"textarea":f=ot(r,f),u=ot(r,u),x=[];break;default:typeof f.onClick!="function"&&typeof u.onClick=="function"&&(r.onclick=ro)}Nn(o,u);var b;o=null;for(z in f)if(!u.hasOwnProperty(z)&&f.hasOwnProperty(z)&&f[z]!=null)if(z==="style"){var A=f[z];for(b in A)A.hasOwnProperty(b)&&(o||(o={}),o[b]="")}else z!=="dangerouslySetInnerHTML"&&z!=="children"&&z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&z!=="autoFocus"&&(l.hasOwnProperty(z)?x||(x=[]):(x=x||[]).push(z,null));for(z in u){var R=u[z];if(A=f?.[z],u.hasOwnProperty(z)&&R!==A&&(R!=null||A!=null))if(z==="style")if(A){for(b in A)!A.hasOwnProperty(b)||R&&R.hasOwnProperty(b)||(o||(o={}),o[b]="");for(b in R)R.hasOwnProperty(b)&&A[b]!==R[b]&&(o||(o={}),o[b]=R[b])}else o||(x||(x=[]),x.push(z,o)),o=R;else z==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,A=A?A.__html:void 0,R!=null&&A!==R&&(x=x||[]).push(z,R)):z==="children"?typeof R!="string"&&typeof R!="number"||(x=x||[]).push(z,""+R):z!=="suppressContentEditableWarning"&&z!=="suppressHydrationWarning"&&(l.hasOwnProperty(z)?(R!=null&&z==="onScroll"&&ze("scroll",r),x||A===R||(x=[])):(x=x||[]).push(z,R))}o&&(x=x||[]).push("style",o);var z=x;(a.updateQueue=z)&&(a.flags|=4)}},Em=function(r,a,o,u){o!==u&&(a.flags|=4)};function Ja(r,a){if(!He)switch(r.tailMode){case"hidden":a=r.tail;for(var o=null;a!==null;)a.alternate!==null&&(o=a),a=a.sibling;o===null?r.tail=null:o.sibling=null;break;case"collapsed":o=r.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?a||r.tail===null?r.tail=null:r.tail.sibling=null:u.sibling=null}}function St(r){var a=r.alternate!==null&&r.alternate.child===r.child,o=0,u=0;if(a)for(var f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags&14680064,u|=f.flags&14680064,f.return=r,f=f.sibling;else for(f=r.child;f!==null;)o|=f.lanes|f.childLanes,u|=f.subtreeFlags,u|=f.flags,f.return=r,f=f.sibling;return r.subtreeFlags|=u,r.childLanes=o,a}function zv(r,a,o){var u=a.pendingProps;switch(yc(a),a.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return St(a),null;case 1:return Bt(a.type)&&no(),St(a),null;case 3:return u=a.stateNode,Vn(),Fe(Ut),Fe(Nt),Pc(),u.pendingContext&&(u.context=u.pendingContext,u.pendingContext=null),(r===null||r.child===null)&&(co(a)?a.flags|=4:r===null||r.memoizedState.isDehydrated&&(a.flags&256)===0||(a.flags|=1024,wr!==null&&(id(wr),wr=null))),Jc(r,a),St(a),null;case 5:Tc(a);var f=en(Ha.current);if(o=a.type,r!==null&&a.stateNode!=null)Sm(r,a,o,u,f),r.ref!==a.ref&&(a.flags|=512,a.flags|=2097152);else{if(!u){if(a.stateNode===null)throw Error(s(166));return St(a),null}if(r=en(Mr.current),co(a)){u=a.stateNode,o=a.type;var x=a.memoizedProps;switch(u[Or]=a,u[Ua]=x,r=(a.mode&1)!==0,o){case"dialog":ze("cancel",u),ze("close",u);break;case"iframe":case"object":case"embed":ze("load",u);break;case"video":case"audio":for(f=0;f<Ma.length;f++)ze(Ma[f],u);break;case"source":ze("error",u);break;case"img":case"image":case"link":ze("error",u),ze("load",u);break;case"details":ze("toggle",u);break;case"input":us(u,x),ze("invalid",u);break;case"select":u._wrapperState={wasMultiple:!!x.multiple},ze("invalid",u);break;case"textarea":yr(u,x),ze("invalid",u)}Nn(o,x),f=null;for(var b in x)if(x.hasOwnProperty(b)){var A=x[b];b==="children"?typeof A=="string"?u.textContent!==A&&(x.suppressHydrationWarning!==!0&&to(u.textContent,A,r),f=["children",A]):typeof A=="number"&&u.textContent!==""+A&&(x.suppressHydrationWarning!==!0&&to(u.textContent,A,r),f=["children",""+A]):l.hasOwnProperty(b)&&A!=null&&b==="onScroll"&&ze("scroll",u)}switch(o){case"input":gr(u),Ks(u,x,!0);break;case"textarea":gr(u),jn(u);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(u.onclick=ro)}u=f,a.updateQueue=u,u!==null&&(a.flags|=4)}else{b=f.nodeType===9?f:f.ownerDocument,r==="http://www.w3.org/1999/xhtml"&&(r=At(o)),r==="http://www.w3.org/1999/xhtml"?o==="script"?(r=b.createElement("div"),r.innerHTML="<script><\/script>",r=r.removeChild(r.firstChild)):typeof u.is=="string"?r=b.createElement(o,{is:u.is}):(r=b.createElement(o),o==="select"&&(b=r,u.multiple?b.multiple=!0:u.size&&(b.size=u.size))):r=b.createElementNS(r,o),r[Or]=a,r[Ua]=u,_m(r,a,!1,!1),a.stateNode=r;e:{switch(b=xa(o,u),o){case"dialog":ze("cancel",r),ze("close",r),f=u;break;case"iframe":case"object":case"embed":ze("load",r),f=u;break;case"video":case"audio":for(f=0;f<Ma.length;f++)ze(Ma[f],r);f=u;break;case"source":ze("error",r),f=u;break;case"img":case"image":case"link":ze("error",r),ze("load",r),f=u;break;case"details":ze("toggle",r),f=u;break;case"input":us(r,u),f=Fr(r,u),ze("invalid",r);break;case"option":f=u;break;case"select":r._wrapperState={wasMultiple:!!u.multiple},f=K({},u,{value:void 0}),ze("invalid",r);break;case"textarea":yr(r,u),f=ot(r,u),ze("invalid",r);break;default:f=u}Nn(o,f),A=f;for(x in A)if(A.hasOwnProperty(x)){var R=A[x];x==="style"?ne(r,R):x==="dangerouslySetInnerHTML"?(R=R?R.__html:void 0,R!=null&&E(r,R)):x==="children"?typeof R=="string"?(o!=="textarea"||R!=="")&&F(r,R):typeof R=="number"&&F(r,""+R):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(l.hasOwnProperty(x)?R!=null&&x==="onScroll"&&ze("scroll",r):R!=null&&j(r,x,R,b))}switch(o){case"input":gr(r),Ks(r,u,!1);break;case"textarea":gr(r),jn(r);break;case"option":u.value!=null&&r.setAttribute("value",""+ve(u.value));break;case"select":r.multiple=!!u.multiple,x=u.value,x!=null?Ir(r,!!u.multiple,x,!1):u.defaultValue!=null&&Ir(r,!!u.multiple,u.defaultValue,!0);break;default:typeof f.onClick=="function"&&(r.onclick=ro)}switch(o){case"button":case"input":case"select":case"textarea":u=!!u.autoFocus;break e;case"img":u=!0;break e;default:u=!1}}u&&(a.flags|=4)}a.ref!==null&&(a.flags|=512,a.flags|=2097152)}return St(a),null;case 6:if(r&&a.stateNode!=null)Em(r,a,r.memoizedProps,u);else{if(typeof u!="string"&&a.stateNode===null)throw Error(s(166));if(o=en(Ha.current),en(Mr.current),co(a)){if(u=a.stateNode,o=a.memoizedProps,u[Or]=a,(x=u.nodeValue!==o)&&(r=Yt,r!==null))switch(r.tag){case 3:to(u.nodeValue,o,(r.mode&1)!==0);break;case 5:r.memoizedProps.suppressHydrationWarning!==!0&&to(u.nodeValue,o,(r.mode&1)!==0)}x&&(a.flags|=4)}else u=(o.nodeType===9?o:o.ownerDocument).createTextNode(u),u[Or]=a,a.stateNode=u}return St(a),null;case 13:if(Fe(Ke),u=a.memoizedState,r===null||r.memoizedState!==null&&r.memoizedState.dehydrated!==null){if(He&&Xt!==null&&(a.mode&1)!==0&&(a.flags&128)===0)Pf(),Ln(),a.flags|=98560,x=!1;else if(x=co(a),u!==null&&u.dehydrated!==null){if(r===null){if(!x)throw Error(s(318));if(x=a.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(s(317));x[Or]=a}else Ln(),(a.flags&128)===0&&(a.memoizedState=null),a.flags|=4;St(a),x=!1}else wr!==null&&(id(wr),wr=null),x=!0;if(!x)return a.flags&65536?a:null}return(a.flags&128)!==0?(a.lanes=o,a):(u=u!==null,u!==(r!==null&&r.memoizedState!==null)&&u&&(a.child.flags|=8192,(a.mode&1)!==0&&(r===null||(Ke.current&1)!==0?dt===0&&(dt=3):cd())),a.updateQueue!==null&&(a.flags|=4),St(a),null);case 4:return Vn(),Jc(r,a),r===null&&La(a.stateNode.containerInfo),St(a),null;case 10:return jc(a.type._context),St(a),null;case 17:return Bt(a.type)&&no(),St(a),null;case 19:if(Fe(Ke),x=a.memoizedState,x===null)return St(a),null;if(u=(a.flags&128)!==0,b=x.rendering,b===null)if(u)Ja(x,!1);else{if(dt!==0||r!==null&&(r.flags&128)!==0)for(r=a.child;r!==null;){if(b=go(r),b!==null){for(a.flags|=128,Ja(x,!1),u=b.updateQueue,u!==null&&(a.updateQueue=u,a.flags|=4),a.subtreeFlags=0,u=o,o=a.child;o!==null;)x=o,r=u,x.flags&=14680066,b=x.alternate,b===null?(x.childLanes=0,x.lanes=r,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=b.childLanes,x.lanes=b.lanes,x.child=b.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=b.memoizedProps,x.memoizedState=b.memoizedState,x.updateQueue=b.updateQueue,x.type=b.type,r=b.dependencies,x.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext}),o=o.sibling;return Ue(Ke,Ke.current&1|2),a.child}r=r.sibling}x.tail!==null&&Ze()>Wn&&(a.flags|=128,u=!0,Ja(x,!1),a.lanes=4194304)}else{if(!u)if(r=go(b),r!==null){if(a.flags|=128,u=!0,o=r.updateQueue,o!==null&&(a.updateQueue=o,a.flags|=4),Ja(x,!0),x.tail===null&&x.tailMode==="hidden"&&!b.alternate&&!He)return St(a),null}else 2*Ze()-x.renderingStartTime>Wn&&o!==1073741824&&(a.flags|=128,u=!0,Ja(x,!1),a.lanes=4194304);x.isBackwards?(b.sibling=a.child,a.child=b):(o=x.last,o!==null?o.sibling=b:a.child=b,x.last=b)}return x.tail!==null?(a=x.tail,x.rendering=a,x.tail=a.sibling,x.renderingStartTime=Ze(),a.sibling=null,o=Ke.current,Ue(Ke,u?o&1|2:o&1),a):(St(a),null);case 22:case 23:return ld(),u=a.memoizedState!==null,r!==null&&r.memoizedState!==null!==u&&(a.flags|=8192),u&&(a.mode&1)!==0?(Qt&1073741824)!==0&&(St(a),a.subtreeFlags&6&&(a.flags|=8192)):St(a),null;case 24:return null;case 25:return null}throw Error(s(156,a.tag))}function Fv(r,a){switch(yc(a),a.tag){case 1:return Bt(a.type)&&no(),r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 3:return Vn(),Fe(Ut),Fe(Nt),Pc(),r=a.flags,(r&65536)!==0&&(r&128)===0?(a.flags=r&-65537|128,a):null;case 5:return Tc(a),null;case 13:if(Fe(Ke),r=a.memoizedState,r!==null&&r.dehydrated!==null){if(a.alternate===null)throw Error(s(340));Ln()}return r=a.flags,r&65536?(a.flags=r&-65537|128,a):null;case 19:return Fe(Ke),null;case 4:return Vn(),null;case 10:return jc(a.type._context),null;case 22:case 23:return ld(),null;case 24:return null;default:return null}}var _o=!1,Et=!1,Hv=typeof WeakSet=="function"?WeakSet:Set,oe=null;function Fn(r,a){var o=r.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(u){Je(r,a,u)}else o.current=null}function Yc(r,a,o){try{o()}catch(u){Je(r,a,u)}}var Tm=!1;function Wv(r,a){if(lc=Hi,r=af(),ec(r)){if("selectionStart"in r)var o={start:r.selectionStart,end:r.selectionEnd};else e:{o=(o=r.ownerDocument)&&o.defaultView||window;var u=o.getSelection&&o.getSelection();if(u&&u.rangeCount!==0){o=u.anchorNode;var f=u.anchorOffset,x=u.focusNode;u=u.focusOffset;try{o.nodeType,x.nodeType}catch{o=null;break e}var b=0,A=-1,R=-1,z=0,G=0,X=r,q=null;t:for(;;){for(var ae;X!==o||f!==0&&X.nodeType!==3||(A=b+f),X!==x||u!==0&&X.nodeType!==3||(R=b+u),X.nodeType===3&&(b+=X.nodeValue.length),(ae=X.firstChild)!==null;)q=X,X=ae;for(;;){if(X===r)break t;if(q===o&&++z===f&&(A=b),q===x&&++G===u&&(R=b),(ae=X.nextSibling)!==null)break;X=q,q=X.parentNode}X=ae}o=A===-1||R===-1?null:{start:A,end:R}}else o=null}o=o||{start:0,end:0}}else o=null;for(cc={focusedElem:r,selectionRange:o},Hi=!1,oe=a;oe!==null;)if(a=oe,r=a.child,(a.subtreeFlags&1028)!==0&&r!==null)r.return=a,oe=r;else for(;oe!==null;){a=oe;try{var de=a.alternate;if((a.flags&1024)!==0)switch(a.tag){case 0:case 11:case 15:break;case 1:if(de!==null){var me=de.memoizedProps,et=de.memoizedState,U=a.stateNode,I=U.getSnapshotBeforeUpdate(a.elementType===a.type?me:kr(a.type,me),et);U.__reactInternalSnapshotBeforeUpdate=I}break;case 3:var V=a.stateNode.containerInfo;V.nodeType===1?V.textContent="":V.nodeType===9&&V.documentElement&&V.removeChild(V.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(s(163))}}catch(Q){Je(a,a.return,Q)}if(r=a.sibling,r!==null){r.return=a.return,oe=r;break}oe=a.return}return de=Tm,Tm=!1,de}function Ya(r,a,o){var u=a.updateQueue;if(u=u!==null?u.lastEffect:null,u!==null){var f=u=u.next;do{if((f.tag&r)===r){var x=f.destroy;f.destroy=void 0,x!==void 0&&Yc(a,o,x)}f=f.next}while(f!==u)}}function So(r,a){if(a=a.updateQueue,a=a!==null?a.lastEffect:null,a!==null){var o=a=a.next;do{if((o.tag&r)===r){var u=o.create;o.destroy=u()}o=o.next}while(o!==a)}}function Xc(r){var a=r.ref;if(a!==null){var o=r.stateNode;switch(r.tag){case 5:r=o;break;default:r=o}typeof a=="function"?a(r):a.current=r}}function Cm(r){var a=r.alternate;a!==null&&(r.alternate=null,Cm(a)),r.child=null,r.deletions=null,r.sibling=null,r.tag===5&&(a=r.stateNode,a!==null&&(delete a[Or],delete a[Ua],delete a[fc],delete a[Ev],delete a[Tv])),r.stateNode=null,r.return=null,r.dependencies=null,r.memoizedProps=null,r.memoizedState=null,r.pendingProps=null,r.stateNode=null,r.updateQueue=null}function Pm(r){return r.tag===5||r.tag===3||r.tag===4}function Am(r){e:for(;;){for(;r.sibling===null;){if(r.return===null||Pm(r.return))return null;r=r.return}for(r.sibling.return=r.return,r=r.sibling;r.tag!==5&&r.tag!==6&&r.tag!==18;){if(r.flags&2||r.child===null||r.tag===4)continue e;r.child.return=r,r=r.child}if(!(r.flags&2))return r.stateNode}}function Qc(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.nodeType===8?o.parentNode.insertBefore(r,a):o.insertBefore(r,a):(o.nodeType===8?(a=o.parentNode,a.insertBefore(r,o)):(a=o,a.appendChild(r)),o=o._reactRootContainer,o!=null||a.onclick!==null||(a.onclick=ro));else if(u!==4&&(r=r.child,r!==null))for(Qc(r,a,o),r=r.sibling;r!==null;)Qc(r,a,o),r=r.sibling}function Zc(r,a,o){var u=r.tag;if(u===5||u===6)r=r.stateNode,a?o.insertBefore(r,a):o.appendChild(r);else if(u!==4&&(r=r.child,r!==null))for(Zc(r,a,o),r=r.sibling;r!==null;)Zc(r,a,o),r=r.sibling}var xt=null,jr=!1;function Ps(r,a,o){for(o=o.child;o!==null;)Rm(r,a,o),o=o.sibling}function Rm(r,a,o){if(Dr&&typeof Dr.onCommitFiberUnmount=="function")try{Dr.onCommitFiberUnmount($i,o)}catch{}switch(o.tag){case 5:Et||Fn(o,a);case 6:var u=xt,f=jr;xt=null,Ps(r,a,o),xt=u,jr=f,xt!==null&&(jr?(r=xt,o=o.stateNode,r.nodeType===8?r.parentNode.removeChild(o):r.removeChild(o)):xt.removeChild(o.stateNode));break;case 18:xt!==null&&(jr?(r=xt,o=o.stateNode,r.nodeType===8?hc(r.parentNode,o):r.nodeType===1&&hc(r,o),Ta(r)):hc(xt,o.stateNode));break;case 4:u=xt,f=jr,xt=o.stateNode.containerInfo,jr=!0,Ps(r,a,o),xt=u,jr=f;break;case 0:case 11:case 14:case 15:if(!Et&&(u=o.updateQueue,u!==null&&(u=u.lastEffect,u!==null))){f=u=u.next;do{var x=f,b=x.destroy;x=x.tag,b!==void 0&&((x&2)!==0||(x&4)!==0)&&Yc(o,a,b),f=f.next}while(f!==u)}Ps(r,a,o);break;case 1:if(!Et&&(Fn(o,a),u=o.stateNode,typeof u.componentWillUnmount=="function"))try{u.props=o.memoizedProps,u.state=o.memoizedState,u.componentWillUnmount()}catch(A){Je(o,a,A)}Ps(r,a,o);break;case 21:Ps(r,a,o);break;case 22:o.mode&1?(Et=(u=Et)||o.memoizedState!==null,Ps(r,a,o),Et=u):Ps(r,a,o);break;default:Ps(r,a,o)}}function Im(r){var a=r.updateQueue;if(a!==null){r.updateQueue=null;var o=r.stateNode;o===null&&(o=r.stateNode=new Hv),a.forEach(function(u){var f=eb.bind(null,r,u);o.has(u)||(o.add(u),u.then(f,f))})}}function Nr(r,a){var o=a.deletions;if(o!==null)for(var u=0;u<o.length;u++){var f=o[u];try{var x=r,b=a,A=b;e:for(;A!==null;){switch(A.tag){case 5:xt=A.stateNode,jr=!1;break e;case 3:xt=A.stateNode.containerInfo,jr=!0;break e;case 4:xt=A.stateNode.containerInfo,jr=!0;break e}A=A.return}if(xt===null)throw Error(s(160));Rm(x,b,f),xt=null,jr=!1;var R=f.alternate;R!==null&&(R.return=null),f.return=null}catch(z){Je(f,a,z)}}if(a.subtreeFlags&12854)for(a=a.child;a!==null;)Dm(a,r),a=a.sibling}function Dm(r,a){var o=r.alternate,u=r.flags;switch(r.tag){case 0:case 11:case 14:case 15:if(Nr(a,r),$r(r),u&4){try{Ya(3,r,r.return),So(3,r)}catch(me){Je(r,r.return,me)}try{Ya(5,r,r.return)}catch(me){Je(r,r.return,me)}}break;case 1:Nr(a,r),$r(r),u&512&&o!==null&&Fn(o,o.return);break;case 5:if(Nr(a,r),$r(r),u&512&&o!==null&&Fn(o,o.return),r.flags&32){var f=r.stateNode;try{F(f,"")}catch(me){Je(r,r.return,me)}}if(u&4&&(f=r.stateNode,f!=null)){var x=r.memoizedProps,b=o!==null?o.memoizedProps:x,A=r.type,R=r.updateQueue;if(r.updateQueue=null,R!==null)try{A==="input"&&x.type==="radio"&&x.name!=null&&Hr(f,x),xa(A,b);var z=xa(A,x);for(b=0;b<R.length;b+=2){var G=R[b],X=R[b+1];G==="style"?ne(f,X):G==="dangerouslySetInnerHTML"?E(f,X):G==="children"?F(f,X):j(f,G,X,z)}switch(A){case"input":qt(f,x);break;case"textarea":kn(f,x);break;case"select":var q=f._wrapperState.wasMultiple;f._wrapperState.wasMultiple=!!x.multiple;var ae=x.value;ae!=null?Ir(f,!!x.multiple,ae,!1):q!==!!x.multiple&&(x.defaultValue!=null?Ir(f,!!x.multiple,x.defaultValue,!0):Ir(f,!!x.multiple,x.multiple?[]:"",!1))}f[Ua]=x}catch(me){Je(r,r.return,me)}}break;case 6:if(Nr(a,r),$r(r),u&4){if(r.stateNode===null)throw Error(s(162));f=r.stateNode,x=r.memoizedProps;try{f.nodeValue=x}catch(me){Je(r,r.return,me)}}break;case 3:if(Nr(a,r),$r(r),u&4&&o!==null&&o.memoizedState.isDehydrated)try{Ta(a.containerInfo)}catch(me){Je(r,r.return,me)}break;case 4:Nr(a,r),$r(r);break;case 13:Nr(a,r),$r(r),f=r.child,f.flags&8192&&(x=f.memoizedState!==null,f.stateNode.isHidden=x,!x||f.alternate!==null&&f.alternate.memoizedState!==null||(rd=Ze())),u&4&&Im(r);break;case 22:if(G=o!==null&&o.memoizedState!==null,r.mode&1?(Et=(z=Et)||G,Nr(a,r),Et=z):Nr(a,r),$r(r),u&8192){if(z=r.memoizedState!==null,(r.stateNode.isHidden=z)&&!G&&(r.mode&1)!==0)for(oe=r,G=r.child;G!==null;){for(X=oe=G;oe!==null;){switch(q=oe,ae=q.child,q.tag){case 0:case 11:case 14:case 15:Ya(4,q,q.return);break;case 1:Fn(q,q.return);var de=q.stateNode;if(typeof de.componentWillUnmount=="function"){u=q,o=q.return;try{a=u,de.props=a.memoizedProps,de.state=a.memoizedState,de.componentWillUnmount()}catch(me){Je(u,o,me)}}break;case 5:Fn(q,q.return);break;case 22:if(q.memoizedState!==null){Lm(X);continue}}ae!==null?(ae.return=q,oe=ae):Lm(X)}G=G.sibling}e:for(G=null,X=r;;){if(X.tag===5){if(G===null){G=X;try{f=X.stateNode,z?(x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):(A=X.stateNode,R=X.memoizedProps.style,b=R!=null&&R.hasOwnProperty("display")?R.display:null,A.style.display=Ce("display",b))}catch(me){Je(r,r.return,me)}}}else if(X.tag===6){if(G===null)try{X.stateNode.nodeValue=z?"":X.memoizedProps}catch(me){Je(r,r.return,me)}}else if((X.tag!==22&&X.tag!==23||X.memoizedState===null||X===r)&&X.child!==null){X.child.return=X,X=X.child;continue}if(X===r)break e;for(;X.sibling===null;){if(X.return===null||X.return===r)break e;G===X&&(G=null),X=X.return}G===X&&(G=null),X.sibling.return=X.return,X=X.sibling}}break;case 19:Nr(a,r),$r(r),u&4&&Im(r);break;case 21:break;default:Nr(a,r),$r(r)}}function $r(r){var a=r.flags;if(a&2){try{e:{for(var o=r.return;o!==null;){if(Pm(o)){var u=o;break e}o=o.return}throw Error(s(160))}switch(u.tag){case 5:var f=u.stateNode;u.flags&32&&(F(f,""),u.flags&=-33);var x=Am(r);Zc(r,x,f);break;case 3:case 4:var b=u.stateNode.containerInfo,A=Am(r);Qc(r,A,b);break;default:throw Error(s(161))}}catch(R){Je(r,r.return,R)}r.flags&=-3}a&4096&&(r.flags&=-4097)}function Kv(r,a,o){oe=r,Om(r)}function Om(r,a,o){for(var u=(r.mode&1)!==0;oe!==null;){var f=oe,x=f.child;if(f.tag===22&&u){var b=f.memoizedState!==null||_o;if(!b){var A=f.alternate,R=A!==null&&A.memoizedState!==null||Et;A=_o;var z=Et;if(_o=b,(Et=R)&&!z)for(oe=f;oe!==null;)b=oe,R=b.child,b.tag===22&&b.memoizedState!==null?$m(f):R!==null?(R.return=b,oe=R):$m(f);for(;x!==null;)oe=x,Om(x),x=x.sibling;oe=f,_o=A,Et=z}Mm(r)}else(f.subtreeFlags&8772)!==0&&x!==null?(x.return=f,oe=x):Mm(r)}}function Mm(r){for(;oe!==null;){var a=oe;if((a.flags&8772)!==0){var o=a.alternate;try{if((a.flags&8772)!==0)switch(a.tag){case 0:case 11:case 15:Et||So(5,a);break;case 1:var u=a.stateNode;if(a.flags&4&&!Et)if(o===null)u.componentDidMount();else{var f=a.elementType===a.type?o.memoizedProps:kr(a.type,o.memoizedProps);u.componentDidUpdate(f,o.memoizedState,u.__reactInternalSnapshotBeforeUpdate)}var x=a.updateQueue;x!==null&&Lf(a,x,u);break;case 3:var b=a.updateQueue;if(b!==null){if(o=null,a.child!==null)switch(a.child.tag){case 5:o=a.child.stateNode;break;case 1:o=a.child.stateNode}Lf(a,b,o)}break;case 5:var A=a.stateNode;if(o===null&&a.flags&4){o=A;var R=a.memoizedProps;switch(a.type){case"button":case"input":case"select":case"textarea":R.autoFocus&&o.focus();break;case"img":R.src&&(o.src=R.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(a.memoizedState===null){var z=a.alternate;if(z!==null){var G=z.memoizedState;if(G!==null){var X=G.dehydrated;X!==null&&Ta(X)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(s(163))}Et||a.flags&512&&Xc(a)}catch(q){Je(a,a.return,q)}}if(a===r){oe=null;break}if(o=a.sibling,o!==null){o.return=a.return,oe=o;break}oe=a.return}}function Lm(r){for(;oe!==null;){var a=oe;if(a===r){oe=null;break}var o=a.sibling;if(o!==null){o.return=a.return,oe=o;break}oe=a.return}}function $m(r){for(;oe!==null;){var a=oe;try{switch(a.tag){case 0:case 11:case 15:var o=a.return;try{So(4,a)}catch(R){Je(a,o,R)}break;case 1:var u=a.stateNode;if(typeof u.componentDidMount=="function"){var f=a.return;try{u.componentDidMount()}catch(R){Je(a,f,R)}}var x=a.return;try{Xc(a)}catch(R){Je(a,x,R)}break;case 5:var b=a.return;try{Xc(a)}catch(R){Je(a,b,R)}}}catch(R){Je(a,a.return,R)}if(a===r){oe=null;break}var A=a.sibling;if(A!==null){A.return=a.return,oe=A;break}oe=a.return}}var qv=Math.ceil,Eo=D.ReactCurrentDispatcher,ed=D.ReactCurrentOwner,dr=D.ReactCurrentBatchConfig,Oe=0,pt=null,nt=null,vt=0,Qt=0,Hn=_s(0),dt=0,Xa=null,rn=0,To=0,td=0,Qa=null,zt=null,rd=0,Wn=1/0,es=null,Co=!1,sd=null,As=null,Po=!1,Rs=null,Ao=0,Za=0,nd=null,Ro=-1,Io=0;function It(){return(Oe&6)!==0?Ze():Ro!==-1?Ro:Ro=Ze()}function Is(r){return(r.mode&1)===0?1:(Oe&2)!==0&&vt!==0?vt&-vt:Pv.transition!==null?(Io===0&&(Io=Ph()),Io):(r=Le,r!==0||(r=window.event,r=r===void 0?16:Uh(r.type)),r)}function _r(r,a,o,u){if(50<Za)throw Za=0,nd=null,Error(s(185));ja(r,o,u),((Oe&2)===0||r!==pt)&&(r===pt&&((Oe&2)===0&&(To|=o),dt===4&&Ds(r,vt)),Ft(r,u),o===1&&Oe===0&&(a.mode&1)===0&&(Wn=Ze()+500,io&&Es()))}function Ft(r,a){var o=r.callbackNode;Px(r,a);var u=Vi(r,r===pt?vt:0);if(u===0)o!==null&&Eh(o),r.callbackNode=null,r.callbackPriority=0;else if(a=u&-u,r.callbackPriority!==a){if(o!=null&&Eh(o),a===1)r.tag===0?Cv(Bm.bind(null,r)):_f(Bm.bind(null,r)),_v(function(){(Oe&6)===0&&Es()}),o=null;else{switch(Ah(u)){case 1:o=Ll;break;case 4:o=Th;break;case 16:o=Li;break;case 536870912:o=Ch;break;default:o=Li}o=Gm(o,Um.bind(null,r))}r.callbackPriority=a,r.callbackNode=o}}function Um(r,a){if(Ro=-1,Io=0,(Oe&6)!==0)throw Error(s(327));var o=r.callbackNode;if(Kn()&&r.callbackNode!==o)return null;var u=Vi(r,r===pt?vt:0);if(u===0)return null;if((u&30)!==0||(u&r.expiredLanes)!==0||a)a=Do(r,u);else{a=u;var f=Oe;Oe|=2;var x=zm();(pt!==r||vt!==a)&&(es=null,Wn=Ze()+500,nn(r,a));do try{Yv();break}catch(A){Vm(r,A)}while(!0);kc(),Eo.current=x,Oe=f,nt!==null?a=0:(pt=null,vt=0,a=dt)}if(a!==0){if(a===2&&(f=$l(r),f!==0&&(u=f,a=ad(r,f))),a===1)throw o=Xa,nn(r,0),Ds(r,u),Ft(r,Ze()),o;if(a===6)Ds(r,u);else{if(f=r.current.alternate,(u&30)===0&&!Gv(f)&&(a=Do(r,u),a===2&&(x=$l(r),x!==0&&(u=x,a=ad(r,x))),a===1))throw o=Xa,nn(r,0),Ds(r,u),Ft(r,Ze()),o;switch(r.finishedWork=f,r.finishedLanes=u,a){case 0:case 1:throw Error(s(345));case 2:an(r,zt,es);break;case 3:if(Ds(r,u),(u&130023424)===u&&(a=rd+500-Ze(),10<a)){if(Vi(r,0)!==0)break;if(f=r.suspendedLanes,(f&u)!==u){It(),r.pingedLanes|=r.suspendedLanes&f;break}r.timeoutHandle=uc(an.bind(null,r,zt,es),a);break}an(r,zt,es);break;case 4:if(Ds(r,u),(u&4194240)===u)break;for(a=r.eventTimes,f=-1;0<u;){var b=31-vr(u);x=1<<b,b=a[b],b>f&&(f=b),u&=~x}if(u=f,u=Ze()-u,u=(120>u?120:480>u?480:1080>u?1080:1920>u?1920:3e3>u?3e3:4320>u?4320:1960*qv(u/1960))-u,10<u){r.timeoutHandle=uc(an.bind(null,r,zt,es),u);break}an(r,zt,es);break;case 5:an(r,zt,es);break;default:throw Error(s(329))}}}return Ft(r,Ze()),r.callbackNode===o?Um.bind(null,r):null}function ad(r,a){var o=Qa;return r.current.memoizedState.isDehydrated&&(nn(r,a).flags|=256),r=Do(r,a),r!==2&&(a=zt,zt=o,a!==null&&id(a)),r}function id(r){zt===null?zt=r:zt.push.apply(zt,r)}function Gv(r){for(var a=r;;){if(a.flags&16384){var o=a.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var u=0;u<o.length;u++){var f=o[u],x=f.getSnapshot;f=f.value;try{if(!br(x(),f))return!1}catch{return!1}}}if(o=a.child,a.subtreeFlags&16384&&o!==null)o.return=a,a=o;else{if(a===r)break;for(;a.sibling===null;){if(a.return===null||a.return===r)return!0;a=a.return}a.sibling.return=a.return,a=a.sibling}}return!0}function Ds(r,a){for(a&=~td,a&=~To,r.suspendedLanes|=a,r.pingedLanes&=~a,r=r.expirationTimes;0<a;){var o=31-vr(a),u=1<<o;r[o]=-1,a&=~u}}function Bm(r){if((Oe&6)!==0)throw Error(s(327));Kn();var a=Vi(r,0);if((a&1)===0)return Ft(r,Ze()),null;var o=Do(r,a);if(r.tag!==0&&o===2){var u=$l(r);u!==0&&(a=u,o=ad(r,u))}if(o===1)throw o=Xa,nn(r,0),Ds(r,a),Ft(r,Ze()),o;if(o===6)throw Error(s(345));return r.finishedWork=r.current.alternate,r.finishedLanes=a,an(r,zt,es),Ft(r,Ze()),null}function od(r,a){var o=Oe;Oe|=1;try{return r(a)}finally{Oe=o,Oe===0&&(Wn=Ze()+500,io&&Es())}}function sn(r){Rs!==null&&Rs.tag===0&&(Oe&6)===0&&Kn();var a=Oe;Oe|=1;var o=dr.transition,u=Le;try{if(dr.transition=null,Le=1,r)return r()}finally{Le=u,dr.transition=o,Oe=a,(Oe&6)===0&&Es()}}function ld(){Qt=Hn.current,Fe(Hn)}function nn(r,a){r.finishedWork=null,r.finishedLanes=0;var o=r.timeoutHandle;if(o!==-1&&(r.timeoutHandle=-1,Nv(o)),nt!==null)for(o=nt.return;o!==null;){var u=o;switch(yc(u),u.tag){case 1:u=u.type.childContextTypes,u!=null&&no();break;case 3:Vn(),Fe(Ut),Fe(Nt),Pc();break;case 5:Tc(u);break;case 4:Vn();break;case 13:Fe(Ke);break;case 19:Fe(Ke);break;case 10:jc(u.type._context);break;case 22:case 23:ld()}o=o.return}if(pt=r,nt=r=Os(r.current,null),vt=Qt=a,dt=0,Xa=null,td=To=rn=0,zt=Qa=null,Zs!==null){for(a=0;a<Zs.length;a++)if(o=Zs[a],u=o.interleaved,u!==null){o.interleaved=null;var f=u.next,x=o.pending;if(x!==null){var b=x.next;x.next=f,u.next=b}o.pending=u}Zs=null}return r}function Vm(r,a){do{var o=nt;try{if(kc(),yo.current=wo,xo){for(var u=qe.memoizedState;u!==null;){var f=u.queue;f!==null&&(f.pending=null),u=u.next}xo=!1}if(tn=0,mt=ct=qe=null,Wa=!1,Ka=0,ed.current=null,o===null||o.return===null){dt=1,Xa=a,nt=null;break}e:{var x=r,b=o.return,A=o,R=a;if(a=vt,A.flags|=32768,R!==null&&typeof R=="object"&&typeof R.then=="function"){var z=R,G=A,X=G.tag;if((G.mode&1)===0&&(X===0||X===11||X===15)){var q=G.alternate;q?(G.updateQueue=q.updateQueue,G.memoizedState=q.memoizedState,G.lanes=q.lanes):(G.updateQueue=null,G.memoizedState=null)}var ae=hm(b);if(ae!==null){ae.flags&=-257,fm(ae,b,A,x,a),ae.mode&1&&um(x,z,a),a=ae,R=z;var de=a.updateQueue;if(de===null){var me=new Set;me.add(R),a.updateQueue=me}else de.add(R);break e}else{if((a&1)===0){um(x,z,a),cd();break e}R=Error(s(426))}}else if(He&&A.mode&1){var et=hm(b);if(et!==null){(et.flags&65536)===0&&(et.flags|=256),fm(et,b,A,x,a),bc(zn(R,A));break e}}x=R=zn(R,A),dt!==4&&(dt=2),Qa===null?Qa=[x]:Qa.push(x),x=b;do{switch(x.tag){case 3:x.flags|=65536,a&=-a,x.lanes|=a;var U=cm(x,R,a);Mf(x,U);break e;case 1:A=R;var I=x.type,V=x.stateNode;if((x.flags&128)===0&&(typeof I.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(As===null||!As.has(V)))){x.flags|=65536,a&=-a,x.lanes|=a;var Q=dm(x,A,a);Mf(x,Q);break e}}x=x.return}while(x!==null)}Hm(o)}catch(pe){a=pe,nt===o&&o!==null&&(nt=o=o.return);continue}break}while(!0)}function zm(){var r=Eo.current;return Eo.current=wo,r===null?wo:r}function cd(){(dt===0||dt===3||dt===2)&&(dt=4),pt===null||(rn&268435455)===0&&(To&268435455)===0||Ds(pt,vt)}function Do(r,a){var o=Oe;Oe|=2;var u=zm();(pt!==r||vt!==a)&&(es=null,nn(r,a));do try{Jv();break}catch(f){Vm(r,f)}while(!0);if(kc(),Oe=o,Eo.current=u,nt!==null)throw Error(s(261));return pt=null,vt=0,dt}function Jv(){for(;nt!==null;)Fm(nt)}function Yv(){for(;nt!==null&&!wx();)Fm(nt)}function Fm(r){var a=qm(r.alternate,r,Qt);r.memoizedProps=r.pendingProps,a===null?Hm(r):nt=a,ed.current=null}function Hm(r){var a=r;do{var o=a.alternate;if(r=a.return,(a.flags&32768)===0){if(o=zv(o,a,Qt),o!==null){nt=o;return}}else{if(o=Fv(o,a),o!==null){o.flags&=32767,nt=o;return}if(r!==null)r.flags|=32768,r.subtreeFlags=0,r.deletions=null;else{dt=6,nt=null;return}}if(a=a.sibling,a!==null){nt=a;return}nt=a=r}while(a!==null);dt===0&&(dt=5)}function an(r,a,o){var u=Le,f=dr.transition;try{dr.transition=null,Le=1,Xv(r,a,o,u)}finally{dr.transition=f,Le=u}return null}function Xv(r,a,o,u){do Kn();while(Rs!==null);if((Oe&6)!==0)throw Error(s(327));o=r.finishedWork;var f=r.finishedLanes;if(o===null)return null;if(r.finishedWork=null,r.finishedLanes=0,o===r.current)throw Error(s(177));r.callbackNode=null,r.callbackPriority=0;var x=o.lanes|o.childLanes;if(Ax(r,x),r===pt&&(nt=pt=null,vt=0),(o.subtreeFlags&2064)===0&&(o.flags&2064)===0||Po||(Po=!0,Gm(Li,function(){return Kn(),null})),x=(o.flags&15990)!==0,(o.subtreeFlags&15990)!==0||x){x=dr.transition,dr.transition=null;var b=Le;Le=1;var A=Oe;Oe|=4,ed.current=null,Wv(r,o),Dm(o,r),yv(cc),Hi=!!lc,cc=lc=null,r.current=o,Kv(o),kx(),Oe=A,Le=b,dr.transition=x}else r.current=o;if(Po&&(Po=!1,Rs=r,Ao=f),x=r.pendingLanes,x===0&&(As=null),_x(o.stateNode),Ft(r,Ze()),a!==null)for(u=r.onRecoverableError,o=0;o<a.length;o++)f=a[o],u(f.value,{componentStack:f.stack,digest:f.digest});if(Co)throw Co=!1,r=sd,sd=null,r;return(Ao&1)!==0&&r.tag!==0&&Kn(),x=r.pendingLanes,(x&1)!==0?r===nd?Za++:(Za=0,nd=r):Za=0,Es(),null}function Kn(){if(Rs!==null){var r=Ah(Ao),a=dr.transition,o=Le;try{if(dr.transition=null,Le=16>r?16:r,Rs===null)var u=!1;else{if(r=Rs,Rs=null,Ao=0,(Oe&6)!==0)throw Error(s(331));var f=Oe;for(Oe|=4,oe=r.current;oe!==null;){var x=oe,b=x.child;if((oe.flags&16)!==0){var A=x.deletions;if(A!==null){for(var R=0;R<A.length;R++){var z=A[R];for(oe=z;oe!==null;){var G=oe;switch(G.tag){case 0:case 11:case 15:Ya(8,G,x)}var X=G.child;if(X!==null)X.return=G,oe=X;else for(;oe!==null;){G=oe;var q=G.sibling,ae=G.return;if(Cm(G),G===z){oe=null;break}if(q!==null){q.return=ae,oe=q;break}oe=ae}}}var de=x.alternate;if(de!==null){var me=de.child;if(me!==null){de.child=null;do{var et=me.sibling;me.sibling=null,me=et}while(me!==null)}}oe=x}}if((x.subtreeFlags&2064)!==0&&b!==null)b.return=x,oe=b;else e:for(;oe!==null;){if(x=oe,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:Ya(9,x,x.return)}var U=x.sibling;if(U!==null){U.return=x.return,oe=U;break e}oe=x.return}}var I=r.current;for(oe=I;oe!==null;){b=oe;var V=b.child;if((b.subtreeFlags&2064)!==0&&V!==null)V.return=b,oe=V;else e:for(b=I;oe!==null;){if(A=oe,(A.flags&2048)!==0)try{switch(A.tag){case 0:case 11:case 15:So(9,A)}}catch(pe){Je(A,A.return,pe)}if(A===b){oe=null;break e}var Q=A.sibling;if(Q!==null){Q.return=A.return,oe=Q;break e}oe=A.return}}if(Oe=f,Es(),Dr&&typeof Dr.onPostCommitFiberRoot=="function")try{Dr.onPostCommitFiberRoot($i,r)}catch{}u=!0}return u}finally{Le=o,dr.transition=a}}return!1}function Wm(r,a,o){a=zn(o,a),a=cm(r,a,1),r=Cs(r,a,1),a=It(),r!==null&&(ja(r,1,a),Ft(r,a))}function Je(r,a,o){if(r.tag===3)Wm(r,r,o);else for(;a!==null;){if(a.tag===3){Wm(a,r,o);break}else if(a.tag===1){var u=a.stateNode;if(typeof a.type.getDerivedStateFromError=="function"||typeof u.componentDidCatch=="function"&&(As===null||!As.has(u))){r=zn(o,r),r=dm(a,r,1),a=Cs(a,r,1),r=It(),a!==null&&(ja(a,1,r),Ft(a,r));break}}a=a.return}}function Qv(r,a,o){var u=r.pingCache;u!==null&&u.delete(a),a=It(),r.pingedLanes|=r.suspendedLanes&o,pt===r&&(vt&o)===o&&(dt===4||dt===3&&(vt&130023424)===vt&&500>Ze()-rd?nn(r,0):td|=o),Ft(r,a)}function Km(r,a){a===0&&((r.mode&1)===0?a=1:(a=Bi,Bi<<=1,(Bi&130023424)===0&&(Bi=4194304)));var o=It();r=Xr(r,a),r!==null&&(ja(r,a,o),Ft(r,o))}function Zv(r){var a=r.memoizedState,o=0;a!==null&&(o=a.retryLane),Km(r,o)}function eb(r,a){var o=0;switch(r.tag){case 13:var u=r.stateNode,f=r.memoizedState;f!==null&&(o=f.retryLane);break;case 19:u=r.stateNode;break;default:throw Error(s(314))}u!==null&&u.delete(a),Km(r,o)}var qm;qm=function(r,a,o){if(r!==null)if(r.memoizedProps!==a.pendingProps||Ut.current)Vt=!0;else{if((r.lanes&o)===0&&(a.flags&128)===0)return Vt=!1,Vv(r,a,o);Vt=(r.flags&131072)!==0}else Vt=!1,He&&(a.flags&1048576)!==0&&Sf(a,lo,a.index);switch(a.lanes=0,a.tag){case 2:var u=a.type;No(r,a),r=a.pendingProps;var f=Dn(a,Nt.current);Bn(a,o),f=Ic(null,a,u,r,f,o);var x=Dc();return a.flags|=1,typeof f=="object"&&f!==null&&typeof f.render=="function"&&f.$$typeof===void 0?(a.tag=1,a.memoizedState=null,a.updateQueue=null,Bt(u)?(x=!0,ao(a)):x=!1,a.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,Sc(a),f.updater=ko,a.stateNode=f,f._reactInternals=a,Bc(a,u,r,o),a=Hc(null,a,u,!0,x,o)):(a.tag=0,He&&x&&gc(a),Rt(null,a,f,o),a=a.child),a;case 16:u=a.elementType;e:{switch(No(r,a),r=a.pendingProps,f=u._init,u=f(u._payload),a.type=u,f=a.tag=rb(u),r=kr(u,r),f){case 0:a=Fc(null,a,u,r,o);break e;case 1:a=vm(null,a,u,r,o);break e;case 11:a=mm(null,a,u,r,o);break e;case 14:a=pm(null,a,u,kr(u.type,r),o);break e}throw Error(s(306,u,""))}return a;case 0:return u=a.type,f=a.pendingProps,f=a.elementType===u?f:kr(u,f),Fc(r,a,u,f,o);case 1:return u=a.type,f=a.pendingProps,f=a.elementType===u?f:kr(u,f),vm(r,a,u,f,o);case 3:e:{if(bm(a),r===null)throw Error(s(387));u=a.pendingProps,x=a.memoizedState,f=x.element,Of(r,a),po(a,u,null,o);var b=a.memoizedState;if(u=b.element,x.isDehydrated)if(x={element:u,isDehydrated:!1,cache:b.cache,pendingSuspenseBoundaries:b.pendingSuspenseBoundaries,transitions:b.transitions},a.updateQueue.baseState=x,a.memoizedState=x,a.flags&256){f=zn(Error(s(423)),a),a=wm(r,a,u,o,f);break e}else if(u!==f){f=zn(Error(s(424)),a),a=wm(r,a,u,o,f);break e}else for(Xt=Ns(a.stateNode.containerInfo.firstChild),Yt=a,He=!0,wr=null,o=If(a,null,u,o),a.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Ln(),u===f){a=Zr(r,a,o);break e}Rt(r,a,u,o)}a=a.child}return a;case 5:return $f(a),r===null&&vc(a),u=a.type,f=a.pendingProps,x=r!==null?r.memoizedProps:null,b=f.children,dc(u,f)?b=null:x!==null&&dc(u,x)&&(a.flags|=32),xm(r,a),Rt(r,a,b,o),a.child;case 6:return r===null&&vc(a),null;case 13:return km(r,a,o);case 4:return Ec(a,a.stateNode.containerInfo),u=a.pendingProps,r===null?a.child=$n(a,null,u,o):Rt(r,a,u,o),a.child;case 11:return u=a.type,f=a.pendingProps,f=a.elementType===u?f:kr(u,f),mm(r,a,u,f,o);case 7:return Rt(r,a,a.pendingProps,o),a.child;case 8:return Rt(r,a,a.pendingProps.children,o),a.child;case 12:return Rt(r,a,a.pendingProps.children,o),a.child;case 10:e:{if(u=a.type._context,f=a.pendingProps,x=a.memoizedProps,b=f.value,Ue(ho,u._currentValue),u._currentValue=b,x!==null)if(br(x.value,b)){if(x.children===f.children&&!Ut.current){a=Zr(r,a,o);break e}}else for(x=a.child,x!==null&&(x.return=a);x!==null;){var A=x.dependencies;if(A!==null){b=x.child;for(var R=A.firstContext;R!==null;){if(R.context===u){if(x.tag===1){R=Qr(-1,o&-o),R.tag=2;var z=x.updateQueue;if(z!==null){z=z.shared;var G=z.pending;G===null?R.next=R:(R.next=G.next,G.next=R),z.pending=R}}x.lanes|=o,R=x.alternate,R!==null&&(R.lanes|=o),Nc(x.return,o,a),A.lanes|=o;break}R=R.next}}else if(x.tag===10)b=x.type===a.type?null:x.child;else if(x.tag===18){if(b=x.return,b===null)throw Error(s(341));b.lanes|=o,A=b.alternate,A!==null&&(A.lanes|=o),Nc(b,o,a),b=x.sibling}else b=x.child;if(b!==null)b.return=x;else for(b=x;b!==null;){if(b===a){b=null;break}if(x=b.sibling,x!==null){x.return=b.return,b=x;break}b=b.return}x=b}Rt(r,a,f.children,o),a=a.child}return a;case 9:return f=a.type,u=a.pendingProps.children,Bn(a,o),f=lr(f),u=u(f),a.flags|=1,Rt(r,a,u,o),a.child;case 14:return u=a.type,f=kr(u,a.pendingProps),f=kr(u.type,f),pm(r,a,u,f,o);case 15:return gm(r,a,a.type,a.pendingProps,o);case 17:return u=a.type,f=a.pendingProps,f=a.elementType===u?f:kr(u,f),No(r,a),a.tag=1,Bt(u)?(r=!0,ao(a)):r=!1,Bn(a,o),om(a,u,f),Bc(a,u,f,o),Hc(null,a,u,!0,r,o);case 19:return Nm(r,a,o);case 22:return ym(r,a,o)}throw Error(s(156,a.tag))};function Gm(r,a){return Sh(r,a)}function tb(r,a,o,u){this.tag=r,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=a,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=u,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ur(r,a,o,u){return new tb(r,a,o,u)}function dd(r){return r=r.prototype,!(!r||!r.isReactComponent)}function rb(r){if(typeof r=="function")return dd(r)?1:0;if(r!=null){if(r=r.$$typeof,r===je)return 11;if(r===Pe)return 14}return 2}function Os(r,a){var o=r.alternate;return o===null?(o=ur(r.tag,a,r.key,r.mode),o.elementType=r.elementType,o.type=r.type,o.stateNode=r.stateNode,o.alternate=r,r.alternate=o):(o.pendingProps=a,o.type=r.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=r.flags&14680064,o.childLanes=r.childLanes,o.lanes=r.lanes,o.child=r.child,o.memoizedProps=r.memoizedProps,o.memoizedState=r.memoizedState,o.updateQueue=r.updateQueue,a=r.dependencies,o.dependencies=a===null?null:{lanes:a.lanes,firstContext:a.firstContext},o.sibling=r.sibling,o.index=r.index,o.ref=r.ref,o}function Oo(r,a,o,u,f,x){var b=2;if(u=r,typeof r=="function")dd(r)&&(b=1);else if(typeof r=="string")b=5;else e:switch(r){case L:return on(o.children,f,x,a);case O:b=8,f|=8;break;case H:return r=ur(12,o,a,f|2),r.elementType=H,r.lanes=x,r;case J:return r=ur(13,o,a,f),r.elementType=J,r.lanes=x,r;case be:return r=ur(19,o,a,f),r.elementType=be,r.lanes=x,r;case le:return Mo(o,f,x,a);default:if(typeof r=="object"&&r!==null)switch(r.$$typeof){case se:b=10;break e;case he:b=9;break e;case je:b=11;break e;case Pe:b=14;break e;case ge:b=16,u=null;break e}throw Error(s(130,r==null?r:typeof r,""))}return a=ur(b,o,a,f),a.elementType=r,a.type=u,a.lanes=x,a}function on(r,a,o,u){return r=ur(7,r,u,a),r.lanes=o,r}function Mo(r,a,o,u){return r=ur(22,r,u,a),r.elementType=le,r.lanes=o,r.stateNode={isHidden:!1},r}function ud(r,a,o){return r=ur(6,r,null,a),r.lanes=o,r}function hd(r,a,o){return a=ur(4,r.children!==null?r.children:[],r.key,a),a.lanes=o,a.stateNode={containerInfo:r.containerInfo,pendingChildren:null,implementation:r.implementation},a}function sb(r,a,o,u,f){this.tag=a,this.containerInfo=r,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ul(0),this.expirationTimes=Ul(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ul(0),this.identifierPrefix=u,this.onRecoverableError=f,this.mutableSourceEagerHydrationData=null}function fd(r,a,o,u,f,x,b,A,R){return r=new sb(r,a,o,A,R),a===1?(a=1,x===!0&&(a|=8)):a=0,x=ur(3,null,null,a),r.current=x,x.stateNode=r,x.memoizedState={element:u,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},Sc(x),r}function nb(r,a,o){var u=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:B,key:u==null?null:""+u,children:r,containerInfo:a,implementation:o}}function Jm(r){if(!r)return Ss;r=r._reactInternals;e:{if(Gs(r)!==r||r.tag!==1)throw Error(s(170));var a=r;do{switch(a.tag){case 3:a=a.stateNode.context;break e;case 1:if(Bt(a.type)){a=a.stateNode.__reactInternalMemoizedMergedChildContext;break e}}a=a.return}while(a!==null);throw Error(s(171))}if(r.tag===1){var o=r.type;if(Bt(o))return jf(r,o,a)}return a}function Ym(r,a,o,u,f,x,b,A,R){return r=fd(o,u,!0,r,f,x,b,A,R),r.context=Jm(null),o=r.current,u=It(),f=Is(o),x=Qr(u,f),x.callback=a??null,Cs(o,x,f),r.current.lanes=f,ja(r,f,u),Ft(r,u),r}function Lo(r,a,o,u){var f=a.current,x=It(),b=Is(f);return o=Jm(o),a.context===null?a.context=o:a.pendingContext=o,a=Qr(x,b),a.payload={element:r},u=u===void 0?null:u,u!==null&&(a.callback=u),r=Cs(f,a,b),r!==null&&(_r(r,f,b,x),mo(r,f,b)),b}function $o(r){if(r=r.current,!r.child)return null;switch(r.child.tag){case 5:return r.child.stateNode;default:return r.child.stateNode}}function Xm(r,a){if(r=r.memoizedState,r!==null&&r.dehydrated!==null){var o=r.retryLane;r.retryLane=o!==0&&o<a?o:a}}function md(r,a){Xm(r,a),(r=r.alternate)&&Xm(r,a)}function ab(){return null}var Qm=typeof reportError=="function"?reportError:function(r){console.error(r)};function pd(r){this._internalRoot=r}Uo.prototype.render=pd.prototype.render=function(r){var a=this._internalRoot;if(a===null)throw Error(s(409));Lo(r,a,null,null)},Uo.prototype.unmount=pd.prototype.unmount=function(){var r=this._internalRoot;if(r!==null){this._internalRoot=null;var a=r.containerInfo;sn(function(){Lo(null,r,null,null)}),a[qr]=null}};function Uo(r){this._internalRoot=r}Uo.prototype.unstable_scheduleHydration=function(r){if(r){var a=Dh();r={blockedOn:null,target:r,priority:a};for(var o=0;o<ws.length&&a!==0&&a<ws[o].priority;o++);ws.splice(o,0,r),o===0&&Lh(r)}};function gd(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11)}function Bo(r){return!(!r||r.nodeType!==1&&r.nodeType!==9&&r.nodeType!==11&&(r.nodeType!==8||r.nodeValue!==" react-mount-point-unstable "))}function Zm(){}function ib(r,a,o,u,f){if(f){if(typeof u=="function"){var x=u;u=function(){var z=$o(b);x.call(z)}}var b=Ym(a,u,r,0,null,!1,!1,"",Zm);return r._reactRootContainer=b,r[qr]=b.current,La(r.nodeType===8?r.parentNode:r),sn(),b}for(;f=r.lastChild;)r.removeChild(f);if(typeof u=="function"){var A=u;u=function(){var z=$o(R);A.call(z)}}var R=fd(r,0,!1,null,null,!1,!1,"",Zm);return r._reactRootContainer=R,r[qr]=R.current,La(r.nodeType===8?r.parentNode:r),sn(function(){Lo(a,R,o,u)}),R}function Vo(r,a,o,u,f){var x=o._reactRootContainer;if(x){var b=x;if(typeof f=="function"){var A=f;f=function(){var R=$o(b);A.call(R)}}Lo(a,b,r,f)}else b=ib(o,a,r,f,u);return $o(b)}Rh=function(r){switch(r.tag){case 3:var a=r.stateNode;if(a.current.memoizedState.isDehydrated){var o=ka(a.pendingLanes);o!==0&&(Bl(a,o|1),Ft(a,Ze()),(Oe&6)===0&&(Wn=Ze()+500,Es()))}break;case 13:sn(function(){var u=Xr(r,1);if(u!==null){var f=It();_r(u,r,1,f)}}),md(r,1)}},Vl=function(r){if(r.tag===13){var a=Xr(r,134217728);if(a!==null){var o=It();_r(a,r,134217728,o)}md(r,134217728)}},Ih=function(r){if(r.tag===13){var a=Is(r),o=Xr(r,a);if(o!==null){var u=It();_r(o,r,a,u)}md(r,a)}},Dh=function(){return Le},Oh=function(r,a){var o=Le;try{return Le=r,a()}finally{Le=o}},va=function(r,a,o){switch(a){case"input":if(qt(r,o),a=o.name,o.type==="radio"&&a!=null){for(o=r;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+a)+'][type="radio"]'),a=0;a<o.length;a++){var u=o[a];if(u!==r&&u.form===r.form){var f=so(u);if(!f)throw Error(s(90));Kt(u),qt(u,f)}}}break;case"textarea":kn(r,o);break;case"select":a=o.value,a!=null&&Ir(r,!!o.multiple,a,!1)}},lt=od,jt=sn;var ob={usingClientEntryPoint:!1,Events:[Ba,Rn,so,Te,Qe,od]},ei={findFiberByHostInstance:Js,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},lb={bundleType:ei.bundleType,version:ei.version,rendererPackageName:ei.rendererPackageName,rendererConfig:ei.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:D.ReactCurrentDispatcher,findHostInstanceByFiber:function(r){return r=Nh(r),r===null?null:r.stateNode},findFiberByHostInstance:ei.findFiberByHostInstance||ab,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zo=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zo.isDisabled&&zo.supportsFiber)try{$i=zo.inject(lb),Dr=zo}catch{}}return Ht.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ob,Ht.createPortal=function(r,a){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!gd(a))throw Error(s(200));return nb(r,a,null,o)},Ht.createRoot=function(r,a){if(!gd(r))throw Error(s(299));var o=!1,u="",f=Qm;return a!=null&&(a.unstable_strictMode===!0&&(o=!0),a.identifierPrefix!==void 0&&(u=a.identifierPrefix),a.onRecoverableError!==void 0&&(f=a.onRecoverableError)),a=fd(r,1,!1,null,null,o,!1,u,f),r[qr]=a.current,La(r.nodeType===8?r.parentNode:r),new pd(a)},Ht.findDOMNode=function(r){if(r==null)return null;if(r.nodeType===1)return r;var a=r._reactInternals;if(a===void 0)throw typeof r.render=="function"?Error(s(188)):(r=Object.keys(r).join(","),Error(s(268,r)));return r=Nh(a),r=r===null?null:r.stateNode,r},Ht.flushSync=function(r){return sn(r)},Ht.hydrate=function(r,a,o){if(!Bo(a))throw Error(s(200));return Vo(null,r,a,!0,o)},Ht.hydrateRoot=function(r,a,o){if(!gd(r))throw Error(s(405));var u=o!=null&&o.hydratedSources||null,f=!1,x="",b=Qm;if(o!=null&&(o.unstable_strictMode===!0&&(f=!0),o.identifierPrefix!==void 0&&(x=o.identifierPrefix),o.onRecoverableError!==void 0&&(b=o.onRecoverableError)),a=Ym(a,null,r,1,o??null,f,!1,x,b),r[qr]=a.current,La(r),u)for(r=0;r<u.length;r++)o=u[r],f=o._getVersion,f=f(o._source),a.mutableSourceEagerHydrationData==null?a.mutableSourceEagerHydrationData=[o,f]:a.mutableSourceEagerHydrationData.push(o,f);return new Uo(a)},Ht.render=function(r,a,o){if(!Bo(a))throw Error(s(200));return Vo(null,r,a,!1,o)},Ht.unmountComponentAtNode=function(r){if(!Bo(r))throw Error(s(40));return r._reactRootContainer?(sn(function(){Vo(null,null,r,!1,function(){r._reactRootContainer=null,r[qr]=null})}),!0):!1},Ht.unstable_batchedUpdates=od,Ht.unstable_renderSubtreeIntoContainer=function(r,a,o,u){if(!Bo(o))throw Error(s(200));if(r==null||r._reactInternals===void 0)throw Error(s(38));return Vo(r,a,o,!1,u)},Ht.version="18.3.1-next-f1338f8080-20240426",Ht}var o0;function ag(){if(o0)return vd.exports;o0=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),vd.exports=pb(),vd.exports}var l0;function gb(){if(l0)return Fo;l0=1;var t=ag();return Fo.createRoot=t.createRoot,Fo.hydrateRoot=t.hydrateRoot,Fo}var yb=gb(),P=$u();const ee=ng(P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xb=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),vb=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,s,i)=>i?i.toUpperCase():s.toLowerCase()),c0=t=>{const e=vb(t);return e.charAt(0).toUpperCase()+e.slice(1)},ig=(...t)=>t.filter((e,s,i)=>!!e&&e.trim()!==""&&i.indexOf(e)===s).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bb={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wb=P.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:s=2,absoluteStrokeWidth:i,className:l="",children:c,iconNode:d,...h},m)=>P.createElement("svg",{ref:m,...bb,width:e,height:e,stroke:t,strokeWidth:i?Number(s)*24/Number(e):s,className:ig("lucide",l),...h},[...d.map(([p,g])=>P.createElement(p,g)),...Array.isArray(c)?c:[c]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const te=(t,e)=>{const s=P.forwardRef(({className:i,...l},c)=>P.createElement(wb,{ref:c,iconNode:e,className:ig(`lucide-${xb(c0(t))}`,`lucide-${t}`,i),...l}));return s.displayName=c0(t),s};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kb=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],jb=te("activity",kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nb=[["path",{d:"M15 12H3",key:"6jk70r"}],["path",{d:"M17 18H3",key:"1amg6g"}],["path",{d:"M21 6H3",key:"1jwq7v"}]],gi=te("align-left",Nb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _b=[["path",{d:"M8 3 4 7l4 4",key:"9rb6wj"}],["path",{d:"M4 7h16",key:"6tx8e3"}],["path",{d:"m16 21 4-4-4-4",key:"siv7j2"}],["path",{d:"M20 17H4",key:"h6l3hr"}]],og=te("arrow-left-right",_b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],rr=te("arrow-left",Sb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eb=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Tb=te("arrow-right",Eb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cb=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Pb=te("at-sign",Cb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ab=[["path",{d:"M3.85 8.62a4 4 0 0 1 4.78-4.77 4 4 0 0 1 6.74 0 4 4 0 0 1 4.78 4.78 4 4 0 0 1 0 6.74 4 4 0 0 1-4.77 4.78 4 4 0 0 1-6.75 0 4 4 0 0 1-4.78-4.77 4 4 0 0 1 0-6.76Z",key:"3c2336"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Rb=te("badge-check",Ab);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ib=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],Uu=te("bell",Ib);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Db=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],lg=te("book-open",Db);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ob=[["path",{d:"m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z",key:"1fy3hk"}]],Mb=te("bookmark",Ob);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lb=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],cg=te("building-2",Lb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $b=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Tt=te("calendar",$b);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ub=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Bb=te("camera",Ub);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vb=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],zb=te("check",Vb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fb=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zs=te("chevron-right",Fb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],ha=te("circle-alert",Hb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wb=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Bs=te("circle-check-big",Wb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],qb=te("circle-x",Kb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gb=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],as=te("clock",Gb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jb=[["path",{d:"M17.5 19H9a7 7 0 1 1 6.71-9h1.79a4.5 4.5 0 1 1 0 9Z",key:"p7xjir"}]],d0=te("cloud",Jb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yb=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],Xb=te("credit-card",Yb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qb=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Bu=te("dollar-sign",Qb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zb=[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]],rl=te("ellipsis-vertical",Zb);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ew=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],kd=te("eye-off",ew);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tw=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ci=te("eye",tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rw=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],sw=te("facebook",rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nw=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],aw=te("file-text",nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iw=[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]],u0=te("flag",iw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ow=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],dg=te("funnel",ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]],h0=te("grid-3x3",lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cw=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}],["path",{d:"M12 5 9.04 7.96a2.17 2.17 0 0 0 0 3.08c.82.82 2.13.85 3 .07l2.07-1.9a2.82 2.82 0 0 1 3.79 0l2.96 2.66",key:"4oyue0"}],["path",{d:"m18 15-2-2",key:"60u0ii"}],["path",{d:"m15 18-2-2",key:"6p76be"}]],eu=te("heart-handshake",cw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dw=[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]],Ai=te("heart",dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hw=te("history",uw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fw=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],mw=te("house",fw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pw=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],Nl=te("image",pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gw=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],yw=te("info",gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xw=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],vw=te("instagram",xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bw=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],ww=te("key",bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kw=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],jw=te("lightbulb",kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nw=[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]],_w=te("list",Nw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],is=te("loader-circle",Sw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],ra=te("lock",Ew);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],Cw=te("log-out",Tw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pw=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],Vu=te("mail",Pw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aw=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],_l=te("map-pin",Aw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rw=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],Iw=te("menu",Rw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dw=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Lt=te("message-circle",Dw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ow=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],Mw=te("message-square",Ow);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lw=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],tu=te("moon",Lw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $w=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Uw=te("pen",$w);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bw=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],ca=te("phone",Bw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vw=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],ns=te("plus",Vw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zw=[["path",{d:"m2 9 3-3 3 3",key:"1ltn5i"}],["path",{d:"M13 18H7a2 2 0 0 1-2-2V6",key:"1r6tfw"}],["path",{d:"m22 15-3 3-3-3",key:"4rnwn2"}],["path",{d:"M11 6h6a2 2 0 0 1 2 2v10",key:"2f72bc"}]],Fw=te("repeat-2",zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hw=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],Ww=te("rotate-ccw",Hw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kw=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],qw=te("save",Kw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gw=[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]],yi=te("search",Gw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jw=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ul=te("send",Jw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yw=[["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}],["circle",{cx:"6",cy:"12",r:"3",key:"w7nqdw"}],["circle",{cx:"18",cy:"19",r:"3",key:"1xt0gg"}],["line",{x1:"8.59",x2:"15.42",y1:"13.51",y2:"17.49",key:"47mynk"}],["line",{x1:"15.41",x2:"8.59",y1:"6.51",y2:"10.49",key:"1n3mei"}]],ug=te("share-2",Yw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]],f0=te("shield-alert",Xw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qw=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],hl=te("shield",Qw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zw=[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]],vn=te("shopping-bag",Zw);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ek=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],tk=te("smartphone",ek);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rk=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],bn=te("sparkles",rk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sk=[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]],ru=te("square-pen",sk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nk=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],xi=te("star",nk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ak=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],hg=te("store",ak);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ik=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],ii=te("sun",ik);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ok=[["path",{d:"M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z",key:"vktsd0"}],["circle",{cx:"7.5",cy:"7.5",r:".5",fill:"currentColor",key:"kqv944"}]],lk=te("tag",ok);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ck=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],dk=te("target",ck);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uk=[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]],hr=te("trash-2",uk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hk=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],pn=te("trending-up",hk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fk=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],jd=te("triangle-alert",fk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mk=[["polyline",{points:"4 7 4 4 20 4 20 7",key:"1nosan"}],["line",{x1:"9",x2:"15",y1:"20",y2:"20",key:"swin9y"}],["line",{x1:"12",x2:"12",y1:"4",y2:"20",key:"1tx1rr"}]],Sl=te("type",mk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pk=[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]],fg=te("upload",pk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["polyline",{points:"16 11 18 13 22 9",key:"1pwet4"}]],Nd=te("user-check",gk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]],mg=te("user-plus",yk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xk=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],mr=te("user",xk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vk=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],er=te("users",vk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],wk=te("wallet",bk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],$t=te("x",kk);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Nk=te("zap",jk),zu=P.createContext({});function Fu(t){const e=P.useRef(null);return e.current===null&&(e.current=t()),e.current}const pg=typeof window<"u",gg=pg?P.useLayoutEffect:P.useEffect,El=P.createContext(null);function Hu(t,e){t.indexOf(e)===-1&&t.push(e)}function fl(t,e){const s=t.indexOf(e);s>-1&&t.splice(s,1)}const zr=(t,e,s)=>s>e?e:s<t?t:s;let Wu=()=>{};const ls={},yg=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function xg(t){return typeof t=="object"&&t!==null}const vg=t=>/^0[^.\s]+$/u.test(t);function bg(t){let e;return()=>(e===void 0&&(e=t()),e)}const pr=t=>t,_k=(t,e)=>s=>e(t(s)),Ri=(...t)=>t.reduce(_k),vi=(t,e,s)=>{const i=e-t;return i===0?1:(s-t)/i};class Ku{constructor(){this.subscriptions=[]}add(e){return Hu(this.subscriptions,e),()=>fl(this.subscriptions,e)}notify(e,s,i){const l=this.subscriptions.length;if(l)if(l===1)this.subscriptions[0](e,s,i);else for(let c=0;c<l;c++){const d=this.subscriptions[c];d&&d(e,s,i)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Ar=t=>t*1e3,fr=t=>t/1e3;function wg(t,e){return e?t*(1e3/e):0}const kg=(t,e,s)=>(((1-3*s+3*e)*t+(3*s-6*e))*t+3*e)*t,Sk=1e-7,Ek=12;function Tk(t,e,s,i,l){let c,d,h=0;do d=e+(s-e)/2,c=kg(d,i,l)-t,c>0?s=d:e=d;while(Math.abs(c)>Sk&&++h<Ek);return d}function Ii(t,e,s,i){if(t===e&&s===i)return pr;const l=c=>Tk(c,0,1,t,s);return c=>c===0||c===1?c:kg(l(c),e,i)}const jg=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,Ng=t=>e=>1-t(1-e),_g=Ii(.33,1.53,.69,.99),qu=Ng(_g),Sg=jg(qu),Eg=t=>(t*=2)<1?.5*qu(t):.5*(2-Math.pow(2,-10*(t-1))),Gu=t=>1-Math.sin(Math.acos(t)),Tg=Ng(Gu),Cg=jg(Gu),Ck=Ii(.42,0,1,1),Pk=Ii(0,0,.58,1),Pg=Ii(.42,0,.58,1),Ak=t=>Array.isArray(t)&&typeof t[0]!="number",Ag=t=>Array.isArray(t)&&typeof t[0]=="number",Rk={linear:pr,easeIn:Ck,easeInOut:Pg,easeOut:Pk,circIn:Gu,circInOut:Cg,circOut:Tg,backIn:qu,backInOut:Sg,backOut:_g,anticipate:Eg},Ik=t=>typeof t=="string",m0=t=>{if(Ag(t)){Wu(t.length===4);const[e,s,i,l]=t;return Ii(e,s,i,l)}else if(Ik(t))return Rk[t];return t},Ho=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Dk(t,e){let s=new Set,i=new Set,l=!1,c=!1;const d=new WeakSet;let h={delta:0,timestamp:0,isProcessing:!1};function m(g){d.has(g)&&(p.schedule(g),t()),g(h)}const p={schedule:(g,y=!1,v=!1)=>{const k=v&&l?s:i;return y&&d.add(g),k.has(g)||k.add(g),g},cancel:g=>{i.delete(g),d.delete(g)},process:g=>{if(h=g,l){c=!0;return}l=!0,[s,i]=[i,s],s.forEach(m),s.clear(),l=!1,c&&(c=!1,p.process(g))}};return p}const Ok=40;function Rg(t,e){let s=!1,i=!0;const l={delta:0,timestamp:0,isProcessing:!1},c=()=>s=!0,d=Ho.reduce((j,D)=>(j[D]=Dk(c),j),{}),{setup:h,read:m,resolveKeyframes:p,preUpdate:g,update:y,preRender:v,render:w,postRender:k}=d,N=()=>{const j=ls.useManualTiming?l.timestamp:performance.now();s=!1,ls.useManualTiming||(l.delta=i?1e3/60:Math.max(Math.min(j-l.timestamp,Ok),1)),l.timestamp=j,l.isProcessing=!0,h.process(l),m.process(l),p.process(l),g.process(l),y.process(l),v.process(l),w.process(l),k.process(l),l.isProcessing=!1,s&&e&&(i=!1,t(N))},_=()=>{s=!0,i=!0,l.isProcessing||t(N)};return{schedule:Ho.reduce((j,D)=>{const $=d[D];return j[D]=(B,L=!1,O=!1)=>(s||_(),$.schedule(B,L,O)),j},{}),cancel:j=>{for(let D=0;D<Ho.length;D++)d[Ho[D]].cancel(j)},state:l,steps:d}}const{schedule:Ve,cancel:Hs,state:kt,steps:_d}=Rg(typeof requestAnimationFrame<"u"?requestAnimationFrame:pr,!0);let sl;function Mk(){sl=void 0}const Ot={now:()=>(sl===void 0&&Ot.set(kt.isProcessing||ls.useManualTiming?kt.timestamp:performance.now()),sl),set:t=>{sl=t,queueMicrotask(Mk)}},Ig=t=>e=>typeof e=="string"&&e.startsWith(t),Dg=Ig("--"),Lk=Ig("var(--"),Ju=t=>Lk(t)?$k.test(t.split("/*")[0].trim()):!1,$k=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu;function p0(t){return typeof t!="string"?!1:t.split("/*")[0].includes("var(--")}const ma={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},bi={...ma,transform:t=>zr(0,1,t)},Wo={...ma,default:1},di=t=>Math.round(t*1e5)/1e5,Yu=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function Uk(t){return t==null}const Bk=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Xu=(t,e)=>s=>!!(typeof s=="string"&&Bk.test(s)&&s.startsWith(t)||e&&!Uk(s)&&Object.prototype.hasOwnProperty.call(s,e)),Og=(t,e,s)=>i=>{if(typeof i!="string")return i;const[l,c,d,h]=i.match(Yu);return{[t]:parseFloat(l),[e]:parseFloat(c),[s]:parseFloat(d),alpha:h!==void 0?parseFloat(h):1}},Vk=t=>zr(0,255,t),Sd={...ma,transform:t=>Math.round(Vk(t))},gn={test:Xu("rgb","red"),parse:Og("red","green","blue"),transform:({red:t,green:e,blue:s,alpha:i=1})=>"rgba("+Sd.transform(t)+", "+Sd.transform(e)+", "+Sd.transform(s)+", "+di(bi.transform(i))+")"};function zk(t){let e="",s="",i="",l="";return t.length>5?(e=t.substring(1,3),s=t.substring(3,5),i=t.substring(5,7),l=t.substring(7,9)):(e=t.substring(1,2),s=t.substring(2,3),i=t.substring(3,4),l=t.substring(4,5),e+=e,s+=s,i+=i,l+=l),{red:parseInt(e,16),green:parseInt(s,16),blue:parseInt(i,16),alpha:l?parseInt(l,16)/255:1}}const su={test:Xu("#"),parse:zk,transform:gn.transform},Di=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),$s=Di("deg"),Vr=Di("%"),ue=Di("px"),Fk=Di("vh"),Hk=Di("vw"),g0={...Vr,parse:t=>Vr.parse(t)/100,transform:t=>Vr.transform(t*100)},sa={test:Xu("hsl","hue"),parse:Og("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:s,alpha:i=1})=>"hsla("+Math.round(t)+", "+Vr.transform(di(e))+", "+Vr.transform(di(s))+", "+di(bi.transform(i))+")"},it={test:t=>gn.test(t)||su.test(t)||sa.test(t),parse:t=>gn.test(t)?gn.parse(t):sa.test(t)?sa.parse(t):su.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?gn.transform(t):sa.transform(t),getAnimatableNone:t=>{const e=it.parse(t);return e.alpha=0,it.transform(e)}},Wk=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Kk(t){return isNaN(t)&&typeof t=="string"&&(t.match(Yu)?.length||0)+(t.match(Wk)?.length||0)>0}const Mg="number",Lg="color",qk="var",Gk="var(",y0="${}",Jk=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function wi(t){const e=t.toString(),s=[],i={color:[],number:[],var:[]},l=[];let c=0;const h=e.replace(Jk,m=>(it.test(m)?(i.color.push(c),l.push(Lg),s.push(it.parse(m))):m.startsWith(Gk)?(i.var.push(c),l.push(qk),s.push(m)):(i.number.push(c),l.push(Mg),s.push(parseFloat(m))),++c,y0)).split(y0);return{values:s,split:h,indexes:i,types:l}}function $g(t){return wi(t).values}function Ug(t){const{split:e,types:s}=wi(t),i=e.length;return l=>{let c="";for(let d=0;d<i;d++)if(c+=e[d],l[d]!==void 0){const h=s[d];h===Mg?c+=di(l[d]):h===Lg?c+=it.transform(l[d]):c+=l[d]}return c}}const Yk=t=>typeof t=="number"?0:it.test(t)?it.getAnimatableNone(t):t;function Xk(t){const e=$g(t);return Ug(t)(e.map(Yk))}const Rr={test:Kk,parse:$g,createTransformer:Ug,getAnimatableNone:Xk};function Ed(t,e,s){return s<0&&(s+=1),s>1&&(s-=1),s<1/6?t+(e-t)*6*s:s<1/2?e:s<2/3?t+(e-t)*(2/3-s)*6:t}function Qk({hue:t,saturation:e,lightness:s,alpha:i}){t/=360,e/=100,s/=100;let l=0,c=0,d=0;if(!e)l=c=d=s;else{const h=s<.5?s*(1+e):s+e-s*e,m=2*s-h;l=Ed(m,h,t+1/3),c=Ed(m,h,t),d=Ed(m,h,t-1/3)}return{red:Math.round(l*255),green:Math.round(c*255),blue:Math.round(d*255),alpha:i}}function ml(t,e){return s=>s>0?e:t}const Ge=(t,e,s)=>t+(e-t)*s,Td=(t,e,s)=>{const i=t*t,l=s*(e*e-i)+i;return l<0?0:Math.sqrt(l)},Zk=[su,gn,sa],e1=t=>Zk.find(e=>e.test(t));function x0(t){const e=e1(t);if(!e)return!1;let s=e.parse(t);return e===sa&&(s=Qk(s)),s}const v0=(t,e)=>{const s=x0(t),i=x0(e);if(!s||!i)return ml(t,e);const l={...s};return c=>(l.red=Td(s.red,i.red,c),l.green=Td(s.green,i.green,c),l.blue=Td(s.blue,i.blue,c),l.alpha=Ge(s.alpha,i.alpha,c),gn.transform(l))},nu=new Set(["none","hidden"]);function t1(t,e){return nu.has(t)?s=>s<=0?t:e:s=>s>=1?e:t}function r1(t,e){return s=>Ge(t,e,s)}function Qu(t){return typeof t=="number"?r1:typeof t=="string"?Ju(t)?ml:it.test(t)?v0:a1:Array.isArray(t)?Bg:typeof t=="object"?it.test(t)?v0:s1:ml}function Bg(t,e){const s=[...t],i=s.length,l=t.map((c,d)=>Qu(c)(c,e[d]));return c=>{for(let d=0;d<i;d++)s[d]=l[d](c);return s}}function s1(t,e){const s={...t,...e},i={};for(const l in s)t[l]!==void 0&&e[l]!==void 0&&(i[l]=Qu(t[l])(t[l],e[l]));return l=>{for(const c in i)s[c]=i[c](l);return s}}function n1(t,e){const s=[],i={color:0,var:0,number:0};for(let l=0;l<e.values.length;l++){const c=e.types[l],d=t.indexes[c][i[c]],h=t.values[d]??0;s[l]=h,i[c]++}return s}const a1=(t,e)=>{const s=Rr.createTransformer(e),i=wi(t),l=wi(e);return i.indexes.var.length===l.indexes.var.length&&i.indexes.color.length===l.indexes.color.length&&i.indexes.number.length>=l.indexes.number.length?nu.has(t)&&!l.values.length||nu.has(e)&&!i.values.length?t1(t,e):Ri(Bg(n1(i,l),l.values),s):ml(t,e)};function Vg(t,e,s){return typeof t=="number"&&typeof e=="number"&&typeof s=="number"?Ge(t,e,s):Qu(t)(t,e)}const i1=t=>{const e=({timestamp:s})=>t(s);return{start:(s=!0)=>Ve.update(e,s),stop:()=>Hs(e),now:()=>kt.isProcessing?kt.timestamp:Ot.now()}},zg=(t,e,s=10)=>{let i="";const l=Math.max(Math.round(e/s),2);for(let c=0;c<l;c++)i+=Math.round(t(c/(l-1))*1e4)/1e4+", ";return`linear(${i.substring(0,i.length-2)})`},pl=2e4;function Zu(t){let e=0;const s=50;let i=t.next(e);for(;!i.done&&e<pl;)e+=s,i=t.next(e);return e>=pl?1/0:e}function o1(t,e=100,s){const i=s({...t,keyframes:[0,e]}),l=Math.min(Zu(i),pl);return{type:"keyframes",ease:c=>i.next(l*c).value/e,duration:fr(l)}}const l1=5;function Fg(t,e,s){const i=Math.max(e-l1,0);return wg(s-t(i),e-i)}const Xe={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},Cd=.001;function c1({duration:t=Xe.duration,bounce:e=Xe.bounce,velocity:s=Xe.velocity,mass:i=Xe.mass}){let l,c,d=1-e;d=zr(Xe.minDamping,Xe.maxDamping,d),t=zr(Xe.minDuration,Xe.maxDuration,fr(t)),d<1?(l=p=>{const g=p*d,y=g*t,v=g-s,w=au(p,d),k=Math.exp(-y);return Cd-v/w*k},c=p=>{const y=p*d*t,v=y*s+s,w=Math.pow(d,2)*Math.pow(p,2)*t,k=Math.exp(-y),N=au(Math.pow(p,2),d);return(-l(p)+Cd>0?-1:1)*((v-w)*k)/N}):(l=p=>{const g=Math.exp(-p*t),y=(p-s)*t+1;return-Cd+g*y},c=p=>{const g=Math.exp(-p*t),y=(s-p)*(t*t);return g*y});const h=5/t,m=u1(l,c,h);if(t=Ar(t),isNaN(m))return{stiffness:Xe.stiffness,damping:Xe.damping,duration:t};{const p=Math.pow(m,2)*i;return{stiffness:p,damping:d*2*Math.sqrt(i*p),duration:t}}}const d1=12;function u1(t,e,s){let i=s;for(let l=1;l<d1;l++)i=i-t(i)/e(i);return i}function au(t,e){return t*Math.sqrt(1-e*e)}const h1=["duration","bounce"],f1=["stiffness","damping","mass"];function b0(t,e){return e.some(s=>t[s]!==void 0)}function m1(t){let e={velocity:Xe.velocity,stiffness:Xe.stiffness,damping:Xe.damping,mass:Xe.mass,isResolvedFromDuration:!1,...t};if(!b0(t,f1)&&b0(t,h1))if(e.velocity=0,t.visualDuration){const s=t.visualDuration,i=2*Math.PI/(s*1.2),l=i*i,c=2*zr(.05,1,1-(t.bounce||0))*Math.sqrt(l);e={...e,mass:Xe.mass,stiffness:l,damping:c}}else{const s=c1({...t,velocity:0});e={...e,...s,mass:Xe.mass},e.isResolvedFromDuration=!0}return e}function gl(t=Xe.visualDuration,e=Xe.bounce){const s=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:i,restDelta:l}=s;const c=s.keyframes[0],d=s.keyframes[s.keyframes.length-1],h={done:!1,value:c},{stiffness:m,damping:p,mass:g,duration:y,velocity:v,isResolvedFromDuration:w}=m1({...s,velocity:-fr(s.velocity||0)}),k=v||0,N=p/(2*Math.sqrt(m*g)),_=d-c,T=fr(Math.sqrt(m/g)),S=Math.abs(_)<5;i||(i=S?Xe.restSpeed.granular:Xe.restSpeed.default),l||(l=S?Xe.restDelta.granular:Xe.restDelta.default);let j;if(N<1){const $=au(T,N);j=B=>{const L=Math.exp(-N*T*B);return d-L*((k+N*T*_)/$*Math.sin($*B)+_*Math.cos($*B))}}else if(N===1)j=$=>d-Math.exp(-T*$)*(_+(k+T*_)*$);else{const $=T*Math.sqrt(N*N-1);j=B=>{const L=Math.exp(-N*T*B),O=Math.min($*B,300);return d-L*((k+N*T*_)*Math.sinh(O)+$*_*Math.cosh(O))/$}}const D={calculatedDuration:w&&y||null,next:$=>{const B=j($);if(w)h.done=$>=y;else{let L=$===0?k:0;N<1&&(L=$===0?Ar(k):Fg(j,$,B));const O=Math.abs(L)<=i,H=Math.abs(d-B)<=l;h.done=O&&H}return h.value=h.done?d:B,h},toString:()=>{const $=Math.min(Zu(D),pl),B=zg(L=>D.next($*L).value,$,30);return $+"ms "+B},toTransition:()=>{}};return D}gl.applyToOptions=t=>{const e=o1(t,100,gl);return t.ease=e.ease,t.duration=Ar(e.duration),t.type="keyframes",t};function iu({keyframes:t,velocity:e=0,power:s=.8,timeConstant:i=325,bounceDamping:l=10,bounceStiffness:c=500,modifyTarget:d,min:h,max:m,restDelta:p=.5,restSpeed:g}){const y=t[0],v={done:!1,value:y},w=O=>h!==void 0&&O<h||m!==void 0&&O>m,k=O=>h===void 0?m:m===void 0||Math.abs(h-O)<Math.abs(m-O)?h:m;let N=s*e;const _=y+N,T=d===void 0?_:d(_);T!==_&&(N=T-y);const S=O=>-N*Math.exp(-O/i),j=O=>T+S(O),D=O=>{const H=S(O),se=j(O);v.done=Math.abs(H)<=p,v.value=v.done?T:se};let $,B;const L=O=>{w(v.value)&&($=O,B=gl({keyframes:[v.value,k(v.value)],velocity:Fg(j,O,v.value),damping:l,stiffness:c,restDelta:p,restSpeed:g}))};return L(0),{calculatedDuration:null,next:O=>{let H=!1;return!B&&$===void 0&&(H=!0,D(O),L(O)),$!==void 0&&O>=$?B.next(O-$):(!H&&D(O),v)}}}function p1(t,e,s){const i=[],l=s||ls.mix||Vg,c=t.length-1;for(let d=0;d<c;d++){let h=l(t[d],t[d+1]);if(e){const m=Array.isArray(e)?e[d]||pr:e;h=Ri(m,h)}i.push(h)}return i}function g1(t,e,{clamp:s=!0,ease:i,mixer:l}={}){const c=t.length;if(Wu(c===e.length),c===1)return()=>e[0];if(c===2&&e[0]===e[1])return()=>e[1];const d=t[0]===t[1];t[0]>t[c-1]&&(t=[...t].reverse(),e=[...e].reverse());const h=p1(e,i,l),m=h.length,p=g=>{if(d&&g<t[0])return e[0];let y=0;if(m>1)for(;y<t.length-2&&!(g<t[y+1]);y++);const v=vi(t[y],t[y+1],g);return h[y](v)};return s?g=>p(zr(t[0],t[c-1],g)):p}function y1(t,e){const s=t[t.length-1];for(let i=1;i<=e;i++){const l=vi(0,e,i);t.push(Ge(s,1,l))}}function x1(t){const e=[0];return y1(e,t.length-1),e}function v1(t,e){return t.map(s=>s*e)}function b1(t,e){return t.map(()=>e||Pg).splice(0,t.length-1)}function ui({duration:t=300,keyframes:e,times:s,ease:i="easeInOut"}){const l=Ak(i)?i.map(m0):m0(i),c={done:!1,value:e[0]},d=v1(s&&s.length===e.length?s:x1(e),t),h=g1(d,e,{ease:Array.isArray(l)?l:b1(e,l)});return{calculatedDuration:t,next:m=>(c.value=h(m),c.done=m>=t,c)}}const w1=t=>t!==null;function eh(t,{repeat:e,repeatType:s="loop"},i,l=1){const c=t.filter(w1),h=l<0||e&&s!=="loop"&&e%2===1?0:c.length-1;return!h||i===void 0?c[h]:i}const k1={decay:iu,inertia:iu,tween:ui,keyframes:ui,spring:gl};function Hg(t){typeof t.type=="string"&&(t.type=k1[t.type])}class th{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,s){return this.finished.then(e,s)}}const j1=t=>t/100;class rh extends th{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{const{motionValue:s}=this.options;s&&s.updatedAt!==Ot.now()&&this.tick(Ot.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),this.options.onStop?.())},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;Hg(e);const{type:s=ui,repeat:i=0,repeatDelay:l=0,repeatType:c,velocity:d=0}=e;let{keyframes:h}=e;const m=s||ui;m!==ui&&typeof h[0]!="number"&&(this.mixKeyframes=Ri(j1,Vg(h[0],h[1])),h=[0,100]);const p=m({...e,keyframes:h});c==="mirror"&&(this.mirroredGenerator=m({...e,keyframes:[...h].reverse(),velocity:-d})),p.calculatedDuration===null&&(p.calculatedDuration=Zu(p));const{calculatedDuration:g}=p;this.calculatedDuration=g,this.resolvedDuration=g+l,this.totalDuration=this.resolvedDuration*(i+1)-l,this.generator=p}updateTime(e){const s=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=s}tick(e,s=!1){const{generator:i,totalDuration:l,mixKeyframes:c,mirroredGenerator:d,resolvedDuration:h,calculatedDuration:m}=this;if(this.startTime===null)return i.next(0);const{delay:p=0,keyframes:g,repeat:y,repeatType:v,repeatDelay:w,type:k,onUpdate:N,finalKeyframe:_}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-l/this.speed,this.startTime)),s?this.currentTime=e:this.updateTime(e);const T=this.currentTime-p*(this.playbackSpeed>=0?1:-1),S=this.playbackSpeed>=0?T<0:T>l;this.currentTime=Math.max(T,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=l);let j=this.currentTime,D=i;if(y){const O=Math.min(this.currentTime,l)/h;let H=Math.floor(O),se=O%1;!se&&O>=1&&(se=1),se===1&&H--,H=Math.min(H,y+1),!!(H%2)&&(v==="reverse"?(se=1-se,w&&(se-=w/h)):v==="mirror"&&(D=d)),j=zr(0,1,se)*h}const $=S?{done:!1,value:g[0]}:D.next(j);c&&($.value=c($.value));let{done:B}=$;!S&&m!==null&&(B=this.playbackSpeed>=0?this.currentTime>=l:this.currentTime<=0);const L=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&B);return L&&k!==iu&&($.value=eh(g,this.options,_,this.speed)),N&&N($.value),L&&this.finish(),$}then(e,s){return this.finished.then(e,s)}get duration(){return fr(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fr(e)}get time(){return fr(this.currentTime)}set time(e){e=Ar(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),this.driver?.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(Ot.now());const s=this.playbackSpeed!==e;this.playbackSpeed=e,s&&(this.time=fr(this.currentTime))}play(){if(this.isStopped)return;const{driver:e=i1,startTime:s}=this.options;this.driver||(this.driver=e(l=>this.tick(l))),this.options.onPlay?.();const i=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=i):this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime||(this.startTime=s??i),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(Ot.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){this.notifyFinished(),this.teardown(),this.state="finished",this.options.onComplete?.()}cancel(){this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),this.options.onCancel?.()}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),this.driver?.stop(),e.observe(this)}}function N1(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const yn=t=>t*180/Math.PI,ou=t=>{const e=yn(Math.atan2(t[1],t[0]));return lu(e)},_1={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:ou,rotateZ:ou,skewX:t=>yn(Math.atan(t[1])),skewY:t=>yn(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},lu=t=>(t=t%360,t<0&&(t+=360),t),w0=ou,k0=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),j0=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),S1={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:k0,scaleY:j0,scale:t=>(k0(t)+j0(t))/2,rotateX:t=>lu(yn(Math.atan2(t[6],t[5]))),rotateY:t=>lu(yn(Math.atan2(-t[2],t[0]))),rotateZ:w0,rotate:w0,skewX:t=>yn(Math.atan(t[4])),skewY:t=>yn(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function cu(t){return t.includes("scale")?1:0}function du(t,e){if(!t||t==="none")return cu(e);const s=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let i,l;if(s)i=S1,l=s;else{const h=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);i=_1,l=h}if(!l)return cu(e);const c=i[e],d=l[1].split(",").map(T1);return typeof c=="function"?c(d):d[c]}const E1=(t,e)=>{const{transform:s="none"}=getComputedStyle(t);return du(s,e)};function T1(t){return parseFloat(t.trim())}const pa=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ga=new Set(pa),N0=t=>t===ma||t===ue,C1=new Set(["x","y","z"]),P1=pa.filter(t=>!C1.has(t));function A1(t){const e=[];return P1.forEach(s=>{const i=t.getValue(s);i!==void 0&&(e.push([s,i.get()]),i.set(s.startsWith("scale")?1:0))}),e}const Fs={width:({x:t},{paddingLeft:e="0",paddingRight:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),height:({y:t},{paddingTop:e="0",paddingBottom:s="0"})=>t.max-t.min-parseFloat(e)-parseFloat(s),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>du(e,"x"),y:(t,{transform:e})=>du(e,"y")};Fs.translateX=Fs.x;Fs.translateY=Fs.y;const wn=new Set;let uu=!1,hu=!1,fu=!1;function Wg(){if(hu){const t=Array.from(wn).filter(i=>i.needsMeasurement),e=new Set(t.map(i=>i.element)),s=new Map;e.forEach(i=>{const l=A1(i);l.length&&(s.set(i,l),i.render())}),t.forEach(i=>i.measureInitialState()),e.forEach(i=>{i.render();const l=s.get(i);l&&l.forEach(([c,d])=>{i.getValue(c)?.set(d)})}),t.forEach(i=>i.measureEndState()),t.forEach(i=>{i.suspendedScrollY!==void 0&&window.scrollTo(0,i.suspendedScrollY)})}hu=!1,uu=!1,wn.forEach(t=>t.complete(fu)),wn.clear()}function Kg(){wn.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(hu=!0)})}function R1(){fu=!0,Kg(),Wg(),fu=!1}class sh{constructor(e,s,i,l,c,d=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=s,this.name=i,this.motionValue=l,this.element=c,this.isAsync=d}scheduleResolve(){this.state="scheduled",this.isAsync?(wn.add(this),uu||(uu=!0,Ve.read(Kg),Ve.resolveKeyframes(Wg))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:s,element:i,motionValue:l}=this;if(e[0]===null){const c=l?.get(),d=e[e.length-1];if(c!==void 0)e[0]=c;else if(i&&s){const h=i.readValue(s,d);h!=null&&(e[0]=h)}e[0]===void 0&&(e[0]=d),l&&c===void 0&&l.set(e[0])}N1(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),wn.delete(this)}cancel(){this.state==="scheduled"&&(wn.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const I1=t=>t.startsWith("--");function D1(t,e,s){I1(e)?t.style.setProperty(e,s):t.style[e]=s}const O1={};function qg(t,e){const s=bg(t);return()=>O1[e]??s()}const M1=qg(()=>window.ScrollTimeline!==void 0,"scrollTimeline"),Gg=qg(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),oi=([t,e,s,i])=>`cubic-bezier(${t}, ${e}, ${s}, ${i})`,_0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:oi([0,.65,.55,1]),circOut:oi([.55,0,1,.45]),backIn:oi([.31,.01,.66,-.59]),backOut:oi([.33,1.53,.69,.99])};function Jg(t,e){if(t)return typeof t=="function"?Gg()?zg(t,e):"ease-out":Ag(t)?oi(t):Array.isArray(t)?t.map(s=>Jg(s,e)||_0.easeOut):_0[t]}function L1(t,e,s,{delay:i=0,duration:l=300,repeat:c=0,repeatType:d="loop",ease:h="easeOut",times:m}={},p=void 0){const g={[e]:s};m&&(g.offset=m);const y=Jg(h,l);Array.isArray(y)&&(g.easing=y);const v={delay:i,duration:l,easing:Array.isArray(y)?"linear":y,fill:"both",iterations:c+1,direction:d==="reverse"?"alternate":"normal"};return p&&(v.pseudoElement=p),t.animate(g,v)}function Yg(t){return typeof t=="function"&&"applyToOptions"in t}function $1({type:t,...e}){return Yg(t)&&Gg()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Xg extends th{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,this.manualStartTime=null,!e)return;const{element:s,name:i,keyframes:l,pseudoElement:c,allowFlatten:d=!1,finalKeyframe:h,onComplete:m}=e;this.isPseudoElement=!!c,this.allowFlatten=d,this.options=e,Wu(typeof e.type!="string");const p=$1(e);this.animation=L1(s,i,l,p,c),p.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!c){const g=eh(l,this.options,h,this.speed);this.updateMotionValue?this.updateMotionValue(g):D1(s,i,g),this.animation.cancel()}m?.(),this.notifyFinished()}}play(){this.isStopped||(this.manualStartTime=null,this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){this.animation.finish?.()}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){const e=this.options?.element;!this.isPseudoElement&&e?.isConnected&&this.animation.commitStyles?.()}get duration(){const e=this.animation.effect?.getComputedTiming?.().duration||0;return fr(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+fr(e)}get time(){return fr(Number(this.animation.currentTime)||0)}set time(e){this.manualStartTime=null,this.finishedTime=null,this.animation.currentTime=Ar(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return this.manualStartTime??Number(this.animation.startTime)}set startTime(e){this.manualStartTime=this.animation.startTime=e}attachTimeline({timeline:e,observe:s}){return this.allowFlatten&&this.animation.effect?.updateTiming({easing:"linear"}),this.animation.onfinish=null,e&&M1()?(this.animation.timeline=e,pr):s(this)}}const Qg={anticipate:Eg,backInOut:Sg,circInOut:Cg};function U1(t){return t in Qg}function B1(t){typeof t.ease=="string"&&U1(t.ease)&&(t.ease=Qg[t.ease])}const Pd=10;class V1 extends Xg{constructor(e){B1(e),Hg(e),super(e),e.startTime!==void 0&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:s,onUpdate:i,onComplete:l,element:c,...d}=this.options;if(!s)return;if(e!==void 0){s.set(e);return}const h=new rh({...d,autoplay:!1}),m=Math.max(Pd,Ot.now()-this.startTime),p=zr(0,Pd,m-Pd);s.setWithVelocity(h.sample(Math.max(0,m-p)).value,h.sample(m).value,p),h.stop()}}const S0=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(Rr.test(t)||t==="0")&&!t.startsWith("url("));function z1(t){const e=t[0];if(t.length===1)return!0;for(let s=0;s<t.length;s++)if(t[s]!==e)return!0}function F1(t,e,s,i){const l=t[0];if(l===null)return!1;if(e==="display"||e==="visibility")return!0;const c=t[t.length-1],d=S0(l,e),h=S0(c,e);return!d||!h?!1:z1(t)||(s==="spring"||Yg(s))&&i}function mu(t){t.duration=0,t.type="keyframes"}const H1=new Set(["opacity","clipPath","filter","transform"]),W1=bg(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function K1(t){const{motionValue:e,name:s,repeatDelay:i,repeatType:l,damping:c,type:d}=t;if(!(e?.owner?.current instanceof HTMLElement))return!1;const{onUpdate:m,transformTemplate:p}=e.owner.getProps();return W1()&&s&&H1.has(s)&&(s!=="transform"||!p)&&!m&&!i&&l!=="mirror"&&c!==0&&d!=="inertia"}const q1=40;class G1 extends th{constructor({autoplay:e=!0,delay:s=0,type:i="keyframes",repeat:l=0,repeatDelay:c=0,repeatType:d="loop",keyframes:h,name:m,motionValue:p,element:g,...y}){super(),this.stop=()=>{this._animation&&(this._animation.stop(),this.stopTimeline?.()),this.keyframeResolver?.cancel()},this.createdAt=Ot.now();const v={autoplay:e,delay:s,type:i,repeat:l,repeatDelay:c,repeatType:d,name:m,motionValue:p,element:g,...y},w=g?.KeyframeResolver||sh;this.keyframeResolver=new w(h,(k,N,_)=>this.onKeyframesResolved(k,N,v,!_),m,p,g),this.keyframeResolver?.scheduleResolve()}onKeyframesResolved(e,s,i,l){this.keyframeResolver=void 0;const{name:c,type:d,velocity:h,delay:m,isHandoff:p,onUpdate:g}=i;this.resolvedAt=Ot.now(),F1(e,c,d,h)||((ls.instantAnimations||!m)&&g?.(eh(e,i,s)),e[0]=e[e.length-1],mu(i),i.repeat=0);const v={startTime:l?this.resolvedAt?this.resolvedAt-this.createdAt>q1?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:s,...i,keyframes:e},w=!p&&K1(v),k=v.motionValue?.owner?.current,N=w?new V1({...v,element:k}):new rh(v);N.finished.then(()=>{this.notifyFinished()}).catch(pr),this.pendingTimeline&&(this.stopTimeline=N.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=N}get finished(){return this._animation?this.animation.finished:this._finished}then(e,s){return this.finished.finally(e).then(()=>{})}get animation(){return this._animation||(this.keyframeResolver?.resume(),R1()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){this._animation&&this.animation.cancel(),this.keyframeResolver?.cancel()}}function Zg(t,e,s,i=0,l=1){const c=Array.from(t).sort((p,g)=>p.sortNodePosition(g)).indexOf(e),d=t.size,h=(d-1)*i;return typeof s=="function"?s(c,d):l===1?c*i:h-c*i}const J1=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Y1(t){const e=J1.exec(t);if(!e)return[,];const[,s,i,l]=e;return[`--${s??i}`,l]}function ey(t,e,s=1){const[i,l]=Y1(t);if(!i)return;const c=window.getComputedStyle(e).getPropertyValue(i);if(c){const d=c.trim();return yg(d)?parseFloat(d):d}return Ju(l)?ey(l,e,s+1):l}const X1={type:"spring",stiffness:500,damping:25,restSpeed:10},Q1=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Z1={type:"keyframes",duration:.8},ej={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},tj=(t,{keyframes:e})=>e.length>2?Z1:ga.has(t)?t.startsWith("scale")?Q1(e[1]):X1:ej,rj=t=>t!==null;function sj(t,{repeat:e,repeatType:s="loop"},i){const l=t.filter(rj),c=e&&s!=="loop"&&e%2===1?0:l.length-1;return l[c]}function ty(t,e){if(t?.inherit&&e){const{inherit:s,...i}=t;return{...e,...i}}return t}function nh(t,e){const s=t?.[e]??t?.default??t;return s!==t?ty(s,t):s}function nj({when:t,delay:e,delayChildren:s,staggerChildren:i,staggerDirection:l,repeat:c,repeatType:d,repeatDelay:h,from:m,elapsed:p,...g}){return!!Object.keys(g).length}const ah=(t,e,s,i={},l,c)=>d=>{const h=nh(i,t)||{},m=h.delay||i.delay||0;let{elapsed:p=0}=i;p=p-Ar(m);const g={keyframes:Array.isArray(s)?s:[null,s],ease:"easeOut",velocity:e.getVelocity(),...h,delay:-p,onUpdate:v=>{e.set(v),h.onUpdate&&h.onUpdate(v)},onComplete:()=>{d(),h.onComplete&&h.onComplete()},name:t,motionValue:e,element:c?void 0:l};nj(h)||Object.assign(g,tj(t,g)),g.duration&&(g.duration=Ar(g.duration)),g.repeatDelay&&(g.repeatDelay=Ar(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let y=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(mu(g),g.delay===0&&(y=!0)),(ls.instantAnimations||ls.skipAnimations||l?.shouldSkipAnimations)&&(y=!0,mu(g),g.delay=0),g.allowFlatten=!h.type&&!h.ease,y&&!c&&e.get()!==void 0){const v=sj(g.keyframes,h);if(v!==void 0){Ve.update(()=>{g.onUpdate(v),g.onComplete()});return}}return h.isSync?new rh(g):new G1(g)};function E0(t){const e=[{},{}];return t?.values.forEach((s,i)=>{e[0][i]=s.get(),e[1][i]=s.getVelocity()}),e}function ih(t,e,s,i){if(typeof e=="function"){const[l,c]=E0(i);e=e(s!==void 0?s:t.custom,l,c)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[l,c]=E0(i);e=e(s!==void 0?s:t.custom,l,c)}return e}function da(t,e,s){const i=t.getProps();return ih(i,e,s!==void 0?s:i.custom,t)}const ry=new Set(["width","height","top","left","right","bottom",...pa]),T0=30,aj=t=>!isNaN(parseFloat(t));class ij{constructor(e,s={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=i=>{const l=Ot.now();if(this.updatedAt!==l&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(i),this.current!==this.prev&&(this.events.change?.notify(this.current),this.dependents))for(const c of this.dependents)c.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=s.owner}setCurrent(e){this.current=e,this.updatedAt=Ot.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=aj(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,s){this.events[e]||(this.events[e]=new Ku);const i=this.events[e].add(s);return e==="change"?()=>{i(),Ve.read(()=>{this.events.change.getSize()||this.stop()})}:i}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,s){this.passiveEffect=e,this.stopPassiveEffect=s}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,s,i){this.set(s),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-i}jump(e,s=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,s&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){this.events.change?.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Ot.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>T0)return 0;const s=Math.min(this.updatedAt-this.prevUpdatedAt,T0);return wg(parseFloat(this.current)-parseFloat(this.prevFrameValue),s)}start(e){return this.stop(),new Promise(s=>{this.hasAnimated=!0,this.animation=e(s),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.dependents?.clear(),this.events.destroy?.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function fa(t,e){return new ij(t,e)}const pu=t=>Array.isArray(t);function oj(t,e,s){t.hasValue(e)?t.getValue(e).set(s):t.addValue(e,fa(s))}function lj(t){return pu(t)?t[t.length-1]||0:t}function cj(t,e){const s=da(t,e);let{transitionEnd:i={},transition:l={},...c}=s||{};c={...c,...i};for(const d in c){const h=lj(c[d]);oj(t,d,h)}}const Ct=t=>!!(t&&t.getVelocity);function dj(t){return!!(Ct(t)&&t.add)}function gu(t,e){const s=t.getValue("willChange");if(dj(s))return s.add(e);if(!s&&ls.WillChange){const i=new ls.WillChange("auto");t.addValue("willChange",i),i.add(e)}}function oh(t){return t.replace(/([A-Z])/g,e=>`-${e.toLowerCase()}`)}const uj="framerAppearId",sy="data-"+oh(uj);function ny(t){return t.props[sy]}function hj({protectedKeys:t,needsAnimating:e},s){const i=t.hasOwnProperty(s)&&e[s]!==!0;return e[s]=!1,i}function ay(t,e,{delay:s=0,transitionOverride:i,type:l}={}){let{transition:c,transitionEnd:d,...h}=e;const m=t.getDefaultTransition();c=c?ty(c,m):m;const p=c?.reduceMotion;i&&(c=i);const g=[],y=l&&t.animationState&&t.animationState.getState()[l];for(const v in h){const w=t.getValue(v,t.latestValues[v]??null),k=h[v];if(k===void 0||y&&hj(y,v))continue;const N={delay:s,...nh(c||{},v)},_=w.get();if(_!==void 0&&!w.isAnimating&&!Array.isArray(k)&&k===_&&!N.velocity)continue;let T=!1;if(window.MotionHandoffAnimation){const D=ny(t);if(D){const $=window.MotionHandoffAnimation(D,v,Ve);$!==null&&(N.startTime=$,T=!0)}}gu(t,v);const S=p??t.shouldReduceMotion;w.start(ah(v,w,k,S&&ry.has(v)?{type:!1}:N,t,T));const j=w.animation;j&&g.push(j)}if(d){const v=()=>Ve.update(()=>{d&&cj(t,d)});g.length?Promise.all(g).then(v):v()}return g}function yu(t,e,s={}){const i=da(t,e,s.type==="exit"?t.presenceContext?.custom:void 0);let{transition:l=t.getDefaultTransition()||{}}=i||{};s.transitionOverride&&(l=s.transitionOverride);const c=i?()=>Promise.all(ay(t,i,s)):()=>Promise.resolve(),d=t.variantChildren&&t.variantChildren.size?(m=0)=>{const{delayChildren:p=0,staggerChildren:g,staggerDirection:y}=l;return fj(t,e,m,p,g,y,s)}:()=>Promise.resolve(),{when:h}=l;if(h){const[m,p]=h==="beforeChildren"?[c,d]:[d,c];return m().then(()=>p())}else return Promise.all([c(),d(s.delay)])}function fj(t,e,s=0,i=0,l=0,c=1,d){const h=[];for(const m of t.variantChildren)m.notify("AnimationStart",e),h.push(yu(m,e,{...d,delay:s+(typeof i=="function"?0:i)+Zg(t.variantChildren,m,i,l,c)}).then(()=>m.notify("AnimationComplete",e)));return Promise.all(h)}function mj(t,e,s={}){t.notify("AnimationStart",e);let i;if(Array.isArray(e)){const l=e.map(c=>yu(t,c,s));i=Promise.all(l)}else if(typeof e=="string")i=yu(t,e,s);else{const l=typeof e=="function"?da(t,e,s.custom):e;i=Promise.all(ay(t,l,s))}return i.then(()=>{t.notify("AnimationComplete",e)})}const pj={test:t=>t==="auto",parse:t=>t},iy=t=>e=>e.test(t),oy=[ma,ue,Vr,$s,Hk,Fk,pj],C0=t=>oy.find(iy(t));function gj(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||vg(t):!0}const yj=new Set(["brightness","contrast","saturate","opacity"]);function xj(t){const[e,s]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[i]=s.match(Yu)||[];if(!i)return t;const l=s.replace(i,"");let c=yj.has(e)?1:0;return i!==s&&(c*=100),e+"("+c+l+")"}const vj=/\b([a-z-]*)\(.*?\)/gu,xu={...Rr,getAnimatableNone:t=>{const e=t.match(vj);return e?e.map(xj).join(" "):t}},vu={...Rr,getAnimatableNone:t=>{const e=Rr.parse(t);return Rr.createTransformer(t)(e.map(i=>typeof i=="number"?0:typeof i=="object"?{...i,alpha:1}:i))}},P0={...ma,transform:Math.round},bj={rotate:$s,rotateX:$s,rotateY:$s,rotateZ:$s,scale:Wo,scaleX:Wo,scaleY:Wo,scaleZ:Wo,skew:$s,skewX:$s,skewY:$s,distance:ue,translateX:ue,translateY:ue,translateZ:ue,x:ue,y:ue,z:ue,perspective:ue,transformPerspective:ue,opacity:bi,originX:g0,originY:g0,originZ:ue},lh={borderWidth:ue,borderTopWidth:ue,borderRightWidth:ue,borderBottomWidth:ue,borderLeftWidth:ue,borderRadius:ue,borderTopLeftRadius:ue,borderTopRightRadius:ue,borderBottomRightRadius:ue,borderBottomLeftRadius:ue,width:ue,maxWidth:ue,height:ue,maxHeight:ue,top:ue,right:ue,bottom:ue,left:ue,inset:ue,insetBlock:ue,insetBlockStart:ue,insetBlockEnd:ue,insetInline:ue,insetInlineStart:ue,insetInlineEnd:ue,padding:ue,paddingTop:ue,paddingRight:ue,paddingBottom:ue,paddingLeft:ue,paddingBlock:ue,paddingBlockStart:ue,paddingBlockEnd:ue,paddingInline:ue,paddingInlineStart:ue,paddingInlineEnd:ue,margin:ue,marginTop:ue,marginRight:ue,marginBottom:ue,marginLeft:ue,marginBlock:ue,marginBlockStart:ue,marginBlockEnd:ue,marginInline:ue,marginInlineStart:ue,marginInlineEnd:ue,fontSize:ue,backgroundPositionX:ue,backgroundPositionY:ue,...bj,zIndex:P0,fillOpacity:bi,strokeOpacity:bi,numOctaves:P0},wj={...lh,color:it,backgroundColor:it,outlineColor:it,fill:it,stroke:it,borderColor:it,borderTopColor:it,borderRightColor:it,borderBottomColor:it,borderLeftColor:it,filter:xu,WebkitFilter:xu,mask:vu,WebkitMask:vu},ly=t=>wj[t],kj=new Set([xu,vu]);function cy(t,e){let s=ly(t);return kj.has(s)||(s=Rr),s.getAnimatableNone?s.getAnimatableNone(e):void 0}const jj=new Set(["auto","none","0"]);function Nj(t,e,s){let i=0,l;for(;i<t.length&&!l;){const c=t[i];typeof c=="string"&&!jj.has(c)&&wi(c).values.length&&(l=t[i]),i++}if(l&&s)for(const c of e)t[c]=cy(s,l)}class _j extends sh{constructor(e,s,i,l,c){super(e,s,i,l,c,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:s,name:i}=this;if(!s||!s.current)return;super.readKeyframes();for(let g=0;g<e.length;g++){let y=e[g];if(typeof y=="string"&&(y=y.trim(),Ju(y))){const v=ey(y,s.current);v!==void 0&&(e[g]=v),g===e.length-1&&(this.finalKeyframe=y)}}if(this.resolveNoneKeyframes(),!ry.has(i)||e.length!==2)return;const[l,c]=e,d=C0(l),h=C0(c),m=p0(l),p=p0(c);if(m!==p&&Fs[i]){this.needsMeasurement=!0;return}if(d!==h)if(N0(d)&&N0(h))for(let g=0;g<e.length;g++){const y=e[g];typeof y=="string"&&(e[g]=parseFloat(y))}else Fs[i]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:s}=this,i=[];for(let l=0;l<e.length;l++)(e[l]===null||gj(e[l]))&&i.push(l);i.length&&Nj(e,i,s)}measureInitialState(){const{element:e,unresolvedKeyframes:s,name:i}=this;if(!e||!e.current)return;i==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=Fs[i](e.measureViewportBox(),window.getComputedStyle(e.current)),s[0]=this.measuredOrigin;const l=s[s.length-1];l!==void 0&&e.getValue(i,l).jump(l,!1)}measureEndState(){const{element:e,name:s,unresolvedKeyframes:i}=this;if(!e||!e.current)return;const l=e.getValue(s);l&&l.jump(this.measuredOrigin,!1);const c=i.length-1,d=i[c];i[c]=Fs[s](e.measureViewportBox(),window.getComputedStyle(e.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),this.removedTransforms?.length&&this.removedTransforms.forEach(([h,m])=>{e.getValue(h).set(m)}),this.resolveNoneKeyframes()}}const Sj=new Set(["opacity","clipPath","filter","transform"]);function dy(t,e,s){if(t==null)return[];if(t instanceof EventTarget)return[t];if(typeof t=="string"){let i=document;const l=s?.[t]??i.querySelectorAll(t);return l?Array.from(l):[]}return Array.from(t).filter(i=>i!=null)}const uy=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function bu(t){return xg(t)&&"offsetHeight"in t}const{schedule:ch}=Rg(queueMicrotask,!1),Tr={x:!1,y:!1};function hy(){return Tr.x||Tr.y}function Ej(t){return t==="x"||t==="y"?Tr[t]?null:(Tr[t]=!0,()=>{Tr[t]=!1}):Tr.x||Tr.y?null:(Tr.x=Tr.y=!0,()=>{Tr.x=Tr.y=!1})}function fy(t,e){const s=dy(t),i=new AbortController,l={passive:!0,...e,signal:i.signal};return[s,l,()=>i.abort()]}function Tj(t){return!(t.pointerType==="touch"||hy())}function Cj(t,e,s={}){const[i,l,c]=fy(t,s);return i.forEach(d=>{let h=!1,m=!1,p;const g=()=>{d.removeEventListener("pointerleave",k)},y=_=>{p&&(p(_),p=void 0),g()},v=_=>{h=!1,window.removeEventListener("pointerup",v),window.removeEventListener("pointercancel",v),m&&(m=!1,y(_))},w=()=>{h=!0,window.addEventListener("pointerup",v,l),window.addEventListener("pointercancel",v,l)},k=_=>{if(_.pointerType!=="touch"){if(h){m=!0;return}y(_)}},N=_=>{if(!Tj(_))return;m=!1;const T=e(d,_);typeof T=="function"&&(p=T,d.addEventListener("pointerleave",k,l))};d.addEventListener("pointerenter",N,l),d.addEventListener("pointerdown",w,l)}),c}const my=(t,e)=>e?t===e?!0:my(t,e.parentElement):!1,dh=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Pj=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Aj(t){return Pj.has(t.tagName)||t.isContentEditable===!0}const Rj=new Set(["INPUT","SELECT","TEXTAREA"]);function Ij(t){return Rj.has(t.tagName)||t.isContentEditable===!0}const nl=new WeakSet;function A0(t){return e=>{e.key==="Enter"&&t(e)}}function Ad(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Dj=(t,e)=>{const s=t.currentTarget;if(!s)return;const i=A0(()=>{if(nl.has(s))return;Ad(s,"down");const l=A0(()=>{Ad(s,"up")}),c=()=>Ad(s,"cancel");s.addEventListener("keyup",l,e),s.addEventListener("blur",c,e)});s.addEventListener("keydown",i,e),s.addEventListener("blur",()=>s.removeEventListener("keydown",i),e)};function R0(t){return dh(t)&&!hy()}const I0=new WeakSet;function Oj(t,e,s={}){const[i,l,c]=fy(t,s),d=h=>{const m=h.currentTarget;if(!R0(h)||I0.has(h))return;nl.add(m),s.stopPropagation&&I0.add(h);const p=e(m,h),g=(w,k)=>{window.removeEventListener("pointerup",y),window.removeEventListener("pointercancel",v),nl.has(m)&&nl.delete(m),R0(w)&&typeof p=="function"&&p(w,{success:k})},y=w=>{g(w,m===window||m===document||s.useGlobalTarget||my(m,w.target))},v=w=>{g(w,!1)};window.addEventListener("pointerup",y,l),window.addEventListener("pointercancel",v,l)};return i.forEach(h=>{(s.useGlobalTarget?window:h).addEventListener("pointerdown",d,l),bu(h)&&(h.addEventListener("focus",p=>Dj(p,l)),!Aj(h)&&!h.hasAttribute("tabindex")&&(h.tabIndex=0))}),c}function uh(t){return xg(t)&&"ownerSVGElement"in t}const al=new WeakMap;let il;const py=(t,e,s)=>(i,l)=>l&&l[0]?l[0][t+"Size"]:uh(i)&&"getBBox"in i?i.getBBox()[e]:i[s],Mj=py("inline","width","offsetWidth"),Lj=py("block","height","offsetHeight");function $j({target:t,borderBoxSize:e}){al.get(t)?.forEach(s=>{s(t,{get width(){return Mj(t,e)},get height(){return Lj(t,e)}})})}function Uj(t){t.forEach($j)}function Bj(){typeof ResizeObserver>"u"||(il=new ResizeObserver(Uj))}function Vj(t,e){il||Bj();const s=dy(t);return s.forEach(i=>{let l=al.get(i);l||(l=new Set,al.set(i,l)),l.add(e),il?.observe(i)}),()=>{s.forEach(i=>{const l=al.get(i);l?.delete(e),l?.size||il?.unobserve(i)})}}const ol=new Set;let na;function zj(){na=()=>{const t={get width(){return window.innerWidth},get height(){return window.innerHeight}};ol.forEach(e=>e(t))},window.addEventListener("resize",na)}function Fj(t){return ol.add(t),na||zj(),()=>{ol.delete(t),!ol.size&&typeof na=="function"&&(window.removeEventListener("resize",na),na=void 0)}}function D0(t,e){return typeof t=="function"?Fj(t):Vj(t,e)}function Hj(t){return uh(t)&&t.tagName==="svg"}const Wj=[...oy,it,Rr],Kj=t=>Wj.find(iy(t)),O0=()=>({translate:0,scale:1,origin:0,originPoint:0}),aa=()=>({x:O0(),y:O0()}),M0=()=>({min:0,max:0}),ht=()=>({x:M0(),y:M0()}),qj=new WeakMap;function Tl(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function ki(t){return typeof t=="string"||Array.isArray(t)}const hh=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],fh=["initial",...hh];function Cl(t){return Tl(t.animate)||fh.some(e=>ki(t[e]))}function gy(t){return!!(Cl(t)||t.variants)}function Gj(t,e,s){for(const i in e){const l=e[i],c=s[i];if(Ct(l))t.addValue(i,l);else if(Ct(c))t.addValue(i,fa(l,{owner:t}));else if(c!==l)if(t.hasValue(i)){const d=t.getValue(i);d.liveStyle===!0?d.jump(l):d.hasAnimated||d.set(l)}else{const d=t.getStaticValue(i);t.addValue(i,fa(d!==void 0?d:l,{owner:t}))}}for(const i in s)e[i]===void 0&&t.removeValue(i);return e}const wu={current:null},yy={current:!1},Jj=typeof window<"u";function Yj(){if(yy.current=!0,!!Jj)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>wu.current=t.matches;t.addEventListener("change",e),e()}else wu.current=!1}const L0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];let yl={};function xy(t){yl=t}function Xj(){return yl}class Qj{scrapeMotionValuesFromProps(e,s,i){return{}}constructor({parent:e,props:s,presenceContext:i,reducedMotionConfig:l,skipAnimations:c,blockInitialAnimation:d,visualState:h},m={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.shouldSkipAnimations=!1,this.values=new Map,this.KeyframeResolver=sh,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.hasBeenMounted=!1,this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Ot.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Ve.render(this.render,!1,!0))};const{latestValues:p,renderState:g}=h;this.latestValues=p,this.baseTarget={...p},this.initialValues=s.initial?{...p}:{},this.renderState=g,this.parent=e,this.props=s,this.presenceContext=i,this.depth=e?e.depth+1:0,this.reducedMotionConfig=l,this.skipAnimationsConfig=c,this.options=m,this.blockInitialAnimation=!!d,this.isControllingVariants=Cl(s),this.isVariantNode=gy(s),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:y,...v}=this.scrapeMotionValuesFromProps(s,{},this);for(const w in v){const k=v[w];p[w]!==void 0&&Ct(k)&&k.set(p[w])}}mount(e){if(this.hasBeenMounted)for(const s in this.initialValues)this.values.get(s)?.jump(this.initialValues[s]),this.latestValues[s]=this.initialValues[s];this.current=e,qj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((s,i)=>this.bindToMotionValue(i,s)),this.reducedMotionConfig==="never"?this.shouldReduceMotion=!1:this.reducedMotionConfig==="always"?this.shouldReduceMotion=!0:(yy.current||Yj(),this.shouldReduceMotion=wu.current),this.shouldSkipAnimations=this.skipAnimationsConfig??!1,this.parent?.addChild(this),this.update(this.props,this.presenceContext),this.hasBeenMounted=!0}unmount(){this.projection&&this.projection.unmount(),Hs(this.notifyUpdate),Hs(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent?.removeChild(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const s=this.features[e];s&&(s.unmount(),s.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,s){if(this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)(),s.accelerate&&Sj.has(e)&&this.current instanceof HTMLElement){const{factory:d,keyframes:h,times:m,ease:p,duration:g}=s.accelerate,y=new Xg({element:this.current,name:e,keyframes:h,times:m,ease:p,duration:Ar(g)}),v=d(y);this.valueSubscriptions.set(e,()=>{v(),y.cancel()});return}const i=ga.has(e);i&&this.onBindTransform&&this.onBindTransform();const l=s.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&Ve.preRender(this.notifyUpdate),i&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let c;typeof window<"u"&&window.MotionCheckAppearSync&&(c=window.MotionCheckAppearSync(this,e,s)),this.valueSubscriptions.set(e,()=>{l(),c&&c(),s.owner&&s.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yl){const s=yl[e];if(!s)continue;const{isEnabled:i,Feature:l}=s;if(!this.features[e]&&l&&i(this.props)&&(this.features[e]=new l(this)),this.features[e]){const c=this.features[e];c.isMounted?c.update():(c.mount(),c.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,s){this.latestValues[e]=s}update(e,s){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=s;for(let i=0;i<L0.length;i++){const l=L0[i];this.propEventSubscriptions[l]&&(this.propEventSubscriptions[l](),delete this.propEventSubscriptions[l]);const c="on"+l,d=e[c];d&&(this.propEventSubscriptions[l]=this.on(l,d))}this.prevMotionValues=Gj(this,this.scrapeMotionValuesFromProps(e,this.prevProps||{},this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const s=this.getClosestVariantNode();if(s)return s.variantChildren&&s.variantChildren.add(e),()=>s.variantChildren.delete(e)}addValue(e,s){const i=this.values.get(e);s!==i&&(i&&this.removeValue(e),this.bindToMotionValue(e,s),this.values.set(e,s),this.latestValues[e]=s.get())}removeValue(e){this.values.delete(e);const s=this.valueSubscriptions.get(e);s&&(s(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,s){if(this.props.values&&this.props.values[e])return this.props.values[e];let i=this.values.get(e);return i===void 0&&s!==void 0&&(i=fa(s===null?void 0:s,{owner:this}),this.addValue(e,i)),i}readValue(e,s){let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(yg(i)||vg(i))?i=parseFloat(i):!Kj(i)&&Rr.test(s)&&(i=cy(e,s)),this.setBaseTarget(e,Ct(i)?i.get():i)),Ct(i)?i.get():i}setBaseTarget(e,s){this.baseTarget[e]=s}getBaseTarget(e){const{initial:s}=this.props;let i;if(typeof s=="string"||typeof s=="object"){const c=ih(this.props,s,this.presenceContext?.custom);c&&(i=c[e])}if(s&&i!==void 0)return i;const l=this.getBaseTargetFromProps(this.props,e);return l!==void 0&&!Ct(l)?l:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,s){return this.events[e]||(this.events[e]=new Ku),this.events[e].add(s)}notify(e,...s){this.events[e]&&this.events[e].notify(...s)}scheduleRenderMicrotask(){ch.render(this.render)}}class vy extends Qj{constructor(){super(...arguments),this.KeyframeResolver=_j}sortInstanceNodePosition(e,s){return e.compareDocumentPosition(s)&2?1:-1}getBaseTargetFromProps(e,s){const i=e.style;return i?i[s]:void 0}removeValueFromRenderState(e,{vars:s,style:i}){delete s[e],delete i[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ct(e)&&(this.childSubscription=e.on("change",s=>{this.current&&(this.current.textContent=`${s}`)}))}}class Ws{constructor(e){this.isMounted=!1,this.node=e}update(){}}function by({top:t,left:e,right:s,bottom:i}){return{x:{min:e,max:s},y:{min:t,max:i}}}function Zj({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function e2(t,e){if(!e)return t;const s=e({x:t.left,y:t.top}),i=e({x:t.right,y:t.bottom});return{top:s.y,left:s.x,bottom:i.y,right:i.x}}function Rd(t){return t===void 0||t===1}function ku({scale:t,scaleX:e,scaleY:s}){return!Rd(t)||!Rd(e)||!Rd(s)}function un(t){return ku(t)||wy(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function wy(t){return $0(t.x)||$0(t.y)}function $0(t){return t&&t!=="0%"}function xl(t,e,s){const i=t-s,l=e*i;return s+l}function U0(t,e,s,i,l){return l!==void 0&&(t=xl(t,l,i)),xl(t,s,i)+e}function ju(t,e=0,s=1,i,l){t.min=U0(t.min,e,s,i,l),t.max=U0(t.max,e,s,i,l)}function ky(t,{x:e,y:s}){ju(t.x,e.translate,e.scale,e.originPoint),ju(t.y,s.translate,s.scale,s.originPoint)}const B0=.999999999999,V0=1.0000000000001;function t2(t,e,s,i=!1){const l=s.length;if(!l)return;e.x=e.y=1;let c,d;for(let h=0;h<l;h++){c=s[h],d=c.projectionDelta;const{visualElement:m}=c.options;m&&m.props.style&&m.props.style.display==="contents"||(i&&c.options.layoutScroll&&c.scroll&&c!==c.root&&oa(t,{x:-c.scroll.offset.x,y:-c.scroll.offset.y}),d&&(e.x*=d.x.scale,e.y*=d.y.scale,ky(t,d)),i&&un(c.latestValues)&&oa(t,c.latestValues))}e.x<V0&&e.x>B0&&(e.x=1),e.y<V0&&e.y>B0&&(e.y=1)}function ia(t,e){t.min=t.min+e,t.max=t.max+e}function z0(t,e,s,i,l=.5){const c=Ge(t.min,t.max,l);ju(t,e,s,c,i)}function oa(t,e){z0(t.x,e.x,e.scaleX,e.scale,e.originX),z0(t.y,e.y,e.scaleY,e.scale,e.originY)}function jy(t,e){return by(e2(t.getBoundingClientRect(),e))}function r2(t,e,s){const i=jy(t,s),{scroll:l}=e;return l&&(ia(i.x,l.offset.x),ia(i.y,l.offset.y)),i}const s2={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},n2=pa.length;function a2(t,e,s){let i="",l=!0;for(let c=0;c<n2;c++){const d=pa[c],h=t[d];if(h===void 0)continue;let m=!0;if(typeof h=="number")m=h===(d.startsWith("scale")?1:0);else{const p=parseFloat(h);m=d.startsWith("scale")?p===1:p===0}if(!m||s){const p=uy(h,lh[d]);if(!m){l=!1;const g=s2[d]||d;i+=`${g}(${p}) `}s&&(e[d]=p)}}return i=i.trim(),s?i=s(e,l?"":i):l&&(i="none"),i}function mh(t,e,s){const{style:i,vars:l,transformOrigin:c}=t;let d=!1,h=!1;for(const m in e){const p=e[m];if(ga.has(m)){d=!0;continue}else if(Dg(m)){l[m]=p;continue}else{const g=uy(p,lh[m]);m.startsWith("origin")?(h=!0,c[m]=g):i[m]=g}}if(e.transform||(d||s?i.transform=a2(e,t.transform,s):i.transform&&(i.transform="none")),h){const{originX:m="50%",originY:p="50%",originZ:g=0}=c;i.transformOrigin=`${m} ${p} ${g}`}}function Ny(t,{style:e,vars:s},i,l){const c=t.style;let d;for(d in e)c[d]=e[d];l?.applyProjectionStyles(c,i);for(d in s)c.setProperty(d,s[d])}function F0(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ri={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(ue.test(t))t=parseFloat(t);else return t;const s=F0(t,e.target.x),i=F0(t,e.target.y);return`${s}% ${i}%`}},i2={correct:(t,{treeScale:e,projectionDelta:s})=>{const i=t,l=Rr.parse(t);if(l.length>5)return i;const c=Rr.createTransformer(t),d=typeof l[0]!="number"?1:0,h=s.x.scale*e.x,m=s.y.scale*e.y;l[0+d]/=h,l[1+d]/=m;const p=Ge(h,m,.5);return typeof l[2+d]=="number"&&(l[2+d]/=p),typeof l[3+d]=="number"&&(l[3+d]/=p),c(l)}},Nu={borderRadius:{...ri,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ri,borderTopRightRadius:ri,borderBottomLeftRadius:ri,borderBottomRightRadius:ri,boxShadow:i2};function _y(t,{layout:e,layoutId:s}){return ga.has(t)||t.startsWith("origin")||(e||s!==void 0)&&(!!Nu[t]||t==="opacity")}function ph(t,e,s){const i=t.style,l=e?.style,c={};if(!i)return c;for(const d in i)(Ct(i[d])||l&&Ct(l[d])||_y(d,t)||s?.getValue(d)?.liveStyle!==void 0)&&(c[d]=i[d]);return c}function o2(t){return window.getComputedStyle(t)}class l2 extends vy{constructor(){super(...arguments),this.type="html",this.renderInstance=Ny}readValueFromInstance(e,s){if(ga.has(s))return this.projection?.isProjecting?cu(s):E1(e,s);{const i=o2(e),l=(Dg(s)?i.getPropertyValue(s):i[s])||0;return typeof l=="string"?l.trim():l}}measureInstanceViewportBox(e,{transformPagePoint:s}){return jy(e,s)}build(e,s,i){mh(e,s,i.transformTemplate)}scrapeMotionValuesFromProps(e,s,i){return ph(e,s,i)}}const c2={offset:"stroke-dashoffset",array:"stroke-dasharray"},d2={offset:"strokeDashoffset",array:"strokeDasharray"};function u2(t,e,s=1,i=0,l=!0){t.pathLength=1;const c=l?c2:d2;t[c.offset]=`${-i}`,t[c.array]=`${e} ${s}`}const h2=["offsetDistance","offsetPath","offsetRotate","offsetAnchor"];function Sy(t,{attrX:e,attrY:s,attrScale:i,pathLength:l,pathSpacing:c=1,pathOffset:d=0,...h},m,p,g){if(mh(t,h,p),m){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:y,style:v}=t;y.transform&&(v.transform=y.transform,delete y.transform),(v.transform||y.transformOrigin)&&(v.transformOrigin=y.transformOrigin??"50% 50%",delete y.transformOrigin),v.transform&&(v.transformBox=g?.transformBox??"fill-box",delete y.transformBox);for(const w of h2)y[w]!==void 0&&(v[w]=y[w],delete y[w]);e!==void 0&&(y.x=e),s!==void 0&&(y.y=s),i!==void 0&&(y.scale=i),l!==void 0&&u2(y,l,c,d,!1)}const Ey=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]),Ty=t=>typeof t=="string"&&t.toLowerCase()==="svg";function f2(t,e,s,i){Ny(t,e,void 0,i);for(const l in e.attrs)t.setAttribute(Ey.has(l)?l:oh(l),e.attrs[l])}function Cy(t,e,s){const i=ph(t,e,s);for(const l in t)if(Ct(t[l])||Ct(e[l])){const c=pa.indexOf(l)!==-1?"attr"+l.charAt(0).toUpperCase()+l.substring(1):l;i[c]=t[l]}return i}class m2 extends vy{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ht}getBaseTargetFromProps(e,s){return e[s]}readValueFromInstance(e,s){if(ga.has(s)){const i=ly(s);return i&&i.default||0}return s=Ey.has(s)?s:oh(s),e.getAttribute(s)}scrapeMotionValuesFromProps(e,s,i){return Cy(e,s,i)}build(e,s,i){Sy(e,s,this.isSVGTag,i.transformTemplate,i.style)}renderInstance(e,s,i,l){f2(e,s,i,l)}mount(e){this.isSVGTag=Ty(e.tagName),super.mount(e)}}const p2=fh.length;function Py(t){if(!t)return;if(!t.isControllingVariants){const s=t.parent?Py(t.parent)||{}:{};return t.props.initial!==void 0&&(s.initial=t.props.initial),s}const e={};for(let s=0;s<p2;s++){const i=fh[s],l=t.props[i];(ki(l)||l===!1)&&(e[i]=l)}return e}function Ay(t,e){if(!Array.isArray(e))return!1;const s=e.length;if(s!==t.length)return!1;for(let i=0;i<s;i++)if(e[i]!==t[i])return!1;return!0}const g2=[...hh].reverse(),y2=hh.length;function x2(t){return e=>Promise.all(e.map(({animation:s,options:i})=>mj(t,s,i)))}function v2(t){let e=x2(t),s=H0(),i=!0;const l=m=>(p,g)=>{const y=da(t,g,m==="exit"?t.presenceContext?.custom:void 0);if(y){const{transition:v,transitionEnd:w,...k}=y;p={...p,...k,...w}}return p};function c(m){e=m(t)}function d(m){const{props:p}=t,g=Py(t.parent)||{},y=[],v=new Set;let w={},k=1/0;for(let _=0;_<y2;_++){const T=g2[_],S=s[T],j=p[T]!==void 0?p[T]:g[T],D=ki(j),$=T===m?S.isActive:null;$===!1&&(k=_);let B=j===g[T]&&j!==p[T]&&D;if(B&&i&&t.manuallyAnimateOnMount&&(B=!1),S.protectedKeys={...w},!S.isActive&&$===null||!j&&!S.prevProp||Tl(j)||typeof j=="boolean")continue;if(T==="exit"&&S.isActive&&$!==!0){S.prevResolvedValues&&(w={...w,...S.prevResolvedValues});continue}const L=b2(S.prevProp,j);let O=L||T===m&&S.isActive&&!B&&D||_>k&&D,H=!1;const se=Array.isArray(j)?j:[j];let he=se.reduce(l(T),{});$===!1&&(he={});const{prevResolvedValues:je={}}=S,J={...je,...he},be=le=>{O=!0,v.has(le)&&(H=!0,v.delete(le)),S.needsAnimating[le]=!0;const Y=t.getValue(le);Y&&(Y.liveStyle=!1)};for(const le in J){const Y=he[le],ie=je[le];if(w.hasOwnProperty(le))continue;let K=!1;pu(Y)&&pu(ie)?K=!Ay(Y,ie):K=Y!==ie,K?Y!=null?be(le):v.add(le):Y!==void 0&&v.has(le)?be(le):S.protectedKeys[le]=!0}S.prevProp=j,S.prevResolvedValues=he,S.isActive&&(w={...w,...he}),i&&t.blockInitialAnimation&&(O=!1);const Pe=B&&L;O&&(!Pe||H)&&y.push(...se.map(le=>{const Y={type:T};if(typeof le=="string"&&i&&!Pe&&t.manuallyAnimateOnMount&&t.parent){const{parent:ie}=t,K=da(ie,le);if(ie.enteringChildren&&K){const{delayChildren:M}=K.transition||{};Y.delay=Zg(ie.enteringChildren,t,M)}}return{animation:le,options:Y}}))}if(v.size){const _={};if(typeof p.initial!="boolean"){const T=da(t,Array.isArray(p.initial)?p.initial[0]:p.initial);T&&T.transition&&(_.transition=T.transition)}v.forEach(T=>{const S=t.getBaseTarget(T),j=t.getValue(T);j&&(j.liveStyle=!0),_[T]=S??null}),y.push({animation:_})}let N=!!y.length;return i&&(p.initial===!1||p.initial===p.animate)&&!t.manuallyAnimateOnMount&&(N=!1),i=!1,N?e(y):Promise.resolve()}function h(m,p){if(s[m].isActive===p)return Promise.resolve();t.variantChildren?.forEach(y=>y.animationState?.setActive(m,p)),s[m].isActive=p;const g=d(m);for(const y in s)s[y].protectedKeys={};return g}return{animateChanges:d,setActive:h,setAnimateFunction:c,getState:()=>s,reset:()=>{s=H0()}}}function b2(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!Ay(e,t):!1}function ln(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function H0(){return{animate:ln(!0),whileInView:ln(),whileHover:ln(),whileTap:ln(),whileDrag:ln(),whileFocus:ln(),exit:ln()}}function W0(t,e){t.min=e.min,t.max=e.max}function Sr(t,e){W0(t.x,e.x),W0(t.y,e.y)}function K0(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}const Ry=1e-4,w2=1-Ry,k2=1+Ry,Iy=.01,j2=0-Iy,N2=0+Iy;function Mt(t){return t.max-t.min}function _2(t,e,s){return Math.abs(t-e)<=s}function q0(t,e,s,i=.5){t.origin=i,t.originPoint=Ge(e.min,e.max,t.origin),t.scale=Mt(s)/Mt(e),t.translate=Ge(s.min,s.max,t.origin)-t.originPoint,(t.scale>=w2&&t.scale<=k2||isNaN(t.scale))&&(t.scale=1),(t.translate>=j2&&t.translate<=N2||isNaN(t.translate))&&(t.translate=0)}function hi(t,e,s,i){q0(t.x,e.x,s.x,i?i.originX:void 0),q0(t.y,e.y,s.y,i?i.originY:void 0)}function G0(t,e,s){t.min=s.min+e.min,t.max=t.min+Mt(e)}function S2(t,e,s){G0(t.x,e.x,s.x),G0(t.y,e.y,s.y)}function J0(t,e,s){t.min=e.min-s.min,t.max=t.min+Mt(e)}function vl(t,e,s){J0(t.x,e.x,s.x),J0(t.y,e.y,s.y)}function Y0(t,e,s,i,l){return t-=e,t=xl(t,1/s,i),l!==void 0&&(t=xl(t,1/l,i)),t}function E2(t,e=0,s=1,i=.5,l,c=t,d=t){if(Vr.test(e)&&(e=parseFloat(e),e=Ge(d.min,d.max,e/100)-d.min),typeof e!="number")return;let h=Ge(c.min,c.max,i);t===c&&(h-=e),t.min=Y0(t.min,e,s,h,l),t.max=Y0(t.max,e,s,h,l)}function X0(t,e,[s,i,l],c,d){E2(t,e[s],e[i],e[l],e.scale,c,d)}const T2=["x","scaleX","originX"],C2=["y","scaleY","originY"];function Q0(t,e,s,i){X0(t.x,e,T2,s?s.x:void 0,i?i.x:void 0),X0(t.y,e,C2,s?s.y:void 0,i?i.y:void 0)}function Z0(t){return t.translate===0&&t.scale===1}function Dy(t){return Z0(t.x)&&Z0(t.y)}function ep(t,e){return t.min===e.min&&t.max===e.max}function P2(t,e){return ep(t.x,e.x)&&ep(t.y,e.y)}function tp(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function Oy(t,e){return tp(t.x,e.x)&&tp(t.y,e.y)}function rp(t){return Mt(t.x)/Mt(t.y)}function sp(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}function Br(t){return[t("x"),t("y")]}function A2(t,e,s){let i="";const l=t.x.translate/e.x,c=t.y.translate/e.y,d=s?.z||0;if((l||c||d)&&(i=`translate3d(${l}px, ${c}px, ${d}px) `),(e.x!==1||e.y!==1)&&(i+=`scale(${1/e.x}, ${1/e.y}) `),s){const{transformPerspective:p,rotate:g,rotateX:y,rotateY:v,skewX:w,skewY:k}=s;p&&(i=`perspective(${p}px) ${i}`),g&&(i+=`rotate(${g}deg) `),y&&(i+=`rotateX(${y}deg) `),v&&(i+=`rotateY(${v}deg) `),w&&(i+=`skewX(${w}deg) `),k&&(i+=`skewY(${k}deg) `)}const h=t.x.scale*e.x,m=t.y.scale*e.y;return(h!==1||m!==1)&&(i+=`scale(${h}, ${m})`),i||"none"}const My=["TopLeft","TopRight","BottomLeft","BottomRight"],R2=My.length,np=t=>typeof t=="string"?parseFloat(t):t,ap=t=>typeof t=="number"||ue.test(t);function I2(t,e,s,i,l,c){l?(t.opacity=Ge(0,s.opacity??1,D2(i)),t.opacityExit=Ge(e.opacity??1,0,O2(i))):c&&(t.opacity=Ge(e.opacity??1,s.opacity??1,i));for(let d=0;d<R2;d++){const h=`border${My[d]}Radius`;let m=ip(e,h),p=ip(s,h);if(m===void 0&&p===void 0)continue;m||(m=0),p||(p=0),m===0||p===0||ap(m)===ap(p)?(t[h]=Math.max(Ge(np(m),np(p),i),0),(Vr.test(p)||Vr.test(m))&&(t[h]+="%")):t[h]=p}(e.rotate||s.rotate)&&(t.rotate=Ge(e.rotate||0,s.rotate||0,i))}function ip(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const D2=Ly(0,.5,Tg),O2=Ly(.5,.95,pr);function Ly(t,e,s){return i=>i<t?0:i>e?1:s(vi(t,e,i))}function M2(t,e,s){const i=Ct(t)?t:fa(t);return i.start(ah("",i,e,s)),i.animation}function ji(t,e,s,i={passive:!0}){return t.addEventListener(e,s,i),()=>t.removeEventListener(e,s)}const L2=(t,e)=>t.depth-e.depth;class $2{constructor(){this.children=[],this.isDirty=!1}add(e){Hu(this.children,e),this.isDirty=!0}remove(e){fl(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(L2),this.isDirty=!1,this.children.forEach(e)}}function U2(t,e){const s=Ot.now(),i=({timestamp:l})=>{const c=l-s;c>=e&&(Hs(i),t(c-e))};return Ve.setup(i,!0),()=>Hs(i)}function ll(t){return Ct(t)?t.get():t}class B2{constructor(){this.members=[]}add(e){Hu(this.members,e);for(let s=this.members.length-1;s>=0;s--){const i=this.members[s];if(i===e||i===this.lead||i===this.prevLead)continue;const l=i.instance;l&&l.isConnected===!1&&i.isPresent!==!1&&!i.snapshot&&fl(this.members,i)}e.scheduleRender()}remove(e){if(fl(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const s=this.members[this.members.length-1];s&&this.promote(s)}}relegate(e){const s=this.members.findIndex(l=>e===l);if(s===0)return!1;let i;for(let l=s;l>=0;l--){const c=this.members[l],d=c.instance;if(c.isPresent!==!1&&(!d||d.isConnected!==!1)){i=c;break}}return i?(this.promote(i),!0):!1}promote(e,s){const i=this.lead;if(e!==i&&(this.prevLead=i,this.lead=e,e.show(),i)){i.instance&&i.scheduleRender(),e.scheduleRender();const l=i.options.layoutDependency,c=e.options.layoutDependency;if(!(l!==void 0&&c!==void 0&&l===c)){const m=i.instance;m&&m.isConnected===!1&&!i.snapshot||(e.resumeFrom=i,s&&(e.resumeFrom.preserveOpacity=!0),i.snapshot&&(e.snapshot=i.snapshot,e.snapshot.latestValues=i.animationValues||i.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0))}const{crossfade:h}=e.options;h===!1&&i.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:s,resumingFrom:i}=e;s.onExitComplete&&s.onExitComplete(),i&&i.options.onExitComplete&&i.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}const cl={hasAnimatedSinceResize:!0,hasEverUpdated:!1},Id=["","X","Y","Z"],V2=1e3;let z2=0;function Dd(t,e,s,i){const{latestValues:l}=e;l[t]&&(s[t]=l[t],e.setStaticValue(t,0),i&&(i[t]=0))}function $y(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const s=ny(e);if(window.MotionHasOptimisedAnimation(s,"transform")){const{layout:l,layoutId:c}=t.options;window.MotionCancelOptimisedAnimation(s,"transform",Ve,!(l||c))}const{parent:i}=t;i&&!i.hasCheckedOptimisedAppear&&$y(i)}function Uy({attachResizeListener:t,defaultParent:e,measureScroll:s,checkIsScrollRoot:i,resetTransform:l}){return class{constructor(d={},h=e?.()){this.id=z2++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(W2),this.nodes.forEach(J2),this.nodes.forEach(Y2),this.nodes.forEach(K2)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=d,this.root=h?h.root||h:this,this.path=h?[...h.path,h]:[],this.parent=h,this.depth=h?h.depth+1:0;for(let m=0;m<this.path.length;m++)this.path[m].shouldResetTransform=!0;this.root===this&&(this.nodes=new $2)}addEventListener(d,h){return this.eventHandlers.has(d)||this.eventHandlers.set(d,new Ku),this.eventHandlers.get(d).add(h)}notifyListeners(d,...h){const m=this.eventHandlers.get(d);m&&m.notify(...h)}hasListeners(d){return this.eventHandlers.has(d)}mount(d){if(this.instance)return;this.isSVG=uh(d)&&!Hj(d),this.instance=d;const{layoutId:h,layout:m,visualElement:p}=this.options;if(p&&!p.current&&p.mount(d),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(m||h)&&(this.isLayoutDirty=!0),t){let g,y=0;const v=()=>this.root.updateBlockedByResize=!1;Ve.read(()=>{y=window.innerWidth}),t(d,()=>{const w=window.innerWidth;w!==y&&(y=w,this.root.updateBlockedByResize=!0,g&&g(),g=U2(v,250),cl.hasAnimatedSinceResize&&(cl.hasAnimatedSinceResize=!1,this.nodes.forEach(cp)))})}h&&this.root.registerSharedNode(h,this),this.options.animate!==!1&&p&&(h||m)&&this.addEventListener("didUpdate",({delta:g,hasLayoutChanged:y,hasRelativeLayoutChanged:v,layout:w})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const k=this.options.transition||p.getDefaultTransition()||tN,{onLayoutAnimationStart:N,onLayoutAnimationComplete:_}=p.getProps(),T=!this.targetLayout||!Oy(this.targetLayout,w),S=!y&&v;if(this.options.layoutRoot||this.resumeFrom||S||y&&(T||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const j={...nh(k,"layout"),onPlay:N,onComplete:_};(p.shouldReduceMotion||this.options.layoutRoot)&&(j.delay=0,j.type=!1),this.startAnimation(j),this.setAnimationOrigin(g,S)}else y||cp(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=w})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const d=this.getStack();d&&d.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hs(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(X2),this.animationId++)}getTransformTemplate(){const{visualElement:d}=this.options;return d&&d.getProps().transformTemplate}willUpdate(d=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&$y(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const y=this.path[g];y.shouldResetTransform=!0,y.updateScroll("snapshot"),y.options.layoutRoot&&y.willUpdate(!1)}const{layoutId:h,layout:m}=this.options;if(h===void 0&&!m)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),d&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(op);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(lp);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(G2),this.nodes.forEach(F2),this.nodes.forEach(H2)):this.nodes.forEach(lp),this.clearAllSnapshots();const h=Ot.now();kt.delta=zr(0,1e3/60,h-kt.timestamp),kt.timestamp=h,kt.isProcessing=!0,_d.update.process(kt),_d.preRender.process(kt),_d.render.process(kt),kt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,ch.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(q2),this.sharedNodes.forEach(Q2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Ve.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Ve.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Mt(this.snapshot.measuredBox.x)&&!Mt(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let m=0;m<this.path.length;m++)this.path[m].updateScroll();const d=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:h}=this.options;h&&h.notify("LayoutMeasure",this.layout.layoutBox,d?d.layoutBox:void 0)}updateScroll(d="measure"){let h=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===d&&(h=!1),h&&this.instance){const m=i(this.instance);this.scroll={animationId:this.root.animationId,phase:d,isRoot:m,offset:s(this.instance),wasRoot:this.scroll?this.scroll.isRoot:m}}}resetTransform(){if(!l)return;const d=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,h=this.projectionDelta&&!Dy(this.projectionDelta),m=this.getTransformTemplate(),p=m?m(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;d&&this.instance&&(h||un(this.latestValues)||g)&&(l(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(d=!0){const h=this.measurePageBox();let m=this.removeElementScroll(h);return d&&(m=this.removeTransform(m)),rN(m),{animationId:this.root.animationId,measuredBox:h,layoutBox:m,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:d}=this.options;if(!d)return ht();const h=d.measureViewportBox();if(!(this.scroll?.wasRoot||this.path.some(sN))){const{scroll:p}=this.root;p&&(ia(h.x,p.offset.x),ia(h.y,p.offset.y))}return h}removeElementScroll(d){const h=ht();if(Sr(h,d),this.scroll?.wasRoot)return h;for(let m=0;m<this.path.length;m++){const p=this.path[m],{scroll:g,options:y}=p;p!==this.root&&g&&y.layoutScroll&&(g.wasRoot&&Sr(h,d),ia(h.x,g.offset.x),ia(h.y,g.offset.y))}return h}applyTransform(d,h=!1){const m=ht();Sr(m,d);for(let p=0;p<this.path.length;p++){const g=this.path[p];!h&&g.options.layoutScroll&&g.scroll&&g!==g.root&&oa(m,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),un(g.latestValues)&&oa(m,g.latestValues)}return un(this.latestValues)&&oa(m,this.latestValues),m}removeTransform(d){const h=ht();Sr(h,d);for(let m=0;m<this.path.length;m++){const p=this.path[m];if(!p.instance||!un(p.latestValues))continue;ku(p.latestValues)&&p.updateSnapshot();const g=ht(),y=p.measurePageBox();Sr(g,y),Q0(h,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return un(this.latestValues)&&Q0(h,this.latestValues),h}setTargetDelta(d){this.targetDelta=d,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(d){this.options={...this.options,...d,crossfade:d.crossfade!==void 0?d.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==kt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(d=!1){const h=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=h.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=h.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=h.isSharedProjectionDirty);const m=!!this.resumingFrom||this!==h;if(!(d||m&&this.isSharedProjectionDirty||this.isProjectionDirty||this.parent?.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:g,layoutId:y}=this.options;if(!this.layout||!(g||y))return;this.resolvedRelativeTargetAt=kt.timestamp;const v=this.getClosestProjectingParent();v&&this.linkedParentVersion!==v.layoutVersion&&!v.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(v&&v.layout?this.createRelativeTarget(v,this.layout.layoutBox,v.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ht(),this.targetWithTransforms=ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),S2(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Sr(this.target,this.layout.layoutBox),ky(this.target,this.targetDelta)):Sr(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,v&&!!v.resumingFrom==!!this.resumingFrom&&!v.options.layoutScroll&&v.target&&this.animationProgress!==1?this.createRelativeTarget(v,this.target,v.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||ku(this.parent.latestValues)||wy(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(d,h,m){this.relativeParent=d,this.linkedParentVersion=d.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ht(),this.relativeTargetOrigin=ht(),vl(this.relativeTargetOrigin,h,m),Sr(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){const d=this.getLead(),h=!!this.resumingFrom||this!==d;let m=!0;if((this.isProjectionDirty||this.parent?.isProjectionDirty)&&(m=!1),h&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(m=!1),this.resolvedRelativeTargetAt===kt.timestamp&&(m=!1),m)return;const{layout:p,layoutId:g}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(p||g))return;Sr(this.layoutCorrected,this.layout.layoutBox);const y=this.treeScale.x,v=this.treeScale.y;t2(this.layoutCorrected,this.treeScale,this.path,h),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ht());const{target:w}=d;if(!w){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(K0(this.prevProjectionDelta.x,this.projectionDelta.x),K0(this.prevProjectionDelta.y,this.projectionDelta.y)),hi(this.projectionDelta,this.layoutCorrected,w,this.latestValues),(this.treeScale.x!==y||this.treeScale.y!==v||!sp(this.projectionDelta.x,this.prevProjectionDelta.x)||!sp(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",w))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(d=!0){if(this.options.visualElement?.scheduleRender(),d){const h=this.getStack();h&&h.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=aa(),this.projectionDelta=aa(),this.projectionDeltaWithTransform=aa()}setAnimationOrigin(d,h=!1){const m=this.snapshot,p=m?m.latestValues:{},g={...this.latestValues},y=aa();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!h;const v=ht(),w=m?m.source:void 0,k=this.layout?this.layout.source:void 0,N=w!==k,_=this.getStack(),T=!_||_.members.length<=1,S=!!(N&&!T&&this.options.crossfade===!0&&!this.path.some(eN));this.animationProgress=0;let j;this.mixTargetDelta=D=>{const $=D/1e3;dp(y.x,d.x,$),dp(y.y,d.y,$),this.setTargetDelta(y),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(vl(v,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Z2(this.relativeTarget,this.relativeTargetOrigin,v,$),j&&P2(this.relativeTarget,j)&&(this.isProjectionDirty=!1),j||(j=ht()),Sr(j,this.relativeTarget)),N&&(this.animationValues=g,I2(g,p,this.latestValues,$,S,T)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=$},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(d){this.notifyListeners("animationStart"),this.currentAnimation?.stop(),this.resumingFrom?.currentAnimation?.stop(),this.pendingAnimation&&(Hs(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Ve.update(()=>{cl.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=fa(0)),this.motionValue.jump(0,!1),this.currentAnimation=M2(this.motionValue,[0,1e3],{...d,velocity:0,isSync:!0,onUpdate:h=>{this.mixTargetDelta(h),d.onUpdate&&d.onUpdate(h)},onStop:()=>{},onComplete:()=>{d.onComplete&&d.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const d=this.getStack();d&&d.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(V2),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const d=this.getLead();let{targetWithTransforms:h,target:m,layout:p,latestValues:g}=d;if(!(!h||!m||!p)){if(this!==d&&this.layout&&p&&By(this.options.animationType,this.layout.layoutBox,p.layoutBox)){m=this.target||ht();const y=Mt(this.layout.layoutBox.x);m.x.min=d.target.x.min,m.x.max=m.x.min+y;const v=Mt(this.layout.layoutBox.y);m.y.min=d.target.y.min,m.y.max=m.y.min+v}Sr(h,m),oa(h,g),hi(this.projectionDeltaWithTransform,this.layoutCorrected,h,g)}}registerSharedNode(d,h){this.sharedNodes.has(d)||this.sharedNodes.set(d,new B2),this.sharedNodes.get(d).add(h);const p=h.options.initialPromotionConfig;h.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(h):void 0})}isLead(){const d=this.getStack();return d?d.lead===this:!0}getLead(){const{layoutId:d}=this.options;return d?this.getStack()?.lead||this:this}getPrevLead(){const{layoutId:d}=this.options;return d?this.getStack()?.prevLead:void 0}getStack(){const{layoutId:d}=this.options;if(d)return this.root.sharedNodes.get(d)}promote({needsReset:d,transition:h,preserveFollowOpacity:m}={}){const p=this.getStack();p&&p.promote(this,m),d&&(this.projectionDelta=void 0,this.needsReset=!0),h&&this.setOptions({transition:h})}relegate(){const d=this.getStack();return d?d.relegate(this):!1}resetSkewAndRotation(){const{visualElement:d}=this.options;if(!d)return;let h=!1;const{latestValues:m}=d;if((m.z||m.rotate||m.rotateX||m.rotateY||m.rotateZ||m.skewX||m.skewY)&&(h=!0),!h)return;const p={};m.z&&Dd("z",d,p,this.animationValues);for(let g=0;g<Id.length;g++)Dd(`rotate${Id[g]}`,d,p,this.animationValues),Dd(`skew${Id[g]}`,d,p,this.animationValues);d.render();for(const g in p)d.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);d.scheduleRender()}applyProjectionStyles(d,h){if(!this.instance||this.isSVG)return;if(!this.isVisible){d.visibility="hidden";return}const m=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,d.visibility="",d.opacity="",d.pointerEvents=ll(h?.pointerEvents)||"",d.transform=m?m(this.latestValues,""):"none";return}const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){this.options.layoutId&&(d.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,d.pointerEvents=ll(h?.pointerEvents)||""),this.hasProjected&&!un(this.latestValues)&&(d.transform=m?m({},""):"none",this.hasProjected=!1);return}d.visibility="";const g=p.animationValues||p.latestValues;this.applyTransformsToTarget();let y=A2(this.projectionDeltaWithTransform,this.treeScale,g);m&&(y=m(g,y)),d.transform=y;const{x:v,y:w}=this.projectionDelta;d.transformOrigin=`${v.origin*100}% ${w.origin*100}% 0`,p.animationValues?d.opacity=p===this?g.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:g.opacityExit:d.opacity=p===this?g.opacity!==void 0?g.opacity:"":g.opacityExit!==void 0?g.opacityExit:0;for(const k in Nu){if(g[k]===void 0)continue;const{correct:N,applyTo:_,isCSSVariable:T}=Nu[k],S=y==="none"?g[k]:N(g[k],p);if(_){const j=_.length;for(let D=0;D<j;D++)d[_[D]]=S}else T?this.options.visualElement.renderState.vars[k]=S:d[k]=S}this.options.layoutId&&(d.pointerEvents=p===this?ll(h?.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(d=>d.currentAnimation?.stop()),this.root.nodes.forEach(op),this.root.sharedNodes.clear()}}}function F2(t){t.updateLayout()}function H2(t){const e=t.resumeFrom?.snapshot||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:s,measuredBox:i}=t.layout,{animationType:l}=t.options,c=e.source!==t.layout.source;l==="size"?Br(g=>{const y=c?e.measuredBox[g]:e.layoutBox[g],v=Mt(y);y.min=s[g].min,y.max=y.min+v}):By(l,e.layoutBox,s)&&Br(g=>{const y=c?e.measuredBox[g]:e.layoutBox[g],v=Mt(s[g]);y.max=y.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[g].max=t.relativeTarget[g].min+v)});const d=aa();hi(d,s,e.layoutBox);const h=aa();c?hi(h,t.applyTransform(i,!0),e.measuredBox):hi(h,s,e.layoutBox);const m=!Dy(d);let p=!1;if(!t.resumeFrom){const g=t.getClosestProjectingParent();if(g&&!g.resumeFrom){const{snapshot:y,layout:v}=g;if(y&&v){const w=ht();vl(w,e.layoutBox,y.layoutBox);const k=ht();vl(k,s,v.layoutBox),Oy(w,k)||(p=!0),g.options.layoutRoot&&(t.relativeTarget=k,t.relativeTargetOrigin=w,t.relativeParent=g)}}}t.notifyListeners("didUpdate",{layout:s,snapshot:e,delta:h,layoutDelta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:p})}else if(t.isLead()){const{onExitComplete:s}=t.options;s&&s()}t.options.transition=void 0}function W2(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function K2(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function q2(t){t.clearSnapshot()}function op(t){t.clearMeasurements()}function lp(t){t.isLayoutDirty=!1}function G2(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function cp(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function J2(t){t.resolveTargetDelta()}function Y2(t){t.calcProjection()}function X2(t){t.resetSkewAndRotation()}function Q2(t){t.removeLeadSnapshot()}function dp(t,e,s){t.translate=Ge(e.translate,0,s),t.scale=Ge(e.scale,1,s),t.origin=e.origin,t.originPoint=e.originPoint}function up(t,e,s,i){t.min=Ge(e.min,s.min,i),t.max=Ge(e.max,s.max,i)}function Z2(t,e,s,i){up(t.x,e.x,s.x,i),up(t.y,e.y,s.y,i)}function eN(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const tN={duration:.45,ease:[.4,0,.1,1]},hp=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),fp=hp("applewebkit/")&&!hp("chrome/")?Math.round:pr;function mp(t){t.min=fp(t.min),t.max=fp(t.max)}function rN(t){mp(t.x),mp(t.y)}function By(t,e,s){return t==="position"||t==="preserve-aspect"&&!_2(rp(e),rp(s),.2)}function sN(t){return t!==t.root&&t.scroll?.wasRoot}const nN=Uy({attachResizeListener:(t,e)=>ji(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body?.scrollLeft||0,y:document.documentElement.scrollTop||document.body?.scrollTop||0}),checkIsScrollRoot:()=>!0}),Od={current:void 0},Vy=Uy({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!Od.current){const t=new nN({});t.mount(window),t.setOptions({layoutScroll:!0}),Od.current=t}return Od.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),gh=P.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function pp(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function aN(...t){return e=>{let s=!1;const i=t.map(l=>{const c=pp(l,e);return!s&&typeof c=="function"&&(s=!0),c});if(s)return()=>{for(let l=0;l<i.length;l++){const c=i[l];typeof c=="function"?c():pp(t[l],null)}}}}function iN(...t){return P.useCallback(aN(...t),t)}class oN extends P.Component{getSnapshotBeforeUpdate(e){const s=this.props.childRef.current;if(s&&e.isPresent&&!this.props.isPresent&&this.props.pop!==!1){const i=s.offsetParent,l=bu(i)&&i.offsetWidth||0,c=bu(i)&&i.offsetHeight||0,d=this.props.sizeRef.current;d.height=s.offsetHeight||0,d.width=s.offsetWidth||0,d.top=s.offsetTop,d.left=s.offsetLeft,d.right=l-d.width-d.left,d.bottom=c-d.height-d.top}return null}componentDidUpdate(){}render(){return this.props.children}}function lN({children:t,isPresent:e,anchorX:s,anchorY:i,root:l,pop:c}){const d=P.useId(),h=P.useRef(null),m=P.useRef({width:0,height:0,top:0,left:0,right:0,bottom:0}),{nonce:p}=P.useContext(gh),g=t.props?.ref??t?.ref,y=iN(h,g);return P.useInsertionEffect(()=>{const{width:v,height:w,top:k,left:N,right:_,bottom:T}=m.current;if(e||c===!1||!h.current||!v||!w)return;const S=s==="left"?`left: ${N}`:`right: ${_}`,j=i==="bottom"?`bottom: ${T}`:`top: ${k}`;h.current.dataset.motionPopId=d;const D=document.createElement("style");p&&(D.nonce=p);const $=l??document.head;return $.appendChild(D),D.sheet&&D.sheet.insertRule(`
          [data-motion-pop-id="${d}"] {
            position: absolute !important;
            width: ${v}px !important;
            height: ${w}px !important;
            ${S}px !important;
            ${j}px !important;
          }
        `),()=>{$.contains(D)&&$.removeChild(D)}},[e]),n.jsx(oN,{isPresent:e,childRef:h,sizeRef:m,pop:c,children:c===!1?t:P.cloneElement(t,{ref:y})})}const cN=({children:t,initial:e,isPresent:s,onExitComplete:i,custom:l,presenceAffectsLayout:c,mode:d,anchorX:h,anchorY:m,root:p})=>{const g=Fu(dN),y=P.useId();let v=!0,w=P.useMemo(()=>(v=!1,{id:y,initial:e,isPresent:s,custom:l,onExitComplete:k=>{g.set(k,!0);for(const N of g.values())if(!N)return;i&&i()},register:k=>(g.set(k,!1),()=>g.delete(k))}),[s,g,i]);return c&&v&&(w={...w}),P.useMemo(()=>{g.forEach((k,N)=>g.set(N,!1))},[s]),P.useEffect(()=>{!s&&!g.size&&i&&i()},[s]),t=n.jsx(lN,{pop:d==="popLayout",isPresent:s,anchorX:h,anchorY:m,root:p,children:t}),n.jsx(El.Provider,{value:w,children:t})};function dN(){return new Map}function zy(t=!0){const e=P.useContext(El);if(e===null)return[!0,null];const{isPresent:s,onExitComplete:i,register:l}=e,c=P.useId();P.useEffect(()=>{if(t)return l(c)},[t]);const d=P.useCallback(()=>t&&i&&i(c),[c,i,t]);return!s&&i?[!1,d]:[!0]}const Ko=t=>t.key||"";function gp(t){const e=[];return P.Children.forEach(t,s=>{P.isValidElement(s)&&e.push(s)}),e}const sr=({children:t,custom:e,initial:s=!0,onExitComplete:i,presenceAffectsLayout:l=!0,mode:c="sync",propagate:d=!1,anchorX:h="left",anchorY:m="top",root:p})=>{const[g,y]=zy(d),v=P.useMemo(()=>gp(t),[t]),w=d&&!g?[]:v.map(Ko),k=P.useRef(!0),N=P.useRef(v),_=Fu(()=>new Map),T=P.useRef(new Set),[S,j]=P.useState(v),[D,$]=P.useState(v);gg(()=>{k.current=!1,N.current=v;for(let O=0;O<D.length;O++){const H=Ko(D[O]);w.includes(H)?(_.delete(H),T.current.delete(H)):_.get(H)!==!0&&_.set(H,!1)}},[D,w.length,w.join("-")]);const B=[];if(v!==S){let O=[...v];for(let H=0;H<D.length;H++){const se=D[H],he=Ko(se);w.includes(he)||(O.splice(H,0,se),B.push(se))}return c==="wait"&&B.length&&(O=B),$(gp(O)),j(v),null}const{forceRender:L}=P.useContext(zu);return n.jsx(n.Fragment,{children:D.map(O=>{const H=Ko(O),se=d&&!g?!1:v===D||w.includes(H),he=()=>{if(T.current.has(H))return;if(T.current.add(H),_.has(H))_.set(H,!0);else return;let je=!0;_.forEach(J=>{J||(je=!1)}),je&&(L?.(),$(N.current),d&&y?.(),i&&i())};return n.jsx(cN,{isPresent:se,initial:!k.current||s?void 0:!1,custom:e,presenceAffectsLayout:l,mode:c,root:p,onExitComplete:se?void 0:he,anchorX:h,anchorY:m,children:O},H)})})},Fy=P.createContext({strict:!1}),yp={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]};let xp=!1;function uN(){if(xp)return;const t={};for(const e in yp)t[e]={isEnabled:s=>yp[e].some(i=>!!s[i])};xy(t),xp=!0}function Hy(){return uN(),Xj()}function hN(t){const e=Hy();for(const s in t)e[s]={...e[s],...t[s]};xy(e)}const fN=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","propagate","ignoreStrict","viewport"]);function bl(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||fN.has(t)}let Wy=t=>!bl(t);function mN(t){typeof t=="function"&&(Wy=e=>e.startsWith("on")?!bl(e):t(e))}try{mN(require("@emotion/is-prop-valid").default)}catch{}function pN(t,e,s){const i={};for(const l in t)l==="values"&&typeof t.values=="object"||(Wy(l)||s===!0&&bl(l)||!e&&!bl(l)||t.draggable&&l.startsWith("onDrag"))&&(i[l]=t[l]);return i}const Pl=P.createContext({});function gN(t,e){if(Cl(t)){const{initial:s,animate:i}=t;return{initial:s===!1||ki(s)?s:void 0,animate:ki(i)?i:void 0}}return t.inherit!==!1?e:{}}function yN(t){const{initial:e,animate:s}=gN(t,P.useContext(Pl));return P.useMemo(()=>({initial:e,animate:s}),[vp(e),vp(s)])}function vp(t){return Array.isArray(t)?t.join(" "):t}const yh=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function Ky(t,e,s){for(const i in e)!Ct(e[i])&&!_y(i,s)&&(t[i]=e[i])}function xN({transformTemplate:t},e){return P.useMemo(()=>{const s=yh();return mh(s,e,t),Object.assign({},s.vars,s.style)},[e])}function vN(t,e){const s=t.style||{},i={};return Ky(i,s,t),Object.assign(i,xN(t,e)),i}function bN(t,e){const s={},i=vN(t,e);return t.drag&&t.dragListener!==!1&&(s.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(s.tabIndex=0),s.style=i,s}const qy=()=>({...yh(),attrs:{}});function wN(t,e,s,i){const l=P.useMemo(()=>{const c=qy();return Sy(c,e,Ty(i),t.transformTemplate,t.style),{...c.attrs,style:{...c.style}}},[e]);if(t.style){const c={};Ky(c,t.style,t),l.style={...c,...l.style}}return l}const kN=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function xh(t){return typeof t!="string"||t.includes("-")?!1:!!(kN.indexOf(t)>-1||/[A-Z]/u.test(t))}function jN(t,e,s,{latestValues:i},l,c=!1,d){const m=(d??xh(t)?wN:bN)(e,i,l,t),p=pN(e,typeof t=="string",c),g=t!==P.Fragment?{...p,...m,ref:s}:{},{children:y}=e,v=P.useMemo(()=>Ct(y)?y.get():y,[y]);return P.createElement(t,{...g,children:v})}function NN({scrapeMotionValuesFromProps:t,createRenderState:e},s,i,l){return{latestValues:_N(s,i,l,t),renderState:e()}}function _N(t,e,s,i){const l={},c=i(t,{});for(const v in c)l[v]=ll(c[v]);let{initial:d,animate:h}=t;const m=Cl(t),p=gy(t);e&&p&&!m&&t.inherit!==!1&&(d===void 0&&(d=e.initial),h===void 0&&(h=e.animate));let g=s?s.initial===!1:!1;g=g||d===!1;const y=g?h:d;if(y&&typeof y!="boolean"&&!Tl(y)){const v=Array.isArray(y)?y:[y];for(let w=0;w<v.length;w++){const k=ih(t,v[w]);if(k){const{transitionEnd:N,transition:_,...T}=k;for(const S in T){let j=T[S];if(Array.isArray(j)){const D=g?j.length-1:0;j=j[D]}j!==null&&(l[S]=j)}for(const S in N)l[S]=N[S]}}}return l}const Gy=t=>(e,s)=>{const i=P.useContext(Pl),l=P.useContext(El),c=()=>NN(t,e,i,l);return s?c():Fu(c)},SN=Gy({scrapeMotionValuesFromProps:ph,createRenderState:yh}),EN=Gy({scrapeMotionValuesFromProps:Cy,createRenderState:qy}),TN=Symbol.for("motionComponentSymbol");function CN(t,e,s){const i=P.useRef(s);P.useInsertionEffect(()=>{i.current=s});const l=P.useRef(null);return P.useCallback(c=>{c&&t.onMount?.(c),e&&(c?e.mount(c):e.unmount());const d=i.current;if(typeof d=="function")if(c){const h=d(c);typeof h=="function"&&(l.current=h)}else l.current?(l.current(),l.current=null):d(c);else d&&(d.current=c)},[e])}const Jy=P.createContext({});function Qn(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function PN(t,e,s,i,l,c){const{visualElement:d}=P.useContext(Pl),h=P.useContext(Fy),m=P.useContext(El),p=P.useContext(gh),g=p.reducedMotion,y=p.skipAnimations,v=P.useRef(null),w=P.useRef(!1);i=i||h.renderer,!v.current&&i&&(v.current=i(t,{visualState:e,parent:d,props:s,presenceContext:m,blockInitialAnimation:m?m.initial===!1:!1,reducedMotionConfig:g,skipAnimations:y,isSVG:c}),w.current&&v.current&&(v.current.manuallyAnimateOnMount=!0));const k=v.current,N=P.useContext(Jy);k&&!k.projection&&l&&(k.type==="html"||k.type==="svg")&&AN(v.current,s,l,N);const _=P.useRef(!1);P.useInsertionEffect(()=>{k&&_.current&&k.update(s,m)});const T=s[sy],S=P.useRef(!!T&&!window.MotionHandoffIsComplete?.(T)&&window.MotionHasOptimisedAnimation?.(T));return gg(()=>{w.current=!0,k&&(_.current=!0,window.MotionIsMounted=!0,k.updateFeatures(),k.scheduleRenderMicrotask(),S.current&&k.animationState&&k.animationState.animateChanges())}),P.useEffect(()=>{k&&(!S.current&&k.animationState&&k.animationState.animateChanges(),S.current&&(queueMicrotask(()=>{window.MotionHandoffMarkAsComplete?.(T)}),S.current=!1),k.enteringChildren=void 0)}),k}function AN(t,e,s,i){const{layoutId:l,layout:c,drag:d,dragConstraints:h,layoutScroll:m,layoutRoot:p,layoutCrossfade:g}=e;t.projection=new s(t.latestValues,e["data-framer-portal-id"]?void 0:Yy(t.parent)),t.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!d||h&&Qn(h),visualElement:t,animationType:typeof c=="string"?c:"both",initialPromotionConfig:i,crossfade:g,layoutScroll:m,layoutRoot:p})}function Yy(t){if(t)return t.options.allowProjection!==!1?t.projection:Yy(t.parent)}function Md(t,{forwardMotionProps:e=!1,type:s}={},i,l){i&&hN(i);const c=s?s==="svg":xh(t),d=c?EN:SN;function h(p,g){let y;const v={...P.useContext(gh),...p,layoutId:RN(p)},{isStatic:w}=v,k=yN(p),N=d(p,w);if(!w&&pg){IN();const _=DN(v);y=_.MeasureLayout,k.visualElement=PN(t,N,v,l,_.ProjectionNode,c)}return n.jsxs(Pl.Provider,{value:k,children:[y&&k.visualElement?n.jsx(y,{visualElement:k.visualElement,...v}):null,jN(t,p,CN(N,k.visualElement,g),N,w,e,c)]})}h.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const m=P.forwardRef(h);return m[TN]=t,m}function RN({layoutId:t}){const e=P.useContext(zu).id;return e&&t!==void 0?e+"-"+t:t}function IN(t,e){P.useContext(Fy).strict}function DN(t){const e=Hy(),{drag:s,layout:i}=e;if(!s&&!i)return{};const l={...s,...i};return{MeasureLayout:s?.isEnabled(t)||i?.isEnabled(t)?l.MeasureLayout:void 0,ProjectionNode:l.ProjectionNode}}function ON(t,e){if(typeof Proxy>"u")return Md;const s=new Map,i=(c,d)=>Md(c,d,t,e),l=(c,d)=>i(c,d);return new Proxy(l,{get:(c,d)=>d==="create"?i:(s.has(d)||s.set(d,Md(d,void 0,t,e)),s.get(d))})}const MN=(t,e)=>e.isSVG??xh(t)?new m2(e):new l2(e,{allowProjection:t!==P.Fragment});class LN extends Ws{constructor(e){super(e),e.animationState||(e.animationState=v2(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Tl(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:s}=this.node.prevProps||{};e!==s&&this.updateAnimationControlsSubscription()}unmount(){this.node.animationState.reset(),this.unmountControls?.()}}let $N=0;class UN extends Ws{constructor(){super(...arguments),this.id=$N++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:s}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const l=this.node.animationState.setActive("exit",!e);s&&!e&&l.then(()=>{s(this.id)})}mount(){const{register:e,onExitComplete:s}=this.node.presenceContext||{};s&&s(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const BN={animation:{Feature:LN},exit:{Feature:UN}};function Oi(t){return{point:{x:t.pageX,y:t.pageY}}}const VN=t=>e=>dh(e)&&t(e,Oi(e));function fi(t,e,s,i){return ji(t,e,VN(s),i)}const Xy=({current:t})=>t?t.ownerDocument.defaultView:null,bp=(t,e)=>Math.abs(t-e);function zN(t,e){const s=bp(t.x,e.x),i=bp(t.y,e.y);return Math.sqrt(s**2+i**2)}const wp=new Set(["auto","scroll"]);class Qy{constructor(e,s,{transformPagePoint:i,contextWindow:l=window,dragSnapToOrigin:c=!1,distanceThreshold:d=3,element:h}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.scrollPositions=new Map,this.removeScrollListeners=null,this.onElementScroll=w=>{this.handleScroll(w.target)},this.onWindowScroll=()=>{this.handleScroll(window)},this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const w=$d(this.lastMoveEventInfo,this.history),k=this.startEvent!==null,N=zN(w.offset,{x:0,y:0})>=this.distanceThreshold;if(!k&&!N)return;const{point:_}=w,{timestamp:T}=kt;this.history.push({..._,timestamp:T});const{onStart:S,onMove:j}=this.handlers;k||(S&&S(this.lastMoveEvent,w),this.startEvent=this.lastMoveEvent),j&&j(this.lastMoveEvent,w)},this.handlePointerMove=(w,k)=>{this.lastMoveEvent=w,this.lastMoveEventInfo=Ld(k,this.transformPagePoint),Ve.update(this.updatePoint,!0)},this.handlePointerUp=(w,k)=>{this.end();const{onEnd:N,onSessionEnd:_,resumeAnimation:T}=this.handlers;if((this.dragSnapToOrigin||!this.startEvent)&&T&&T(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const S=$d(w.type==="pointercancel"?this.lastMoveEventInfo:Ld(k,this.transformPagePoint),this.history);this.startEvent&&N&&N(w,S),_&&_(w,S)},!dh(e))return;this.dragSnapToOrigin=c,this.handlers=s,this.transformPagePoint=i,this.distanceThreshold=d,this.contextWindow=l||window;const m=Oi(e),p=Ld(m,this.transformPagePoint),{point:g}=p,{timestamp:y}=kt;this.history=[{...g,timestamp:y}];const{onSessionStart:v}=s;v&&v(e,$d(p,this.history)),this.removeListeners=Ri(fi(this.contextWindow,"pointermove",this.handlePointerMove),fi(this.contextWindow,"pointerup",this.handlePointerUp),fi(this.contextWindow,"pointercancel",this.handlePointerUp)),h&&this.startScrollTracking(h)}startScrollTracking(e){let s=e.parentElement;for(;s;){const i=getComputedStyle(s);(wp.has(i.overflowX)||wp.has(i.overflowY))&&this.scrollPositions.set(s,{x:s.scrollLeft,y:s.scrollTop}),s=s.parentElement}this.scrollPositions.set(window,{x:window.scrollX,y:window.scrollY}),window.addEventListener("scroll",this.onElementScroll,{capture:!0}),window.addEventListener("scroll",this.onWindowScroll),this.removeScrollListeners=()=>{window.removeEventListener("scroll",this.onElementScroll,{capture:!0}),window.removeEventListener("scroll",this.onWindowScroll)}}handleScroll(e){const s=this.scrollPositions.get(e);if(!s)return;const i=e===window,l=i?{x:window.scrollX,y:window.scrollY}:{x:e.scrollLeft,y:e.scrollTop},c={x:l.x-s.x,y:l.y-s.y};c.x===0&&c.y===0||(i?this.lastMoveEventInfo&&(this.lastMoveEventInfo.point.x+=c.x,this.lastMoveEventInfo.point.y+=c.y):this.history.length>0&&(this.history[0].x-=c.x,this.history[0].y-=c.y),this.scrollPositions.set(e,l),Ve.update(this.updatePoint,!0))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),this.removeScrollListeners&&this.removeScrollListeners(),this.scrollPositions.clear(),Hs(this.updatePoint)}}function Ld(t,e){return e?{point:e(t.point)}:t}function kp(t,e){return{x:t.x-e.x,y:t.y-e.y}}function $d({point:t},e){return{point:t,delta:kp(t,Zy(e)),offset:kp(t,FN(e)),velocity:HN(e,.1)}}function FN(t){return t[0]}function Zy(t){return t[t.length-1]}function HN(t,e){if(t.length<2)return{x:0,y:0};let s=t.length-1,i=null;const l=Zy(t);for(;s>=0&&(i=t[s],!(l.timestamp-i.timestamp>Ar(e)));)s--;if(!i)return{x:0,y:0};i===t[0]&&t.length>2&&l.timestamp-i.timestamp>Ar(e)*2&&(i=t[1]);const c=fr(l.timestamp-i.timestamp);if(c===0)return{x:0,y:0};const d={x:(l.x-i.x)/c,y:(l.y-i.y)/c};return d.x===1/0&&(d.x=0),d.y===1/0&&(d.y=0),d}function WN(t,{min:e,max:s},i){return e!==void 0&&t<e?t=i?Ge(e,t,i.min):Math.max(t,e):s!==void 0&&t>s&&(t=i?Ge(s,t,i.max):Math.min(t,s)),t}function jp(t,e,s){return{min:e!==void 0?t.min+e:void 0,max:s!==void 0?t.max+s-(t.max-t.min):void 0}}function KN(t,{top:e,left:s,bottom:i,right:l}){return{x:jp(t.x,s,l),y:jp(t.y,e,i)}}function Np(t,e){let s=e.min-t.min,i=e.max-t.max;return e.max-e.min<t.max-t.min&&([s,i]=[i,s]),{min:s,max:i}}function qN(t,e){return{x:Np(t.x,e.x),y:Np(t.y,e.y)}}function GN(t,e){let s=.5;const i=Mt(t),l=Mt(e);return l>i?s=vi(e.min,e.max-i,t.min):i>l&&(s=vi(t.min,t.max-l,e.min)),zr(0,1,s)}function JN(t,e){const s={};return e.min!==void 0&&(s.min=e.min-t.min),e.max!==void 0&&(s.max=e.max-t.min),s}const _u=.35;function YN(t=_u){return t===!1?t=0:t===!0&&(t=_u),{x:_p(t,"left","right"),y:_p(t,"top","bottom")}}function _p(t,e,s){return{min:Sp(t,e),max:Sp(t,s)}}function Sp(t,e){return typeof t=="number"?t:t[e]||0}const XN=new WeakMap;class QN{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ht(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:s=!1,distanceThreshold:i}={}){const{presenceContext:l}=this.visualElement;if(l&&l.isPresent===!1)return;const c=y=>{s&&this.snapToCursor(Oi(y).point),this.stopAnimation()},d=(y,v)=>{const{drag:w,dragPropagation:k,onDragStart:N}=this.getProps();if(w&&!k&&(this.openDragLock&&this.openDragLock(),this.openDragLock=Ej(w),!this.openDragLock))return;this.latestPointerEvent=y,this.latestPanInfo=v,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Br(T=>{let S=this.getAxisMotionValue(T).get()||0;if(Vr.test(S)){const{projection:j}=this.visualElement;if(j&&j.layout){const D=j.layout.layoutBox[T];D&&(S=Mt(D)*(parseFloat(S)/100))}}this.originPoint[T]=S}),N&&Ve.update(()=>N(y,v),!1,!0),gu(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},h=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v;const{dragPropagation:w,dragDirectionLock:k,onDirectionLock:N,onDrag:_}=this.getProps();if(!w&&!this.openDragLock)return;const{offset:T}=v;if(k&&this.currentDirection===null){this.currentDirection=e_(T),this.currentDirection!==null&&N&&N(this.currentDirection);return}this.updateAxis("x",v.point,T),this.updateAxis("y",v.point,T),this.visualElement.render(),_&&Ve.update(()=>_(y,v),!1,!0)},m=(y,v)=>{this.latestPointerEvent=y,this.latestPanInfo=v,this.stop(y,v),this.latestPointerEvent=null,this.latestPanInfo=null},p=()=>{const{dragSnapToOrigin:y}=this.getProps();(y||this.constraints)&&this.startAnimation({x:0,y:0})},{dragSnapToOrigin:g}=this.getProps();this.panSession=new Qy(e,{onSessionStart:c,onStart:d,onMove:h,onSessionEnd:m,resumeAnimation:p},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:g,distanceThreshold:i,contextWindow:Xy(this.visualElement),element:this.visualElement.current})}stop(e,s){const i=e||this.latestPointerEvent,l=s||this.latestPanInfo,c=this.isDragging;if(this.cancel(),!c||!l||!i)return;const{velocity:d}=l;this.startAnimation(d);const{onDragEnd:h}=this.getProps();h&&Ve.postRender(()=>h(i,l))}cancel(){this.isDragging=!1;const{projection:e,animationState:s}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.endPanSession();const{dragPropagation:i}=this.getProps();!i&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),s&&s.setActive("whileDrag",!1)}endPanSession(){this.panSession&&this.panSession.end(),this.panSession=void 0}updateAxis(e,s,i){const{drag:l}=this.getProps();if(!i||!qo(e,l,this.currentDirection))return;const c=this.getAxisMotionValue(e);let d=this.originPoint[e]+i[e];this.constraints&&this.constraints[e]&&(d=WN(d,this.constraints[e],this.elastic[e])),c.set(d)}resolveConstraints(){const{dragConstraints:e,dragElastic:s}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):this.visualElement.projection?.layout,l=this.constraints;e&&Qn(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&i?this.constraints=KN(i.layoutBox,e):this.constraints=!1,this.elastic=YN(s),l!==this.constraints&&!Qn(e)&&i&&this.constraints&&!this.hasMutatedConstraints&&Br(c=>{this.constraints!==!1&&this.getAxisMotionValue(c)&&(this.constraints[c]=JN(i.layoutBox[c],this.constraints[c]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:s}=this.getProps();if(!e||!Qn(e))return!1;const i=e.current,{projection:l}=this.visualElement;if(!l||!l.layout)return!1;const c=r2(i,l.root,this.visualElement.getTransformPagePoint());let d=qN(l.layout.layoutBox,c);if(s){const h=s(Zj(d));this.hasMutatedConstraints=!!h,h&&(d=by(h))}return d}startAnimation(e){const{drag:s,dragMomentum:i,dragElastic:l,dragTransition:c,dragSnapToOrigin:d,onDragTransitionEnd:h}=this.getProps(),m=this.constraints||{},p=Br(g=>{if(!qo(g,s,this.currentDirection))return;let y=m&&m[g]||{};d&&(y={min:0,max:0});const v=l?200:1e6,w=l?40:1e7,k={type:"inertia",velocity:i?e[g]:0,bounceStiffness:v,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...c,...y};return this.startAxisValueAnimation(g,k)});return Promise.all(p).then(h)}startAxisValueAnimation(e,s){const i=this.getAxisMotionValue(e);return gu(this.visualElement,e),i.start(ah(e,i,0,s,this.visualElement,!1))}stopAnimation(){Br(e=>this.getAxisMotionValue(e).stop())}getAxisMotionValue(e){const s=`_drag${e.toUpperCase()}`,i=this.visualElement.getProps(),l=i[s];return l||this.visualElement.getValue(e,(i.initial?i.initial[e]:void 0)||0)}snapToCursor(e){Br(s=>{const{drag:i}=this.getProps();if(!qo(s,i,this.currentDirection))return;const{projection:l}=this.visualElement,c=this.getAxisMotionValue(s);if(l&&l.layout){const{min:d,max:h}=l.layout.layoutBox[s],m=c.get()||0;c.set(e[s]-Ge(d,h,.5)+m)}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:s}=this.getProps(),{projection:i}=this.visualElement;if(!Qn(s)||!i||!this.constraints)return;this.stopAnimation();const l={x:0,y:0};Br(d=>{const h=this.getAxisMotionValue(d);if(h&&this.constraints!==!1){const m=h.get();l[d]=GN({min:m,max:m},this.constraints[d])}});const{transformTemplate:c}=this.visualElement.getProps();this.visualElement.current.style.transform=c?c({},""):"none",i.root&&i.root.updateScroll(),i.updateLayout(),this.constraints=!1,this.resolveConstraints(),Br(d=>{if(!qo(d,e,null))return;const h=this.getAxisMotionValue(d),{min:m,max:p}=this.constraints[d];h.set(Ge(m,p,l[d]))}),this.visualElement.render()}addListeners(){if(!this.visualElement.current)return;XN.set(this.visualElement,this);const e=this.visualElement.current,s=fi(e,"pointerdown",p=>{const{drag:g,dragListener:y=!0}=this.getProps(),v=p.target,w=v!==e&&Ij(v);g&&y&&!w&&this.start(p)});let i;const l=()=>{const{dragConstraints:p}=this.getProps();Qn(p)&&p.current&&(this.constraints=this.resolveRefConstraints(),i||(i=ZN(e,p.current,()=>this.scalePositionWithinConstraints())))},{projection:c}=this.visualElement,d=c.addEventListener("measure",l);c&&!c.layout&&(c.root&&c.root.updateScroll(),c.updateLayout()),Ve.read(l);const h=ji(window,"resize",()=>this.scalePositionWithinConstraints()),m=c.addEventListener("didUpdate",(({delta:p,hasLayoutChanged:g})=>{this.isDragging&&g&&(Br(y=>{const v=this.getAxisMotionValue(y);v&&(this.originPoint[y]+=p[y].translate,v.set(v.get()+p[y].translate))}),this.visualElement.render())}));return()=>{h(),s(),d(),m&&m(),i&&i()}}getProps(){const e=this.visualElement.getProps(),{drag:s=!1,dragDirectionLock:i=!1,dragPropagation:l=!1,dragConstraints:c=!1,dragElastic:d=_u,dragMomentum:h=!0}=e;return{...e,drag:s,dragDirectionLock:i,dragPropagation:l,dragConstraints:c,dragElastic:d,dragMomentum:h}}}function Ep(t){let e=!0;return()=>{if(e){e=!1;return}t()}}function ZN(t,e,s){const i=D0(t,Ep(s)),l=D0(e,Ep(s));return()=>{i(),l()}}function qo(t,e,s){return(e===!0||e===t)&&(s===null||s===t)}function e_(t,e=10){let s=null;return Math.abs(t.y)>e?s="y":Math.abs(t.x)>e&&(s="x"),s}class t_ extends Ws{constructor(e){super(e),this.removeGroupControls=pr,this.removeListeners=pr,this.controls=new QN(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||pr}update(){const{dragControls:e}=this.node.getProps(),{dragControls:s}=this.node.prevProps||{};e!==s&&(this.removeGroupControls(),e&&(this.removeGroupControls=e.subscribe(this.controls)))}unmount(){this.removeGroupControls(),this.removeListeners(),this.controls.isDragging||this.controls.endPanSession()}}const Ud=t=>(e,s)=>{t&&Ve.update(()=>t(e,s),!1,!0)};class r_ extends Ws{constructor(){super(...arguments),this.removePointerDownListener=pr}onPointerDown(e){this.session=new Qy(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:Xy(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:s,onPan:i,onPanEnd:l}=this.node.getProps();return{onSessionStart:Ud(e),onStart:Ud(s),onMove:Ud(i),onEnd:(c,d)=>{delete this.session,l&&Ve.postRender(()=>l(c,d))}}}mount(){this.removePointerDownListener=fi(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}let Bd=!1;class s_ extends P.Component{componentDidMount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i,layoutId:l}=this.props,{projection:c}=e;c&&(s.group&&s.group.add(c),i&&i.register&&l&&i.register(c),Bd&&c.root.didUpdate(),c.addEventListener("animationComplete",()=>{this.safeToRemove()}),c.setOptions({...c.options,layoutDependency:this.props.layoutDependency,onExitComplete:()=>this.safeToRemove()})),cl.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:s,visualElement:i,drag:l,isPresent:c}=this.props,{projection:d}=i;return d&&(d.isPresent=c,e.layoutDependency!==s&&d.setOptions({...d.options,layoutDependency:s}),Bd=!0,l||e.layoutDependency!==s||s===void 0||e.isPresent!==c?d.willUpdate():this.safeToRemove(),e.isPresent!==c&&(c?d.promote():d.relegate()||Ve.postRender(()=>{const h=d.getStack();(!h||!h.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),ch.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:s,switchLayoutGroup:i}=this.props,{projection:l}=e;Bd=!0,l&&(l.scheduleCheckAfterUnmount(),s&&s.group&&s.group.remove(l),i&&i.deregister&&i.deregister(l))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ex(t){const[e,s]=zy(),i=P.useContext(zu);return n.jsx(s_,{...t,layoutGroup:i,switchLayoutGroup:P.useContext(Jy),isPresent:e,safeToRemove:s})}const n_={pan:{Feature:r_},drag:{Feature:t_,ProjectionNode:Vy,MeasureLayout:ex}};function Tp(t,e,s){const{props:i}=t;t.animationState&&i.whileHover&&t.animationState.setActive("whileHover",s==="Start");const l="onHover"+s,c=i[l];c&&Ve.postRender(()=>c(e,Oi(e)))}class a_ extends Ws{mount(){const{current:e}=this.node;e&&(this.unmount=Cj(e,(s,i)=>(Tp(this.node,i,"Start"),l=>Tp(this.node,l,"End"))))}unmount(){}}class i_ extends Ws{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Ri(ji(this.node.current,"focus",()=>this.onFocus()),ji(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function Cp(t,e,s){const{props:i}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&i.whileTap&&t.animationState.setActive("whileTap",s==="Start");const l="onTap"+(s==="End"?"":s),c=i[l];c&&Ve.postRender(()=>c(e,Oi(e)))}class o_ extends Ws{mount(){const{current:e}=this.node;if(!e)return;const{globalTapTarget:s,propagate:i}=this.node.props;this.unmount=Oj(e,(l,c)=>(Cp(this.node,c,"Start"),(d,{success:h})=>Cp(this.node,d,h?"End":"Cancel")),{useGlobalTarget:s,stopPropagation:i?.tap===!1})}unmount(){}}const Su=new WeakMap,Vd=new WeakMap,l_=t=>{const e=Su.get(t.target);e&&e(t)},c_=t=>{t.forEach(l_)};function d_({root:t,...e}){const s=t||document;Vd.has(s)||Vd.set(s,{});const i=Vd.get(s),l=JSON.stringify(e);return i[l]||(i[l]=new IntersectionObserver(c_,{root:t,...e})),i[l]}function u_(t,e,s){const i=d_(e);return Su.set(t,s),i.observe(t),()=>{Su.delete(t),i.unobserve(t)}}const h_={some:0,all:1};class f_ extends Ws{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:s,margin:i,amount:l="some",once:c}=e,d={root:s?s.current:void 0,rootMargin:i,threshold:typeof l=="number"?l:h_[l]},h=m=>{const{isIntersecting:p}=m;if(this.isInView===p||(this.isInView=p,c&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:y}=this.node.getProps(),v=p?g:y;v&&v(m)};return u_(this.node.current,d,h)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:s}=this.node;["amount","margin","root"].some(m_(e,s))&&this.startObserver()}unmount(){}}function m_({viewport:t={}},{viewport:e={}}={}){return s=>t[s]!==e[s]}const p_={inView:{Feature:f_},tap:{Feature:o_},focus:{Feature:i_},hover:{Feature:a_}},g_={layout:{ProjectionNode:Vy,MeasureLayout:ex}},y_={...BN,...p_,...n_,...g_},C=ON(y_,MN);var x_=ag();const v_=ng(x_);function b_(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],s=document.createElement("style");s.type="text/css",e.appendChild(s),s.styleSheet?s.styleSheet.cssText=t:s.appendChild(document.createTextNode(t))}const w_=t=>{switch(t){case"success":return N_;case"info":return S_;case"warning":return __;case"error":return E_;default:return null}},k_=Array(12).fill(0),j_=({visible:t,className:e})=>ee.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ee.createElement("div",{className:"sonner-spinner"},k_.map((s,i)=>ee.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${i}`})))),N_=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),__=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),S_=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),E_=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ee.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),T_=ee.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ee.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ee.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),C_=()=>{const[t,e]=ee.useState(document.hidden);return ee.useEffect(()=>{const s=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",s),()=>window.removeEventListener("visibilitychange",s)},[]),t};let Eu=1;class P_{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const s=this.subscribers.indexOf(e);this.subscribers.splice(s,1)}),this.publish=e=>{this.subscribers.forEach(s=>s(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var s;const{message:i,...l}=e,c=typeof e?.id=="number"||((s=e.id)==null?void 0:s.length)>0?e.id:Eu++,d=this.toasts.find(m=>m.id===c),h=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(c)&&this.dismissedToasts.delete(c),d?this.toasts=this.toasts.map(m=>m.id===c?(this.publish({...m,...e,id:c,title:i}),{...m,...e,id:c,dismissible:h,title:i}):m):this.addToast({title:i,...l,dismissible:h,id:c}),c},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(s=>s({id:e,dismiss:!0})))):this.toasts.forEach(s=>{this.subscribers.forEach(i=>i({id:s.id,dismiss:!0}))}),e),this.message=(e,s)=>this.create({...s,message:e}),this.error=(e,s)=>this.create({...s,message:e,type:"error"}),this.success=(e,s)=>this.create({...s,type:"success",message:e}),this.info=(e,s)=>this.create({...s,type:"info",message:e}),this.warning=(e,s)=>this.create({...s,type:"warning",message:e}),this.loading=(e,s)=>this.create({...s,type:"loading",message:e}),this.promise=(e,s)=>{if(!s)return;let i;s.loading!==void 0&&(i=this.create({...s,promise:e,type:"loading",message:s.loading,description:typeof s.description!="function"?s.description:void 0}));const l=Promise.resolve(e instanceof Function?e():e);let c=i!==void 0,d;const h=l.then(async p=>{if(d=["resolve",p],ee.isValidElement(p))c=!1,this.create({id:i,type:"default",message:p});else if(R_(p)&&!p.ok){c=!1;const y=typeof s.error=="function"?await s.error(`HTTP error! status: ${p.status}`):s.error,v=typeof s.description=="function"?await s.description(`HTTP error! status: ${p.status}`):s.description,k=typeof y=="object"&&!ee.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...k})}else if(p instanceof Error){c=!1;const y=typeof s.error=="function"?await s.error(p):s.error,v=typeof s.description=="function"?await s.description(p):s.description,k=typeof y=="object"&&!ee.isValidElement(y)?y:{message:y};this.create({id:i,type:"error",description:v,...k})}else if(s.success!==void 0){c=!1;const y=typeof s.success=="function"?await s.success(p):s.success,v=typeof s.description=="function"?await s.description(p):s.description,k=typeof y=="object"&&!ee.isValidElement(y)?y:{message:y};this.create({id:i,type:"success",description:v,...k})}}).catch(async p=>{if(d=["reject",p],s.error!==void 0){c=!1;const g=typeof s.error=="function"?await s.error(p):s.error,y=typeof s.description=="function"?await s.description(p):s.description,w=typeof g=="object"&&!ee.isValidElement(g)?g:{message:g};this.create({id:i,type:"error",description:y,...w})}}).finally(()=>{c&&(this.dismiss(i),i=void 0),s.finally==null||s.finally.call(s)}),m=()=>new Promise((p,g)=>h.then(()=>d[0]==="reject"?g(d[1]):p(d[1])).catch(g));return typeof i!="string"&&typeof i!="number"?{unwrap:m}:Object.assign(i,{unwrap:m})},this.custom=(e,s)=>{const i=s?.id||Eu++;return this.create({jsx:e(i),id:i,...s}),i},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const Wt=new P_,A_=(t,e)=>{const s=e?.id||Eu++;return Wt.addToast({title:t,...e,id:s}),s},R_=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",I_=A_,D_=()=>Wt.toasts,O_=()=>Wt.getActiveToasts(),Z=Object.assign(I_,{success:Wt.success,info:Wt.info,warning:Wt.warning,error:Wt.error,custom:Wt.custom,message:Wt.message,promise:Wt.promise,dismiss:Wt.dismiss,loading:Wt.loading},{getHistory:D_,getToasts:O_});b_("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Go(t){return t.label!==void 0}const M_=3,L_="24px",$_="16px",Pp=4e3,U_=356,B_=14,V_=45,z_=200;function Ur(...t){return t.filter(Boolean).join(" ")}function F_(t){const[e,s]=t.split("-"),i=[];return e&&i.push(e),s&&i.push(s),i}const H_=t=>{var e,s,i,l,c,d,h,m,p;const{invert:g,toast:y,unstyled:v,interacting:w,setHeights:k,visibleToasts:N,heights:_,index:T,toasts:S,expanded:j,removeToast:D,defaultRichColors:$,closeButton:B,style:L,cancelButtonStyle:O,actionButtonStyle:H,className:se="",descriptionClassName:he="",duration:je,position:J,gap:be,expandByDefault:Pe,classNames:ge,icons:le,closeButtonAriaLabel:Y="Close toast"}=t,[ie,K]=ee.useState(null),[M,W]=ee.useState(null),[re,fe]=ee.useState(!1),[xe,Se]=ee.useState(!1),[Re,ve]=ee.useState(!1),[De,rt]=ee.useState(!1),[gr,Kt]=ee.useState(!1),[ds,Fr]=ee.useState(0),[us,Hr]=ee.useState(0),qt=ee.useRef(y.duration||je||Pp),Ks=ee.useRef(null),Pt=ee.useRef(null),Wr=T===0,Ir=T+1<=N,ot=y.type,yr=y.dismissible!==!1,kn=y.className||"",jn=y.descriptionClassName||"",At=ee.useMemo(()=>_.findIndex(Te=>Te.toastId===y.id)||0,[_,y.id]),hs=ee.useMemo(()=>{var Te;return(Te=y.closeButton)!=null?Te:B},[y.closeButton,B]),xr=ee.useMemo(()=>y.duration||je||Pp,[y.duration,je]),E=ee.useRef(0),F=ee.useRef(0),ce=ee.useRef(0),Ae=ee.useRef(null),[Ce,ne]=J.split("-"),fs=ee.useMemo(()=>_.reduce((Te,Qe,lt)=>lt>=At?Te:Te+Qe.height,0),[_,At]),Nn=C_(),xa=y.invert||g,qs=ot==="loading";F.current=ee.useMemo(()=>At*be+fs,[At,fs]),ee.useEffect(()=>{qt.current=xr},[xr]),ee.useEffect(()=>{fe(!0)},[]),ee.useEffect(()=>{const Te=Pt.current;if(Te){const Qe=Te.getBoundingClientRect().height;return Hr(Qe),k(lt=>[{toastId:y.id,height:Qe,position:y.position},...lt]),()=>k(lt=>lt.filter(jt=>jt.toastId!==y.id))}},[k,y.id]),ee.useLayoutEffect(()=>{if(!re)return;const Te=Pt.current,Qe=Te.style.height;Te.style.height="auto";const lt=Te.getBoundingClientRect().height;Te.style.height=Qe,Hr(lt),k(jt=>jt.find(st=>st.toastId===y.id)?jt.map(st=>st.toastId===y.id?{...st,height:lt}:st):[{toastId:y.id,height:lt,position:y.position},...jt])},[re,y.title,y.description,k,y.id,y.jsx,y.action,y.cancel]);const nr=ee.useCallback(()=>{Se(!0),Fr(F.current),k(Te=>Te.filter(Qe=>Qe.toastId!==y.id)),setTimeout(()=>{D(y)},z_)},[y,D,k,F]);ee.useEffect(()=>{if(y.promise&&ot==="loading"||y.duration===1/0||y.type==="loading")return;let Te;return j||w||Nn?(()=>{if(ce.current<E.current){const jt=new Date().getTime()-E.current;qt.current=qt.current-jt}ce.current=new Date().getTime()})():(()=>{qt.current!==1/0&&(E.current=new Date().getTime(),Te=setTimeout(()=>{y.onAutoClose==null||y.onAutoClose.call(y,y),nr()},qt.current))})(),()=>clearTimeout(Te)},[j,w,y,ot,Nn,nr]),ee.useEffect(()=>{y.delete&&(nr(),y.onDismiss==null||y.onDismiss.call(y,y))},[nr,y.delete]);function va(){var Te;if(le?.loading){var Qe;return ee.createElement("div",{className:Ur(ge?.loader,y==null||(Qe=y.classNames)==null?void 0:Qe.loader,"sonner-loader"),"data-visible":ot==="loading"},le.loading)}return ee.createElement(j_,{className:Ur(ge?.loader,y==null||(Te=y.classNames)==null?void 0:Te.loader),visible:ot==="loading"})}const ms=y.icon||le?.[ot]||w_(ot);var Kr,ba;return ee.createElement("li",{tabIndex:0,ref:Pt,className:Ur(se,kn,ge?.toast,y==null||(e=y.classNames)==null?void 0:e.toast,ge?.default,ge?.[ot],y==null||(s=y.classNames)==null?void 0:s[ot]),"data-sonner-toast":"","data-rich-colors":(Kr=y.richColors)!=null?Kr:$,"data-styled":!(y.jsx||y.unstyled||v),"data-mounted":re,"data-promise":!!y.promise,"data-swiped":gr,"data-removed":xe,"data-visible":Ir,"data-y-position":Ce,"data-x-position":ne,"data-index":T,"data-front":Wr,"data-swiping":Re,"data-dismissible":yr,"data-type":ot,"data-invert":xa,"data-swipe-out":De,"data-swipe-direction":M,"data-expanded":!!(j||Pe&&re),"data-testid":y.testId,style:{"--index":T,"--toasts-before":T,"--z-index":S.length-T,"--offset":`${xe?ds:F.current}px`,"--initial-height":Pe?"auto":`${us}px`,...L,...y.style},onDragEnd:()=>{ve(!1),K(null),Ae.current=null},onPointerDown:Te=>{Te.button!==2&&(qs||!yr||(Ks.current=new Date,Fr(F.current),Te.target.setPointerCapture(Te.pointerId),Te.target.tagName!=="BUTTON"&&(ve(!0),Ae.current={x:Te.clientX,y:Te.clientY})))},onPointerUp:()=>{var Te,Qe,lt;if(De||!yr)return;Ae.current=null;const jt=Number(((Te=Pt.current)==null?void 0:Te.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ps=Number(((Qe=Pt.current)==null?void 0:Qe.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),st=new Date().getTime()-((lt=Ks.current)==null?void 0:lt.getTime()),ft=ie==="x"?jt:ps,gs=Math.abs(ft)/st;if(Math.abs(ft)>=V_||gs>.11){Fr(F.current),y.onDismiss==null||y.onDismiss.call(y,y),W(ie==="x"?jt>0?"right":"left":ps>0?"down":"up"),nr(),rt(!0);return}else{var yt,Gt;(yt=Pt.current)==null||yt.style.setProperty("--swipe-amount-x","0px"),(Gt=Pt.current)==null||Gt.style.setProperty("--swipe-amount-y","0px")}Kt(!1),ve(!1),K(null)},onPointerMove:Te=>{var Qe,lt,jt;if(!Ae.current||!yr||((Qe=window.getSelection())==null?void 0:Qe.toString().length)>0)return;const st=Te.clientY-Ae.current.y,ft=Te.clientX-Ae.current.x;var gs;const yt=(gs=t.swipeDirections)!=null?gs:F_(J);!ie&&(Math.abs(ft)>1||Math.abs(st)>1)&&K(Math.abs(ft)>Math.abs(st)?"x":"y");let Gt={x:0,y:0};const ys=ar=>1/(1.5+Math.abs(ar)/20);if(ie==="y"){if(yt.includes("top")||yt.includes("bottom"))if(yt.includes("top")&&st<0||yt.includes("bottom")&&st>0)Gt.y=st;else{const ar=st*ys(st);Gt.y=Math.abs(ar)<Math.abs(st)?ar:st}}else if(ie==="x"&&(yt.includes("left")||yt.includes("right")))if(yt.includes("left")&&ft<0||yt.includes("right")&&ft>0)Gt.x=ft;else{const ar=ft*ys(ft);Gt.x=Math.abs(ar)<Math.abs(ft)?ar:ft}(Math.abs(Gt.x)>0||Math.abs(Gt.y)>0)&&Kt(!0),(lt=Pt.current)==null||lt.style.setProperty("--swipe-amount-x",`${Gt.x}px`),(jt=Pt.current)==null||jt.style.setProperty("--swipe-amount-y",`${Gt.y}px`)}},hs&&!y.jsx&&ot!=="loading"?ee.createElement("button",{"aria-label":Y,"data-disabled":qs,"data-close-button":!0,onClick:qs||!yr?()=>{}:()=>{nr(),y.onDismiss==null||y.onDismiss.call(y,y)},className:Ur(ge?.closeButton,y==null||(i=y.classNames)==null?void 0:i.closeButton)},(ba=le?.close)!=null?ba:T_):null,(ot||y.icon||y.promise)&&y.icon!==null&&(le?.[ot]!==null||y.icon)?ee.createElement("div",{"data-icon":"",className:Ur(ge?.icon,y==null||(l=y.classNames)==null?void 0:l.icon)},y.promise||y.type==="loading"&&!y.icon?y.icon||va():null,y.type!=="loading"?ms:null):null,ee.createElement("div",{"data-content":"",className:Ur(ge?.content,y==null||(c=y.classNames)==null?void 0:c.content)},ee.createElement("div",{"data-title":"",className:Ur(ge?.title,y==null||(d=y.classNames)==null?void 0:d.title)},y.jsx?y.jsx:typeof y.title=="function"?y.title():y.title),y.description?ee.createElement("div",{"data-description":"",className:Ur(he,jn,ge?.description,y==null||(h=y.classNames)==null?void 0:h.description)},typeof y.description=="function"?y.description():y.description):null),ee.isValidElement(y.cancel)?y.cancel:y.cancel&&Go(y.cancel)?ee.createElement("button",{"data-button":!0,"data-cancel":!0,style:y.cancelButtonStyle||O,onClick:Te=>{Go(y.cancel)&&yr&&(y.cancel.onClick==null||y.cancel.onClick.call(y.cancel,Te),nr())},className:Ur(ge?.cancelButton,y==null||(m=y.classNames)==null?void 0:m.cancelButton)},y.cancel.label):null,ee.isValidElement(y.action)?y.action:y.action&&Go(y.action)?ee.createElement("button",{"data-button":!0,"data-action":!0,style:y.actionButtonStyle||H,onClick:Te=>{Go(y.action)&&(y.action.onClick==null||y.action.onClick.call(y.action,Te),!Te.defaultPrevented&&nr())},className:Ur(ge?.actionButton,y==null||(p=y.classNames)==null?void 0:p.actionButton)},y.action.label):null)};function Ap(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function W_(t,e){const s={};return[t,e].forEach((i,l)=>{const c=l===1,d=c?"--mobile-offset":"--offset",h=c?$_:L_;function m(p){["top","right","bottom","left"].forEach(g=>{s[`${d}-${g}`]=typeof p=="number"?`${p}px`:p})}typeof i=="number"||typeof i=="string"?m(i):typeof i=="object"?["top","right","bottom","left"].forEach(p=>{i[p]===void 0?s[`${d}-${p}`]=h:s[`${d}-${p}`]=typeof i[p]=="number"?`${i[p]}px`:i[p]}):m(h)}),s}const Dt=ee.forwardRef(function(e,s){const{id:i,invert:l,position:c="bottom-right",hotkey:d=["altKey","KeyT"],expand:h,closeButton:m,className:p,offset:g,mobileOffset:y,theme:v="light",richColors:w,duration:k,style:N,visibleToasts:_=M_,toastOptions:T,dir:S=Ap(),gap:j=B_,icons:D,containerAriaLabel:$="Notifications"}=e,[B,L]=ee.useState([]),O=ee.useMemo(()=>i?B.filter(re=>re.toasterId===i):B.filter(re=>!re.toasterId),[B,i]),H=ee.useMemo(()=>Array.from(new Set([c].concat(O.filter(re=>re.position).map(re=>re.position)))),[O,c]),[se,he]=ee.useState([]),[je,J]=ee.useState(!1),[be,Pe]=ee.useState(!1),[ge,le]=ee.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),Y=ee.useRef(null),ie=d.join("+").replace(/Key/g,"").replace(/Digit/g,""),K=ee.useRef(null),M=ee.useRef(!1),W=ee.useCallback(re=>{L(fe=>{var xe;return(xe=fe.find(Se=>Se.id===re.id))!=null&&xe.delete||Wt.dismiss(re.id),fe.filter(({id:Se})=>Se!==re.id)})},[]);return ee.useEffect(()=>Wt.subscribe(re=>{if(re.dismiss){requestAnimationFrame(()=>{L(fe=>fe.map(xe=>xe.id===re.id?{...xe,delete:!0}:xe))});return}setTimeout(()=>{v_.flushSync(()=>{L(fe=>{const xe=fe.findIndex(Se=>Se.id===re.id);return xe!==-1?[...fe.slice(0,xe),{...fe[xe],...re},...fe.slice(xe+1)]:[re,...fe]})})})}),[B]),ee.useEffect(()=>{if(v!=="system"){le(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?le("dark"):le("light")),typeof window>"u")return;const re=window.matchMedia("(prefers-color-scheme: dark)");try{re.addEventListener("change",({matches:fe})=>{le(fe?"dark":"light")})}catch{re.addListener(({matches:xe})=>{try{le(xe?"dark":"light")}catch(Se){console.error(Se)}})}},[v]),ee.useEffect(()=>{B.length<=1&&J(!1)},[B]),ee.useEffect(()=>{const re=fe=>{var xe;if(d.every(ve=>fe[ve]||fe.code===ve)){var Re;J(!0),(Re=Y.current)==null||Re.focus()}fe.code==="Escape"&&(document.activeElement===Y.current||(xe=Y.current)!=null&&xe.contains(document.activeElement))&&J(!1)};return document.addEventListener("keydown",re),()=>document.removeEventListener("keydown",re)},[d]),ee.useEffect(()=>{if(Y.current)return()=>{K.current&&(K.current.focus({preventScroll:!0}),K.current=null,M.current=!1)}},[Y.current]),ee.createElement("section",{ref:s,"aria-label":`${$} ${ie}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},H.map((re,fe)=>{var xe;const[Se,Re]=re.split("-");return O.length?ee.createElement("ol",{key:re,dir:S==="auto"?Ap():S,tabIndex:-1,ref:Y,className:p,"data-sonner-toaster":!0,"data-sonner-theme":ge,"data-y-position":Se,"data-x-position":Re,style:{"--front-toast-height":`${((xe=se[0])==null?void 0:xe.height)||0}px`,"--width":`${U_}px`,"--gap":`${j}px`,...N,...W_(g,y)},onBlur:ve=>{M.current&&!ve.currentTarget.contains(ve.relatedTarget)&&(M.current=!1,K.current&&(K.current.focus({preventScroll:!0}),K.current=null))},onFocus:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||M.current||(M.current=!0,K.current=ve.relatedTarget)},onMouseEnter:()=>J(!0),onMouseMove:()=>J(!0),onMouseLeave:()=>{be||J(!1)},onDragEnd:()=>J(!1),onPointerDown:ve=>{ve.target instanceof HTMLElement&&ve.target.dataset.dismissible==="false"||Pe(!0)},onPointerUp:()=>Pe(!1)},O.filter(ve=>!ve.position&&fe===0||ve.position===re).map((ve,De)=>{var rt,gr;return ee.createElement(H_,{key:ve.id,icons:D,index:De,toast:ve,defaultRichColors:w,duration:(rt=T?.duration)!=null?rt:k,className:T?.className,descriptionClassName:T?.descriptionClassName,invert:l,visibleToasts:_,closeButton:(gr=T?.closeButton)!=null?gr:m,interacting:be,position:re,style:T?.style,unstyled:T?.unstyled,classNames:T?.classNames,cancelButtonStyle:T?.cancelButtonStyle,actionButtonStyle:T?.actionButtonStyle,closeButtonAriaLabel:T?.closeButtonAriaLabel,removeToast:W,toasts:O.filter(Kt=>Kt.position==ve.position),heights:se.filter(Kt=>Kt.position==ve.position),setHeights:he,expandByDefault:h,gap:j,expanded:je,swipeDirections:e.swipeDirections})})):null}))});function Al(t,e){var s={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(s[i]=t[i]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,i=Object.getOwnPropertySymbols(t);l<i.length;l++)e.indexOf(i[l])<0&&Object.prototype.propertyIsEnumerable.call(t,i[l])&&(s[i[l]]=t[i[l]]);return s}function K_(t,e,s,i){function l(c){return c instanceof s?c:new s(function(d){d(c)})}return new(s||(s=Promise))(function(c,d){function h(g){try{p(i.next(g))}catch(y){d(y)}}function m(g){try{p(i.throw(g))}catch(y){d(y)}}function p(g){g.done?c(g.value):l(g.value).then(h,m)}p((i=i.apply(t,e||[])).next())})}const q_=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vh extends Error{constructor(e,s="FunctionsError",i){super(e),this.name=s,this.context=i}}class G_ extends vh{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Rp extends vh{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Ip extends vh{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Tu;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(Tu||(Tu={}));class J_{constructor(e,{headers:s={},customFetch:i,region:l=Tu.Any}={}){this.url=e,this.headers=s,this.region=l,this.fetch=q_(i)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return K_(this,arguments,void 0,function*(s,i={}){var l;let c,d;try{const{headers:h,method:m,body:p,signal:g,timeout:y}=i;let v={},{region:w}=i;w||(w=this.region);const k=new URL(`${this.url}/${s}`);w&&w!=="any"&&(v["x-region"]=w,k.searchParams.set("forceFunctionRegion",w));let N;p&&(h&&!Object.prototype.hasOwnProperty.call(h,"Content-Type")||!h)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(v["Content-Type"]="application/octet-stream",N=p):typeof p=="string"?(v["Content-Type"]="text/plain",N=p):typeof FormData<"u"&&p instanceof FormData?N=p:(v["Content-Type"]="application/json",N=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?N=JSON.stringify(p):N=p;let _=g;y&&(d=new AbortController,c=setTimeout(()=>d.abort(),y),g?(_=d.signal,g.addEventListener("abort",()=>d.abort())):_=d.signal);const T=yield this.fetch(k.toString(),{method:m||"POST",headers:Object.assign(Object.assign(Object.assign({},v),this.headers),h),body:N,signal:_}).catch($=>{throw new G_($)}),S=T.headers.get("x-relay-error");if(S&&S==="true")throw new Rp(T);if(!T.ok)throw new Ip(T);let j=((l=T.headers.get("Content-Type"))!==null&&l!==void 0?l:"text/plain").split(";")[0].trim(),D;return j==="application/json"?D=yield T.json():j==="application/octet-stream"||j==="application/pdf"?D=yield T.blob():j==="text/event-stream"?D=T:j==="multipart/form-data"?D=yield T.formData():D=yield T.text(),{data:D,error:null,response:T}}catch(h){return{data:null,error:h,response:h instanceof Ip||h instanceof Rp?h.context:void 0}}finally{c&&clearTimeout(c)}})}}var Y_=class extends Error{constructor(t){super(t.message),this.name="PostgrestError",this.details=t.details,this.hint=t.hint,this.code=t.code}},X_=class{constructor(t){var e,s,i;this.shouldThrowOnError=!1,this.method=t.method,this.url=t.url,this.headers=new Headers(t.headers),this.schema=t.schema,this.body=t.body,this.shouldThrowOnError=(e=t.shouldThrowOnError)!==null&&e!==void 0?e:!1,this.signal=t.signal,this.isMaybeSingle=(s=t.isMaybeSingle)!==null&&s!==void 0?s:!1,this.urlLengthLimit=(i=t.urlLengthLimit)!==null&&i!==void 0?i:8e3,t.fetch?this.fetch=t.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=new Headers(this.headers),this.headers.set(t,e),this}then(t,e){var s=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const i=this.fetch;let l=i(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async c=>{let d=null,h=null,m=null,p=c.status,g=c.statusText;if(c.ok){var y,v;if(s.method!=="HEAD"){var w;const T=await c.text();T===""||(s.headers.get("Accept")==="text/csv"||s.headers.get("Accept")&&(!((w=s.headers.get("Accept"))===null||w===void 0)&&w.includes("application/vnd.pgrst.plan+text"))?h=T:h=JSON.parse(T))}const N=(y=s.headers.get("Prefer"))===null||y===void 0?void 0:y.match(/count=(exact|planned|estimated)/),_=(v=c.headers.get("content-range"))===null||v===void 0?void 0:v.split("/");N&&_&&_.length>1&&(m=parseInt(_[1])),s.isMaybeSingle&&s.method==="GET"&&Array.isArray(h)&&(h.length>1?(d={code:"PGRST116",details:`Results contain ${h.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},h=null,m=null,p=406,g="Not Acceptable"):h.length===1?h=h[0]:h=null)}else{var k;const N=await c.text();try{d=JSON.parse(N),Array.isArray(d)&&c.status===404&&(h=[],d=null,p=200,g="OK")}catch{c.status===404&&N===""?(p=204,g="No Content"):d={message:N}}if(d&&s.isMaybeSingle&&(!(d==null||(k=d.details)===null||k===void 0)&&k.includes("0 rows"))&&(d=null,p=200,g="OK"),d&&s.shouldThrowOnError)throw new Y_(d)}return{error:d,data:h,count:m,status:p,statusText:g}});return this.shouldThrowOnError||(l=l.catch(c=>{var d;let h="",m="",p="";const g=c?.cause;if(g){var y,v,w,k;const T=(y=g?.message)!==null&&y!==void 0?y:"",S=(v=g?.code)!==null&&v!==void 0?v:"";h=`${(w=c?.name)!==null&&w!==void 0?w:"FetchError"}: ${c?.message}`,h+=`

Caused by: ${(k=g?.name)!==null&&k!==void 0?k:"Error"}: ${T}`,S&&(h+=` (${S})`),g?.stack&&(h+=`
${g.stack}`)}else{var N;h=(N=c?.stack)!==null&&N!==void 0?N:""}const _=this.url.toString().length;return c?.name==="AbortError"||c?.code==="ABORT_ERR"?(p="",m="Request was aborted (timeout or manual cancellation)",_>this.urlLengthLimit&&(m+=`. Note: Your request URL is ${_} characters, which may exceed server limits. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [many IDs])), consider using an RPC function to pass values server-side.`)):(g?.name==="HeadersOverflowError"||g?.code==="UND_ERR_HEADERS_OVERFLOW")&&(p="",m="HTTP headers exceeded server limits (typically 16KB)",_>this.urlLengthLimit&&(m+=`. Your request URL is ${_} characters. If selecting many fields, consider using views. If filtering with large arrays (e.g., .in('id', [200+ IDs])), consider using an RPC function instead.`)),{error:{message:`${(d=c?.name)!==null&&d!==void 0?d:"FetchError"}: ${c?.message}`,details:h,hint:m,code:p},data:null,count:null,status:0,statusText:""}})),l.then(t,e)}returns(){return this}overrideTypes(){return this}},Q_=class extends X_{select(t){let e=!1;const s=(t??"*").split("").map(i=>/\s/.test(i)&&!e?"":(i==='"'&&(e=!e),i)).join("");return this.url.searchParams.set("select",s),this.headers.append("Prefer","return=representation"),this}order(t,{ascending:e=!0,nullsFirst:s,foreignTable:i,referencedTable:l=i}={}){const c=l?`${l}.order`:"order",d=this.url.searchParams.get(c);return this.url.searchParams.set(c,`${d?`${d},`:""}${t}.${e?"asc":"desc"}${s===void 0?"":s?".nullsfirst":".nullslast"}`),this}limit(t,{foreignTable:e,referencedTable:s=e}={}){const i=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${t}`),this}range(t,e,{foreignTable:s,referencedTable:i=s}={}){const l=typeof i>"u"?"offset":`${i}.offset`,c=typeof i>"u"?"limit":`${i}.limit`;return this.url.searchParams.set(l,`${t}`),this.url.searchParams.set(c,`${e-t+1}`),this}abortSignal(t){return this.signal=t,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:t=!1,verbose:e=!1,settings:s=!1,buffers:i=!1,wal:l=!1,format:c="text"}={}){var d;const h=[t?"analyze":null,e?"verbose":null,s?"settings":null,i?"buffers":null,l?"wal":null].filter(Boolean).join("|"),m=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${c}; for="${m}"; options=${h};`),c==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(t){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${t}`),this}};const Dp=new RegExp("[,()]");var Zn=class extends Q_{eq(t,e){return this.url.searchParams.append(t,`eq.${e}`),this}neq(t,e){return this.url.searchParams.append(t,`neq.${e}`),this}gt(t,e){return this.url.searchParams.append(t,`gt.${e}`),this}gte(t,e){return this.url.searchParams.append(t,`gte.${e}`),this}lt(t,e){return this.url.searchParams.append(t,`lt.${e}`),this}lte(t,e){return this.url.searchParams.append(t,`lte.${e}`),this}like(t,e){return this.url.searchParams.append(t,`like.${e}`),this}likeAllOf(t,e){return this.url.searchParams.append(t,`like(all).{${e.join(",")}}`),this}likeAnyOf(t,e){return this.url.searchParams.append(t,`like(any).{${e.join(",")}}`),this}ilike(t,e){return this.url.searchParams.append(t,`ilike.${e}`),this}ilikeAllOf(t,e){return this.url.searchParams.append(t,`ilike(all).{${e.join(",")}}`),this}ilikeAnyOf(t,e){return this.url.searchParams.append(t,`ilike(any).{${e.join(",")}}`),this}regexMatch(t,e){return this.url.searchParams.append(t,`match.${e}`),this}regexIMatch(t,e){return this.url.searchParams.append(t,`imatch.${e}`),this}is(t,e){return this.url.searchParams.append(t,`is.${e}`),this}isDistinct(t,e){return this.url.searchParams.append(t,`isdistinct.${e}`),this}in(t,e){const s=Array.from(new Set(e)).map(i=>typeof i=="string"&&Dp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`in.(${s})`),this}notIn(t,e){const s=Array.from(new Set(e)).map(i=>typeof i=="string"&&Dp.test(i)?`"${i}"`:`${i}`).join(",");return this.url.searchParams.append(t,`not.in.(${s})`),this}contains(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cs.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cs.{${e.join(",")}}`):this.url.searchParams.append(t,`cs.${JSON.stringify(e)}`),this}containedBy(t,e){return typeof e=="string"?this.url.searchParams.append(t,`cd.${e}`):Array.isArray(e)?this.url.searchParams.append(t,`cd.{${e.join(",")}}`):this.url.searchParams.append(t,`cd.${JSON.stringify(e)}`),this}rangeGt(t,e){return this.url.searchParams.append(t,`sr.${e}`),this}rangeGte(t,e){return this.url.searchParams.append(t,`nxl.${e}`),this}rangeLt(t,e){return this.url.searchParams.append(t,`sl.${e}`),this}rangeLte(t,e){return this.url.searchParams.append(t,`nxr.${e}`),this}rangeAdjacent(t,e){return this.url.searchParams.append(t,`adj.${e}`),this}overlaps(t,e){return typeof e=="string"?this.url.searchParams.append(t,`ov.${e}`):this.url.searchParams.append(t,`ov.{${e.join(",")}}`),this}textSearch(t,e,{config:s,type:i}={}){let l="";i==="plain"?l="pl":i==="phrase"?l="ph":i==="websearch"&&(l="w");const c=s===void 0?"":`(${s})`;return this.url.searchParams.append(t,`${l}fts${c}.${e}`),this}match(t){return Object.entries(t).forEach(([e,s])=>{this.url.searchParams.append(e,`eq.${s}`)}),this}not(t,e,s){return this.url.searchParams.append(t,`not.${e}.${s}`),this}or(t,{foreignTable:e,referencedTable:s=e}={}){const i=s?`${s}.or`:"or";return this.url.searchParams.append(i,`(${t})`),this}filter(t,e,s){return this.url.searchParams.append(t,`${e}.${s}`),this}},Z_=class{constructor(t,{headers:e={},schema:s,fetch:i,urlLengthLimit:l=8e3}){this.url=t,this.headers=new Headers(e),this.schema=s,this.fetch=i,this.urlLengthLimit=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(t,e){const{head:s=!1,count:i}=e??{},l=s?"HEAD":"GET";let c=!1;const d=(t??"*").split("").map(p=>/\s/.test(p)&&!c?"":(p==='"'&&(c=!c),p)).join(""),{url:h,headers:m}=this.cloneRequestState();return h.searchParams.set("select",d),i&&m.append("Prefer",`count=${i}`),new Zn({method:l,url:h,headers:m,schema:this.schema,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}insert(t,{count:e,defaultToNull:s=!0}={}){var i;const l="POST",{url:c,headers:d}=this.cloneRequestState();if(e&&d.append("Prefer",`count=${e}`),s||d.append("Prefer","missing=default"),Array.isArray(t)){const h=t.reduce((m,p)=>m.concat(Object.keys(p)),[]);if(h.length>0){const m=[...new Set(h)].map(p=>`"${p}"`);c.searchParams.set("columns",m.join(","))}}return new Zn({method:l,url:c,headers:d,schema:this.schema,body:t,fetch:(i=this.fetch)!==null&&i!==void 0?i:fetch,urlLengthLimit:this.urlLengthLimit})}upsert(t,{onConflict:e,ignoreDuplicates:s=!1,count:i,defaultToNull:l=!0}={}){var c;const d="POST",{url:h,headers:m}=this.cloneRequestState();if(m.append("Prefer",`resolution=${s?"ignore":"merge"}-duplicates`),e!==void 0&&h.searchParams.set("on_conflict",e),i&&m.append("Prefer",`count=${i}`),l||m.append("Prefer","missing=default"),Array.isArray(t)){const p=t.reduce((g,y)=>g.concat(Object.keys(y)),[]);if(p.length>0){const g=[...new Set(p)].map(y=>`"${y}"`);h.searchParams.set("columns",g.join(","))}}return new Zn({method:d,url:h,headers:m,schema:this.schema,body:t,fetch:(c=this.fetch)!==null&&c!==void 0?c:fetch,urlLengthLimit:this.urlLengthLimit})}update(t,{count:e}={}){var s;const i="PATCH",{url:l,headers:c}=this.cloneRequestState();return e&&c.append("Prefer",`count=${e}`),new Zn({method:i,url:l,headers:c,schema:this.schema,body:t,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch,urlLengthLimit:this.urlLengthLimit})}delete({count:t}={}){var e;const s="DELETE",{url:i,headers:l}=this.cloneRequestState();return t&&l.append("Prefer",`count=${t}`),new Zn({method:s,url:i,headers:l,schema:this.schema,fetch:(e=this.fetch)!==null&&e!==void 0?e:fetch,urlLengthLimit:this.urlLengthLimit})}};function Ni(t){"@babel/helpers - typeof";return Ni=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ni(t)}function eS(t,e){if(Ni(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e);if(Ni(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tS(t){var e=eS(t,"string");return Ni(e)=="symbol"?e:e+""}function rS(t,e,s){return(e=tS(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Op(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,i)}return s}function Jo(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Op(Object(s),!0).forEach(function(i){rS(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Op(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}var sS=class tx{constructor(e,{headers:s={},schema:i,fetch:l,timeout:c,urlLengthLimit:d=8e3}={}){this.url=e,this.headers=new Headers(s),this.schemaName=i,this.urlLengthLimit=d;const h=l??globalThis.fetch;c!==void 0&&c>0?this.fetch=(m,p)=>{const g=new AbortController,y=setTimeout(()=>g.abort(),c),v=p?.signal;if(v){if(v.aborted)return clearTimeout(y),h(m,p);const w=()=>{clearTimeout(y),g.abort()};return v.addEventListener("abort",w,{once:!0}),h(m,Jo(Jo({},p),{},{signal:g.signal})).finally(()=>{clearTimeout(y),v.removeEventListener("abort",w)})}return h(m,Jo(Jo({},p),{},{signal:g.signal})).finally(()=>clearTimeout(y))}:this.fetch=h}from(e){if(!e||typeof e!="string"||e.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Z_(new URL(`${this.url}/${e}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}schema(e){return new tx(this.url,{headers:this.headers,schema:e,fetch:this.fetch,urlLengthLimit:this.urlLengthLimit})}rpc(e,s={},{head:i=!1,get:l=!1,count:c}={}){var d;let h;const m=new URL(`${this.url}/rpc/${e}`);let p;const g=w=>w!==null&&typeof w=="object"&&(!Array.isArray(w)||w.some(g)),y=i&&Object.values(s).some(g);y?(h="POST",p=s):i||l?(h=i?"HEAD":"GET",Object.entries(s).filter(([w,k])=>k!==void 0).map(([w,k])=>[w,Array.isArray(k)?`{${k.join(",")}}`:`${k}`]).forEach(([w,k])=>{m.searchParams.append(w,k)})):(h="POST",p=s);const v=new Headers(this.headers);return y?v.set("Prefer",c?`count=${c},return=minimal`:"return=minimal"):c&&v.set("Prefer",`count=${c}`),new Zn({method:h,url:m,headers:v,schema:this.schemaName,body:p,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch,urlLengthLimit:this.urlLengthLimit})}};class nS{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const s=globalThis.process;if(s){const i=s.versions;if(i&&i.node){const l=i.node,c=parseInt(l.replace(/^v/,"").split(".")[0]);return c>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${c} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${c} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let s=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(s+=`

Suggested solution: ${e.workaround}`),new Error(s)}static createWebSocket(e,s){const i=this.getWebSocketConstructor();return new i(e,s)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const aS="2.98.0",iS=`realtime-js/${aS}`,oS="1.0.0",rx="2.0.0",Mp=rx,Cu=1e4,lS=1e3,cS=100;var Us;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Us||(Us={}));var ut;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ut||(ut={}));var Pr;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Pr||(Pr={}));var Pu;(function(t){t.websocket="websocket"})(Pu||(Pu={}));var fn;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(fn||(fn={}));class dS{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,s){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return s(this._binaryEncodeUserBroadcastPush(e));let i=[e.join_ref,e.ref,e.topic,e.event,e.payload];return s(JSON.stringify(i))}_binaryEncodeUserBroadcastPush(e){var s;return this._isArrayBuffer((s=e.payload)===null||s===void 0?void 0:s.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var s,i;const l=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,l)}_encodeJsonUserBroadcastPush(e){var s,i;const l=(i=(s=e.payload)===null||s===void 0?void 0:s.payload)!==null&&i!==void 0?i:{},d=new TextEncoder().encode(JSON.stringify(l)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,d)}_encodeUserBroadcastPush(e,s,i){var l,c;const d=e.topic,h=(l=e.ref)!==null&&l!==void 0?l:"",m=(c=e.join_ref)!==null&&c!==void 0?c:"",p=e.payload.event,g=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},y=Object.keys(g).length===0?"":JSON.stringify(g);if(m.length>255)throw new Error(`joinRef length ${m.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`ref length ${h.length} exceeds maximum of 255`);if(d.length>255)throw new Error(`topic length ${d.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(y.length>255)throw new Error(`metadata length ${y.length} exceeds maximum of 255`);const v=this.USER_BROADCAST_PUSH_META_LENGTH+m.length+h.length+d.length+p.length+y.length,w=new ArrayBuffer(this.HEADER_LENGTH+v);let k=new DataView(w),N=0;k.setUint8(N++,this.KINDS.userBroadcastPush),k.setUint8(N++,m.length),k.setUint8(N++,h.length),k.setUint8(N++,d.length),k.setUint8(N++,p.length),k.setUint8(N++,y.length),k.setUint8(N++,s),Array.from(m,T=>k.setUint8(N++,T.charCodeAt(0))),Array.from(h,T=>k.setUint8(N++,T.charCodeAt(0))),Array.from(d,T=>k.setUint8(N++,T.charCodeAt(0))),Array.from(p,T=>k.setUint8(N++,T.charCodeAt(0))),Array.from(y,T=>k.setUint8(N++,T.charCodeAt(0)));var _=new Uint8Array(w.byteLength+i.byteLength);return _.set(new Uint8Array(w),0),_.set(new Uint8Array(i),w.byteLength),_.buffer}decode(e,s){if(this._isArrayBuffer(e)){let i=this._binaryDecode(e);return s(i)}if(typeof e=="string"){const i=JSON.parse(e),[l,c,d,h,m]=i;return s({join_ref:l,ref:c,topic:d,event:h,payload:m})}return s({})}_binaryDecode(e){const s=new DataView(e),i=s.getUint8(0),l=new TextDecoder;switch(i){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,s,l)}}_decodeUserBroadcast(e,s,i){const l=s.getUint8(1),c=s.getUint8(2),d=s.getUint8(3),h=s.getUint8(4);let m=this.HEADER_LENGTH+4;const p=i.decode(e.slice(m,m+l));m=m+l;const g=i.decode(e.slice(m,m+c));m=m+c;const y=i.decode(e.slice(m,m+d));m=m+d;const v=e.slice(m,e.byteLength),w=h===this.JSON_ENCODING?JSON.parse(i.decode(v)):v,k={type:this.BROADCAST_EVENT,event:g,payload:w};return d>0&&(k.meta=JSON.parse(y)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:k}}_isArrayBuffer(e){var s;return e instanceof ArrayBuffer||((s=e?.constructor)===null||s===void 0?void 0:s.name)==="ArrayBuffer"}_pick(e,s){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([i])=>s.includes(i)))}}class sx{constructor(e,s){this.callback=e,this.timerCalc=s,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=s}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var Be;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Be||(Be={}));const Lp=(t,e,s={})=>{var i;const l=(i=s.skipTypes)!==null&&i!==void 0?i:[];return e?Object.keys(e).reduce((c,d)=>(c[d]=uS(d,t,e,l),c),{}):{}},uS=(t,e,s,i)=>{const l=e.find(h=>h.name===t),c=l?.type,d=s[t];return c&&!i.includes(c)?nx(c,d):Au(d)},nx=(t,e)=>{if(t.charAt(0)==="_"){const s=t.slice(1,t.length);return pS(e,s)}switch(t){case Be.bool:return hS(e);case Be.float4:case Be.float8:case Be.int2:case Be.int4:case Be.int8:case Be.numeric:case Be.oid:return fS(e);case Be.json:case Be.jsonb:return mS(e);case Be.timestamp:return gS(e);case Be.abstime:case Be.date:case Be.daterange:case Be.int4range:case Be.int8range:case Be.money:case Be.reltime:case Be.text:case Be.time:case Be.timestamptz:case Be.timetz:case Be.tsrange:case Be.tstzrange:return Au(e);default:return Au(e)}},Au=t=>t,hS=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},fS=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},mS=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch{return t}return t},pS=(t,e)=>{if(typeof t!="string")return t;const s=t.length-1,i=t[s];if(t[0]==="{"&&i==="}"){let c;const d=t.slice(1,s);try{c=JSON.parse("["+d+"]")}catch{c=d?d.split(","):[]}return c.map(h=>nx(e,h))}return t},gS=t=>typeof t=="string"?t.replace(" ","T"):t,ax=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class zd{constructor(e,s,i={},l=Cu){this.channel=e,this.event=s,this.payload=i,this.timeout=l,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,s){var i;return this._hasReceived(e)&&s((i=this.receivedResp)===null||i===void 0?void 0:i.response),this.recHooks.push({status:e,callback:s}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=s=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=s,this._matchReceive(s)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,s){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:s})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:s}){this.recHooks.filter(i=>i.status===e).forEach(i=>i.callback(s))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var $p;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})($p||($p={}));class mi{constructor(e,s){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const i=s?.events||{state:"presence_state",diff:"presence_diff"};this.channel._on(i.state,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.joinRef=this.channel._joinRef(),this.state=mi.syncState(this.state,l,c,d),this.pendingDiffs.forEach(m=>{this.state=mi.syncDiff(this.state,m,c,d)}),this.pendingDiffs=[],h()}),this.channel._on(i.diff,{},l=>{const{onJoin:c,onLeave:d,onSync:h}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(l):(this.state=mi.syncDiff(this.state,l,c,d),h())}),this.onJoin((l,c,d)=>{this.channel._trigger("presence",{event:"join",key:l,currentPresences:c,newPresences:d})}),this.onLeave((l,c,d)=>{this.channel._trigger("presence",{event:"leave",key:l,currentPresences:c,leftPresences:d})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,s,i,l){const c=this.cloneDeep(e),d=this.transformState(s),h={},m={};return this.map(c,(p,g)=>{d[p]||(m[p]=g)}),this.map(d,(p,g)=>{const y=c[p];if(y){const v=g.map(_=>_.presence_ref),w=y.map(_=>_.presence_ref),k=g.filter(_=>w.indexOf(_.presence_ref)<0),N=y.filter(_=>v.indexOf(_.presence_ref)<0);k.length>0&&(h[p]=k),N.length>0&&(m[p]=N)}else h[p]=g}),this.syncDiff(c,{joins:h,leaves:m},i,l)}static syncDiff(e,s,i,l){const{joins:c,leaves:d}={joins:this.transformState(s.joins),leaves:this.transformState(s.leaves)};return i||(i=()=>{}),l||(l=()=>{}),this.map(c,(h,m)=>{var p;const g=(p=e[h])!==null&&p!==void 0?p:[];if(e[h]=this.cloneDeep(m),g.length>0){const y=e[h].map(w=>w.presence_ref),v=g.filter(w=>y.indexOf(w.presence_ref)<0);e[h].unshift(...v)}i(h,g,m)}),this.map(d,(h,m)=>{let p=e[h];if(!p)return;const g=m.map(y=>y.presence_ref);p=p.filter(y=>g.indexOf(y.presence_ref)<0),e[h]=p,l(h,p,m),p.length===0&&delete e[h]}),e}static map(e,s){return Object.getOwnPropertyNames(e).map(i=>s(i,e[i]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((s,i)=>{const l=e[i];return"metas"in l?s[i]=l.metas.map(c=>(c.presence_ref=c.phx_ref,delete c.phx_ref,delete c.phx_ref_prev,c)):s[i]=l,s},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Up;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Up||(Up={}));var pi;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(pi||(pi={}));var ss;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(ss||(ss={}));class la{constructor(e,s={config:{}},i){var l,c;if(this.topic=e,this.params=s,this.socket=i,this.bindings={},this.state=ut.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},s.config),this.timeout=this.socket.timeout,this.joinPush=new zd(this,Pr.join,this.params,this.timeout),this.rejoinTimer=new sx(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ut.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(d=>d.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ut.closed,this.socket._remove(this)}),this._onError(d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",d=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,d),this.state=ut.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pr.reply,{},(d,h)=>{this._trigger(this._replyEventName(h),d)}),this.presence=new mi(this),this.broadcastEndpointURL=ax(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((c=(l=this.params.config)===null||l===void 0?void 0:l.broadcast)===null||c===void 0)&&c.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,s=this.timeout){var i,l,c;if(this.socket.isConnected()||this.socket.connect(),this.state==ut.closed){const{config:{broadcast:d,presence:h,private:m}}=this.params,p=(l=(i=this.bindings.postgres_changes)===null||i===void 0?void 0:i.map(w=>w.filter))!==null&&l!==void 0?l:[],g=!!this.bindings[pi.PRESENCE]&&this.bindings[pi.PRESENCE].length>0||((c=this.params.config.presence)===null||c===void 0?void 0:c.enabled)===!0,y={},v={broadcast:d,presence:Object.assign(Object.assign({},h),{enabled:g}),postgres_changes:p,private:m};this.socket.accessTokenValue&&(y.access_token=this.socket.accessTokenValue),this._onError(w=>e?.(ss.CHANNEL_ERROR,w)),this._onClose(()=>e?.(ss.CLOSED)),this.updateJoinPayload(Object.assign({config:v},y)),this.joinedOnce=!0,this._rejoin(s),this.joinPush.receive("ok",async({postgres_changes:w})=>{var k;if(this.socket._isManualToken()||this.socket.setAuth(),w===void 0){e?.(ss.SUBSCRIBED);return}else{const N=this.bindings.postgres_changes,_=(k=N?.length)!==null&&k!==void 0?k:0,T=[];for(let S=0;S<_;S++){const j=N[S],{filter:{event:D,schema:$,table:B,filter:L}}=j,O=w&&w[S];if(O&&O.event===D&&la.isFilterValueEqual(O.schema,$)&&la.isFilterValueEqual(O.table,B)&&la.isFilterValueEqual(O.filter,L))T.push(Object.assign(Object.assign({},j),{id:O.id}));else{this.unsubscribe(),this.state=ut.errored,e?.(ss.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=T,e&&e(ss.SUBSCRIBED);return}}).receive("error",w=>{this.state=ut.errored,e?.(ss.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(w).join(", ")||"error")))}).receive("timeout",()=>{e?.(ss.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,s={}){return await this.send({type:"presence",event:"track",payload:e},s.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,s,i){return this.state===ut.joined&&e===pi.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(e,s,i)}async httpSend(e,s,i={}){var l;if(s==null)return Promise.reject("Payload is required for httpSend()");const c={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(c.Authorization=`Bearer ${this.socket.accessTokenValue}`);const d={method:"POST",headers:c,body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:s,private:this.private}]})},h=await this._fetchWithTimeout(this.broadcastEndpointURL,d,(l=i.timeout)!==null&&l!==void 0?l:this.timeout);if(h.status===202)return{success:!0};let m=h.statusText;try{const p=await h.json();m=p.error||p.message||m}catch{}return Promise.reject(new Error(m))}async send(e,s={}){var i,l;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:c,payload:d}=e,h={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(h.Authorization=`Bearer ${this.socket.accessTokenValue}`);const m={method:"POST",headers:h,body:JSON.stringify({messages:[{topic:this.subTopic,event:c,payload:d,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,m,(i=s.timeout)!==null&&i!==void 0?i:this.timeout);return await((l=p.body)===null||l===void 0?void 0:l.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(c=>{var d,h,m;const p=this._push(e.type,e,s.timeout||this.timeout);e.type==="broadcast"&&!(!((m=(h=(d=this.params)===null||d===void 0?void 0:d.config)===null||h===void 0?void 0:h.broadcast)===null||m===void 0)&&m.ack)&&c("ok"),p.receive("ok",()=>c("ok")),p.receive("error",()=>c("error")),p.receive("timeout",()=>c("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ut.leaving;const s=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pr.close,"leave",this._joinRef())};this.joinPush.destroy();let i=null;return new Promise(l=>{i=new zd(this,Pr.leave,{},e),i.receive("ok",()=>{s(),l("ok")}).receive("timeout",()=>{s(),l("timed out")}).receive("error",()=>{l("error")}),i.send(),this._canPush()||i.trigger("ok",{})}).finally(()=>{i?.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=ut.closed,this.bindings={}}async _fetchWithTimeout(e,s,i){const l=new AbortController,c=setTimeout(()=>l.abort(),i),d=await this.socket.fetch(e,Object.assign(Object.assign({},s),{signal:l.signal}));return clearTimeout(c),d}_push(e,s,i=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let l=new zd(this,e,s,i);return this._canPush()?l.send():this._addToPushBuffer(l),l}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>cS){const s=this.pushBuffer.shift();s&&(s.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${s.event}`,s.payload))}}_onMessage(e,s,i){return s}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,s,i){var l,c;const d=e.toLocaleLowerCase(),{close:h,error:m,leave:p,join:g}=Pr;if(i&&[h,m,p,g].indexOf(d)>=0&&i!==this._joinRef())return;let v=this._onMessage(d,s,i);if(s&&!v)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(d)?(l=this.bindings.postgres_changes)===null||l===void 0||l.filter(w=>{var k,N,_;return((k=w.filter)===null||k===void 0?void 0:k.event)==="*"||((_=(N=w.filter)===null||N===void 0?void 0:N.event)===null||_===void 0?void 0:_.toLocaleLowerCase())===d}).map(w=>w.callback(v,i)):(c=this.bindings[d])===null||c===void 0||c.filter(w=>{var k,N,_,T,S,j;if(["broadcast","presence","postgres_changes"].includes(d))if("id"in w){const D=w.id,$=(k=w.filter)===null||k===void 0?void 0:k.event;return D&&((N=s.ids)===null||N===void 0?void 0:N.includes(D))&&($==="*"||$?.toLocaleLowerCase()===((_=s.data)===null||_===void 0?void 0:_.type.toLocaleLowerCase()))}else{const D=(S=(T=w?.filter)===null||T===void 0?void 0:T.event)===null||S===void 0?void 0:S.toLocaleLowerCase();return D==="*"||D===((j=s?.event)===null||j===void 0?void 0:j.toLocaleLowerCase())}else return w.type.toLocaleLowerCase()===d}).map(w=>{if(typeof v=="object"&&"ids"in v){const k=v.data,{schema:N,table:_,commit_timestamp:T,type:S,errors:j}=k;v=Object.assign(Object.assign({},{schema:N,table:_,commit_timestamp:T,eventType:S,new:{},old:{},errors:j}),this._getPayloadRecords(k))}w.callback(v,i)})}_isClosed(){return this.state===ut.closed}_isJoined(){return this.state===ut.joined}_isJoining(){return this.state===ut.joining}_isLeaving(){return this.state===ut.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,s,i){const l=e.toLocaleLowerCase(),c={type:l,filter:s,callback:i};return this.bindings[l]?this.bindings[l].push(c):this.bindings[l]=[c],this}_off(e,s){const i=e.toLocaleLowerCase();return this.bindings[i]&&(this.bindings[i]=this.bindings[i].filter(l=>{var c;return!(((c=l.type)===null||c===void 0?void 0:c.toLocaleLowerCase())===i&&la.isEqual(l.filter,s))})),this}static isEqual(e,s){if(Object.keys(e).length!==Object.keys(s).length)return!1;for(const i in e)if(e[i]!==s[i])return!1;return!0}static isFilterValueEqual(e,s){return(e??void 0)===(s??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Pr.close,{},e)}_onError(e){this._on(Pr.error,{},s=>e(s))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ut.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const s={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(s.new=Lp(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(s.old=Lp(e.columns,e.old_record)),s}}const Fd=()=>{},Yo={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},yS=[1e3,2e3,5e3,1e4],xS=1e4,vS=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class bS{constructor(e,s){var i;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=Cu,this.transport=null,this.heartbeatIntervalMs=Yo.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Fd,this.ref=0,this.reconnectTimer=null,this.vsn=Mp,this.logger=Fd,this.conn=null,this.sendBuffer=[],this.serializer=new dS,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=l=>l?(...c)=>l(...c):(...c)=>fetch(...c),!(!((i=s?.params)===null||i===void 0)&&i.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=s.params.apikey,this.endPoint=`${e}/${Pu.websocket}`,this.httpEndpoint=ax(e),this._initializeOptions(s),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(s?.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=nS.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const s=e.message;throw s.includes("Node.js")?new Error(`${s}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${s}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,s){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const i=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(i),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,s??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const s=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),s}async removeAllChannels(){const e=await Promise.all(this.channels.map(s=>s.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,s,i){this.logger(e,s,i)}connectionState(){switch(this.conn&&this.conn.readyState){case Us.connecting:return fn.Connecting;case Us.open:return fn.Open;case Us.closing:return fn.Closing;default:return fn.Closed}}isConnected(){return this.connectionState()===fn.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,s={config:{}}){const i=`realtime:${e}`,l=this.getChannels().find(c=>c.topic===i);if(l)return l;{const c=new la(`realtime:${e}`,s,this);return this.channels.push(c),c}}push(e){const{topic:s,event:i,payload:l,ref:c}=e,d=()=>{this.encode(e,h=>{var m;(m=this.conn)===null||m===void 0||m.send(h)})};this.log("push",`${s} ${i} (${c})`,l),this.isConnected()?d():this.sendBuffer.push(d)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(s){this.log("error","error in heartbeat callback",s)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(s){this.log("error","error in heartbeat callback",s)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(lS,"heartbeat timeout"),setTimeout(()=>{var s;this.isConnected()||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout()},Yo.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(s){this.log("error","error in heartbeat callback",s)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let s=this.channels.find(i=>i.topic===e&&(i._isJoined()||i._isJoining()));s&&(this.log("transport",`leaving duplicate topic "${e}"`),s.unsubscribe())}_remove(e){this.channels=this.channels.filter(s=>s.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,s=>{if(s.topic==="phoenix"&&s.event==="phx_reply"&&s.ref&&s.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(s.payload.status==="ok"?"ok":"error",p)}catch(g){this.log("error","error in heartbeat callback",g)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:i,event:l,payload:c,ref:d}=s,h=d?`(${d})`:"",m=c.status||"";this.log("receive",`${m} ${i} ${l} ${h}`.trim(),c),this.channels.filter(p=>p._isMember(i)).forEach(p=>p._trigger(l,c,d)),this._triggerStateCallbacks("message",s)})}_clearTimer(e){var s;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((s=this.reconnectTimer)===null||s===void 0||s.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e),this.conn.readyState===Us.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===Us.open||this.conn.readyState===Us.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.accessTokenValue&&(this.channels.forEach(s=>{s.updateJoinPayload({access_token:this.accessTokenValue})}),this.sendBuffer=[],this.channels.forEach(s=>{s._isJoining()&&(s.joinPush.sent=!1,s.joinPush.send())})),this.flushSendBuffer()}).catch(s=>{this.log("error","error waiting for auth on connect",s),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=s=>{this.log("worker","worker error",s.message),this._terminateWorker()},this.workerRef.onmessage=s=>{s.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(e){var s;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(s=this.reconnectTimer)===null||s===void 0||s.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e);try{this.heartbeatCallback("error")}catch(s){this.log("error","error in heartbeat callback",s)}}_triggerChanError(){this.channels.forEach(e=>e._trigger(Pr.error))}_appendParams(e,s){if(Object.keys(s).length===0)return e;const i=e.match(/\?/)?"&":"?",l=new URLSearchParams(s);return`${e}${i}${l}`}_workerObjectUrl(e){let s;if(e)s=e;else{const i=new Blob([vS],{type:"application/javascript"});s=URL.createObjectURL(i)}return s}_setConnectionState(e,s=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=s)}async _performAuth(e=null){let s,i=!1;if(e)s=e,i=!0;else if(this.accessToken)try{s=await this.accessToken()}catch(l){this.log("error","Error fetching access token from callback",l),s=this.accessTokenValue}else s=this.accessTokenValue;i?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=s&&(this.accessTokenValue=s,this.channels.forEach(l=>{const c={access_token:s,version:iS};s&&l.updateJoinPayload(c),l.joinedOnce&&l._isJoined()&&l._push(Pr.access_token,{access_token:s})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this._isManualToken()||this.setAuth().catch(s=>{this.log("error",`Error setting auth in ${e}`,s)})}_triggerStateCallbacks(e,s){try{this.stateChangeCallbacks[e].forEach(i=>{try{i(s)}catch(l){this.log("error",`error in ${e} callback`,l)}})}catch(i){this.log("error",`error triggering ${e} callbacks`,i)}}_setupReconnectionTimer(){this.reconnectTimer=new sx(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},Yo.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var s,i,l,c,d,h,m,p,g,y,v,w;switch(this.transport=(s=e?.transport)!==null&&s!==void 0?s:null,this.timeout=(i=e?.timeout)!==null&&i!==void 0?i:Cu,this.heartbeatIntervalMs=(l=e?.heartbeatIntervalMs)!==null&&l!==void 0?l:Yo.HEARTBEAT_INTERVAL,this.worker=(c=e?.worker)!==null&&c!==void 0?c:!1,this.accessToken=(d=e?.accessToken)!==null&&d!==void 0?d:null,this.heartbeatCallback=(h=e?.heartbeatCallback)!==null&&h!==void 0?h:Fd,this.vsn=(m=e?.vsn)!==null&&m!==void 0?m:Mp,e?.params&&(this.params=e.params),e?.logger&&(this.logger=e.logger),(e?.logLevel||e?.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=e?.reconnectAfterMs)!==null&&p!==void 0?p:(k=>yS[k-1]||xS),this.vsn){case oS:this.encode=(g=e?.encode)!==null&&g!==void 0?g:((k,N)=>N(JSON.stringify(k))),this.decode=(y=e?.decode)!==null&&y!==void 0?y:((k,N)=>N(JSON.parse(k)));break;case rx:this.encode=(v=e?.encode)!==null&&v!==void 0?v:this.serializer.encode.bind(this.serializer),this.decode=(w=e?.decode)!==null&&w!==void 0?w:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e?.workerUrl}}}var _i=class extends Error{constructor(t,e){super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&e.icebergType?.includes("CommitState")===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function wS(t,e,s){const i=new URL(e,t);if(s)for(const[l,c]of Object.entries(s))c!==void 0&&i.searchParams.set(l,c);return i.toString()}async function kS(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function jS(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:s,path:i,query:l,body:c,headers:d}){const h=wS(t.baseUrl,i,l),m=await kS(t.auth),p=await e(h,{method:s,headers:{...c?{"Content-Type":"application/json"}:{},...m,...d},body:c?JSON.stringify(c):void 0}),g=await p.text(),y=(p.headers.get("content-type")||"").includes("application/json"),v=y&&g?JSON.parse(g):g;if(!p.ok){const w=y?v:void 0,k=w?.error;throw new _i(k?.message??`Request failed with status ${p.status}`,{status:p.status,icebergType:k?.type,icebergCode:k?.code,details:w})}return{status:p.status,headers:p.headers,data:v}}}}function Xo(t){return t.join("")}var NS=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:Xo(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(i=>({namespace:i}))}async createNamespace(t,e){const s={namespace:t.namespace,properties:e?.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:s})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Xo(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Xo(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Xo(t.namespace)}`}),!0}catch(e){if(e instanceof _i&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(s){if(s instanceof _i&&s.status===409)return;throw s}}};function qn(t){return t.join("")}var _S=class{constructor(t,e="",s){this.client=t,this.prefix=e,this.accessDelegation=s}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const s={};return this.accessDelegation&&(s["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables`,body:e,headers:s})).data.metadata}async updateTable(t,e){const s=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":s.data["metadata-location"],metadata:s.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String(e?.purge??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${qn(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(s){if(s instanceof _i&&s.status===404)return!1;throw s}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(s){if(s instanceof _i&&s.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw s}}},SS=class{constructor(t){let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const s=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=jS({baseUrl:s,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=t.accessDelegation?.join(","),this.namespaceOps=new NS(this.client,e),this.tableOps=new _S(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}},Rl=class extends Error{constructor(t,e="storage",s,i){super(t),this.__isStorageError=!0,this.namespace=e,this.name=e==="vectors"?"StorageVectorsError":"StorageError",this.status=s,this.statusCode=i}};function Il(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}var Qo=class extends Rl{constructor(t,e,s,i="storage"){super(t,i,e,s),this.name=i==="vectors"?"StorageVectorsApiError":"StorageApiError",this.status=e,this.statusCode=s}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},ix=class extends Rl{constructor(t,e,s="storage"){super(t,s),this.name=s==="vectors"?"StorageVectorsUnknownError":"StorageUnknownError",this.originalError=e}};const ES=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),TS=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Ru=t=>{if(Array.isArray(t))return t.map(s=>Ru(s));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([s,i])=>{const l=s.replace(/([-_][a-z])/gi,c=>c.toUpperCase().replace(/[-_]/g,""));e[l]=Ru(i)}),e},CS=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t);function Si(t){"@babel/helpers - typeof";return Si=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Si(t)}function PS(t,e){if(Si(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e);if(Si(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function AS(t){var e=PS(t,"string");return Si(e)=="symbol"?e:e+""}function RS(t,e,s){return(e=AS(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function Bp(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,i)}return s}function Ne(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?Bp(Object(s),!0).forEach(function(i){RS(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):Bp(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}const Vp=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},IS=async(t,e,s,i)=>{if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!s?.noResolveJson){const l=t,c=l.status||500;if(typeof l.json=="function")l.json().then(d=>{const h=d?.statusCode||d?.code||c+"";e(new Qo(Vp(d),c,h,i))}).catch(()=>{if(i==="vectors"){const d=c+"";e(new Qo(l.statusText||`HTTP ${c} error`,c,d,i))}else{const d=c+"";e(new Qo(l.statusText||`HTTP ${c} error`,c,d,i))}});else{const d=c+"";e(new Qo(l.statusText||`HTTP ${c} error`,c,d,i))}}else e(new ix(Vp(t),t,i))},DS=(t,e,s,i)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"||t==="HEAD"||!i?Ne(Ne({},l),s):(TS(i)?(l.headers=Ne({"Content-Type":"application/json"},e?.headers),l.body=JSON.stringify(i)):l.body=i,e?.duplex&&(l.duplex=e.duplex),Ne(Ne({},l),s))};async function si(t,e,s,i,l,c,d){return new Promise((h,m)=>{t(s,DS(e,i,l,c)).then(p=>{if(!p.ok)throw p;if(i?.noResolveJson)return p;if(d==="vectors"){const g=p.headers.get("content-type");if(p.headers.get("content-length")==="0"||p.status===204)return{};if(!g||!g.includes("application/json"))return{}}return p.json()}).then(p=>h(p)).catch(p=>IS(p,m,i,d))})}function ox(t="storage"){return{get:async(e,s,i,l)=>si(e,"GET",s,i,l,void 0,t),post:async(e,s,i,l,c)=>si(e,"POST",s,l,c,i,t),put:async(e,s,i,l,c)=>si(e,"PUT",s,l,c,i,t),head:async(e,s,i,l)=>si(e,"HEAD",s,Ne(Ne({},i),{},{noResolveJson:!0}),l,void 0,t),remove:async(e,s,i,l,c)=>si(e,"DELETE",s,l,c,i,t)}}const OS=ox("storage"),{get:Ei,post:Cr,put:Iu,head:MS,remove:bh}=OS,tr=ox("vectors");var ya=class{constructor(t,e={},s,i="storage"){this.shouldThrowOnError=!1,this.url=t,this.headers=e,this.fetch=ES(s),this.namespace=i}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(t,e){return this.headers=Ne(Ne({},this.headers),{},{[t]:e}),this}async handleOperation(t){var e=this;try{return{data:await t(),error:null}}catch(s){if(e.shouldThrowOnError)throw s;if(Il(s))return{data:null,error:s};throw s}}},LS=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e}then(t,e){return this.execute().then(t,e)}async execute(){var t=this;try{return{data:(await t.downloadFn()).body,error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Il(e))return{data:null,error:e};throw e}}};let lx;lx=Symbol.toStringTag;var $S=class{constructor(t,e){this.downloadFn=t,this.shouldThrowOnError=e,this[lx]="BlobDownloadBuilder",this.promise=null}asStream(){return new LS(this.downloadFn,this.shouldThrowOnError)}then(t,e){return this.getPromise().then(t,e)}catch(t){return this.getPromise().catch(t)}finally(t){return this.getPromise().finally(t)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var t=this;try{return{data:await(await t.downloadFn()).blob(),error:null}}catch(e){if(t.shouldThrowOnError)throw e;if(Il(e))return{data:null,error:e};throw e}}};const US={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},zp={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var BS=class extends ya{constructor(t,e={},s,i){super(t,e,i,"storage"),this.bucketId=s}async uploadOrUpdate(t,e,s,i){var l=this;return l.handleOperation(async()=>{let c;const d=Ne(Ne({},zp),i);let h=Ne(Ne({},l.headers),t==="POST"&&{"x-upsert":String(d.upsert)});const m=d.metadata;typeof Blob<"u"&&s instanceof Blob?(c=new FormData,c.append("cacheControl",d.cacheControl),m&&c.append("metadata",l.encodeMetadata(m)),c.append("",s)):typeof FormData<"u"&&s instanceof FormData?(c=s,c.has("cacheControl")||c.append("cacheControl",d.cacheControl),m&&!c.has("metadata")&&c.append("metadata",l.encodeMetadata(m))):(c=s,h["cache-control"]=`max-age=${d.cacheControl}`,h["content-type"]=d.contentType,m&&(h["x-metadata"]=l.toBase64(l.encodeMetadata(m))),(typeof ReadableStream<"u"&&c instanceof ReadableStream||c&&typeof c=="object"&&"pipe"in c&&typeof c.pipe=="function")&&!d.duplex&&(d.duplex="half")),i?.headers&&(h=Ne(Ne({},h),i.headers));const p=l._removeEmptyFolders(e),g=l._getFinalPath(p),y=await(t=="PUT"?Iu:Cr)(l.fetch,`${l.url}/object/${g}`,c,Ne({headers:h},d?.duplex?{duplex:d.duplex}:{}));return{path:p,id:y.Id,fullPath:y.Key}})}async upload(t,e,s){return this.uploadOrUpdate("POST",t,e,s)}async uploadToSignedUrl(t,e,s,i){var l=this;const c=l._removeEmptyFolders(t),d=l._getFinalPath(c),h=new URL(l.url+`/object/upload/sign/${d}`);return h.searchParams.set("token",e),l.handleOperation(async()=>{let m;const p=Ne({upsert:zp.upsert},i),g=Ne(Ne({},l.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&s instanceof Blob?(m=new FormData,m.append("cacheControl",p.cacheControl),m.append("",s)):typeof FormData<"u"&&s instanceof FormData?(m=s,m.append("cacheControl",p.cacheControl)):(m=s,g["cache-control"]=`max-age=${p.cacheControl}`,g["content-type"]=p.contentType),{path:c,fullPath:(await Iu(l.fetch,h.toString(),m,{headers:g})).Key}})}async createSignedUploadUrl(t,e){var s=this;return s.handleOperation(async()=>{let i=s._getFinalPath(t);const l=Ne({},s.headers);e?.upsert&&(l["x-upsert"]="true");const c=await Cr(s.fetch,`${s.url}/object/upload/sign/${i}`,{},{headers:l}),d=new URL(s.url+c.url),h=d.searchParams.get("token");if(!h)throw new Rl("No token returned by API");return{signedUrl:d.toString(),path:t,token:h}})}async update(t,e,s){return this.uploadOrUpdate("PUT",t,e,s)}async move(t,e,s){var i=this;return i.handleOperation(async()=>await Cr(i.fetch,`${i.url}/object/move`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:i.headers}))}async copy(t,e,s){var i=this;return i.handleOperation(async()=>({path:(await Cr(i.fetch,`${i.url}/object/copy`,{bucketId:i.bucketId,sourceKey:t,destinationKey:e,destinationBucket:s?.destinationBucket},{headers:i.headers})).Key}))}async createSignedUrl(t,e,s){var i=this;return i.handleOperation(async()=>{let l=i._getFinalPath(t),c=await Cr(i.fetch,`${i.url}/object/sign/${l}`,Ne({expiresIn:e},s?.transform?{transform:s.transform}:{}),{headers:i.headers});const d=s?.download?`&download=${s.download===!0?"":s.download}`:"";return{signedUrl:encodeURI(`${i.url}${c.signedURL}${d}`)}})}async createSignedUrls(t,e,s){var i=this;return i.handleOperation(async()=>{const l=await Cr(i.fetch,`${i.url}/object/sign/${i.bucketId}`,{expiresIn:e,paths:t},{headers:i.headers}),c=s?.download?`&download=${s.download===!0?"":s.download}`:"";return l.map(d=>Ne(Ne({},d),{},{signedUrl:d.signedURL?encodeURI(`${i.url}${d.signedURL}${c}`):null}))})}download(t,e,s){const i=typeof e?.transform<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString(e?.transform||{}),c=l?`?${l}`:"",d=this._getFinalPath(t),h=()=>Ei(this.fetch,`${this.url}/${i}/${d}${c}`,{headers:this.headers,noResolveJson:!0},s);return new $S(h,this.shouldThrowOnError)}async info(t){var e=this;const s=e._getFinalPath(t);return e.handleOperation(async()=>Ru(await Ei(e.fetch,`${e.url}/object/info/${s}`,{headers:e.headers})))}async exists(t){var e=this;const s=e._getFinalPath(t);try{return await MS(e.fetch,`${e.url}/object/${s}`,{headers:e.headers}),{data:!0,error:null}}catch(i){if(e.shouldThrowOnError)throw i;if(Il(i)&&i instanceof ix){const l=i.originalError;if([400,404].includes(l?.status))return{data:!1,error:i}}throw i}}getPublicUrl(t,e){const s=this._getFinalPath(t),i=[],l=e?.download?`download=${e.download===!0?"":e.download}`:"";l!==""&&i.push(l);const c=typeof e?.transform<"u"?"render/image":"object",d=this.transformOptsToQueryString(e?.transform||{});d!==""&&i.push(d);let h=i.join("&");return h!==""&&(h=`?${h}`),{data:{publicUrl:encodeURI(`${this.url}/${c}/public/${s}${h}`)}}}async remove(t){var e=this;return e.handleOperation(async()=>await bh(e.fetch,`${e.url}/object/${e.bucketId}`,{prefixes:t},{headers:e.headers}))}async list(t,e,s){var i=this;return i.handleOperation(async()=>{const l=Ne(Ne(Ne({},US),e),{},{prefix:t||""});return await Cr(i.fetch,`${i.url}/object/list/${i.bucketId}`,l,{headers:i.headers},s)})}async listV2(t,e){var s=this;return s.handleOperation(async()=>{const i=Ne({},t);return await Cr(s.fetch,`${s.url}/object/list-v2/${s.bucketId}`,i,{headers:s.headers},e)})}encodeMetadata(t){return JSON.stringify(t)}toBase64(t){return typeof Buffer<"u"?Buffer.from(t).toString("base64"):btoa(t)}_getFinalPath(t){return`${this.bucketId}/${t.replace(/^\/+/,"")}`}_removeEmptyFolders(t){return t.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(t){const e=[];return t.width&&e.push(`width=${t.width}`),t.height&&e.push(`height=${t.height}`),t.resize&&e.push(`resize=${t.resize}`),t.format&&e.push(`format=${t.format}`),t.quality&&e.push(`quality=${t.quality}`),e.join("&")}};const VS="2.98.0",Mi={"X-Client-Info":`storage-js/${VS}`};var zS=class extends ya{constructor(t,e={},s,i){const l=new URL(t);i?.useNewHostname&&/supabase\.(co|in|red)$/.test(l.hostname)&&!l.hostname.includes("storage.supabase.")&&(l.hostname=l.hostname.replace("supabase.","storage.supabase."));const c=l.href.replace(/\/$/,""),d=Ne(Ne({},Mi),e);super(c,d,s,"storage")}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=e.listBucketOptionsToQueryString(t);return await Ei(e.fetch,`${e.url}/bucket${s}`,{headers:e.headers})})}async getBucket(t){var e=this;return e.handleOperation(async()=>await Ei(e.fetch,`${e.url}/bucket/${t}`,{headers:e.headers}))}async createBucket(t,e={public:!1}){var s=this;return s.handleOperation(async()=>await Cr(s.fetch,`${s.url}/bucket`,{id:t,name:t,type:e.type,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async updateBucket(t,e){var s=this;return s.handleOperation(async()=>await Iu(s.fetch,`${s.url}/bucket/${t}`,{id:t,name:t,public:e.public,file_size_limit:e.fileSizeLimit,allowed_mime_types:e.allowedMimeTypes},{headers:s.headers}))}async emptyBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket/${t}/empty`,{},{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await bh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}listBucketOptionsToQueryString(t){const e={};return t&&("limit"in t&&(e.limit=String(t.limit)),"offset"in t&&(e.offset=String(t.offset)),t.search&&(e.search=t.search),t.sortColumn&&(e.sortColumn=t.sortColumn),t.sortOrder&&(e.sortOrder=t.sortOrder)),Object.keys(e).length>0?"?"+new URLSearchParams(e).toString():""}},FS=class extends ya{constructor(t,e={},s){const i=t.replace(/\/$/,""),l=Ne(Ne({},Mi),e);super(i,l,s,"storage")}async createBucket(t){var e=this;return e.handleOperation(async()=>await Cr(e.fetch,`${e.url}/bucket`,{name:t},{headers:e.headers}))}async listBuckets(t){var e=this;return e.handleOperation(async()=>{const s=new URLSearchParams;t?.limit!==void 0&&s.set("limit",t.limit.toString()),t?.offset!==void 0&&s.set("offset",t.offset.toString()),t?.sortColumn&&s.set("sortColumn",t.sortColumn),t?.sortOrder&&s.set("sortOrder",t.sortOrder),t?.search&&s.set("search",t.search);const i=s.toString(),l=i?`${e.url}/bucket?${i}`:`${e.url}/bucket`;return await Ei(e.fetch,l,{headers:e.headers})})}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await bh(e.fetch,`${e.url}/bucket/${t}`,{},{headers:e.headers}))}from(t){var e=this;if(!CS(t))throw new Rl("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const s=new SS({baseUrl:this.url,catalogName:t,auth:{type:"custom",getHeaders:async()=>e.headers},fetch:this.fetch}),i=this.shouldThrowOnError;return new Proxy(s,{get(l,c){const d=l[c];return typeof d!="function"?d:async(...h)=>{try{return{data:await d.apply(l,h),error:null}}catch(m){if(i)throw m;return{data:null,error:m}}}}})}},HS=class extends ya{constructor(t,e={},s){const i=t.replace(/\/$/,""),l=Ne(Ne({},Mi),{},{"Content-Type":"application/json"},e);super(i,l,s,"vectors")}async createIndex(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/CreateIndex`,t,{headers:e.headers})||{})}async getIndex(t,e){var s=this;return s.handleOperation(async()=>await tr.post(s.fetch,`${s.url}/GetIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers}))}async listIndexes(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/ListIndexes`,t,{headers:e.headers}))}async deleteIndex(t,e){var s=this;return s.handleOperation(async()=>await tr.post(s.fetch,`${s.url}/DeleteIndex`,{vectorBucketName:t,indexName:e},{headers:s.headers})||{})}},WS=class extends ya{constructor(t,e={},s){const i=t.replace(/\/$/,""),l=Ne(Ne({},Mi),{},{"Content-Type":"application/json"},e);super(i,l,s,"vectors")}async putVectors(t){var e=this;if(t.vectors.length<1||t.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/PutVectors`,t,{headers:e.headers})||{})}async getVectors(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/GetVectors`,t,{headers:e.headers}))}async listVectors(t){var e=this;if(t.segmentCount!==void 0){if(t.segmentCount<1||t.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(t.segmentIndex!==void 0&&(t.segmentIndex<0||t.segmentIndex>=t.segmentCount))throw new Error(`segmentIndex must be between 0 and ${t.segmentCount-1}`)}return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/ListVectors`,t,{headers:e.headers}))}async queryVectors(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/QueryVectors`,t,{headers:e.headers}))}async deleteVectors(t){var e=this;if(t.keys.length<1||t.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/DeleteVectors`,t,{headers:e.headers})||{})}},KS=class extends ya{constructor(t,e={},s){const i=t.replace(/\/$/,""),l=Ne(Ne({},Mi),{},{"Content-Type":"application/json"},e);super(i,l,s,"vectors")}async createBucket(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/CreateVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}async getBucket(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/GetVectorBucket`,{vectorBucketName:t},{headers:e.headers}))}async listBuckets(t={}){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/ListVectorBuckets`,t,{headers:e.headers}))}async deleteBucket(t){var e=this;return e.handleOperation(async()=>await tr.post(e.fetch,`${e.url}/DeleteVectorBucket`,{vectorBucketName:t},{headers:e.headers})||{})}},qS=class extends KS{constructor(t,e={}){super(t,e.headers||{},e.fetch)}from(t){return new GS(this.url,this.headers,t,this.fetch)}async createBucket(t){var e=()=>super.createBucket,s=this;return e().call(s,t)}async getBucket(t){var e=()=>super.getBucket,s=this;return e().call(s,t)}async listBuckets(t={}){var e=()=>super.listBuckets,s=this;return e().call(s,t)}async deleteBucket(t){var e=()=>super.deleteBucket,s=this;return e().call(s,t)}},GS=class extends HS{constructor(t,e,s,i){super(t,e,i),this.vectorBucketName=s}async createIndex(t){var e=()=>super.createIndex,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName}))}async listIndexes(t={}){var e=()=>super.listIndexes,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName}))}async getIndex(t){var e=()=>super.getIndex,s=this;return e().call(s,s.vectorBucketName,t)}async deleteIndex(t){var e=()=>super.deleteIndex,s=this;return e().call(s,s.vectorBucketName,t)}index(t){return new JS(this.url,this.headers,this.vectorBucketName,t,this.fetch)}},JS=class extends WS{constructor(t,e,s,i,l){super(t,e,l),this.vectorBucketName=s,this.indexName=i}async putVectors(t){var e=()=>super.putVectors,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async getVectors(t){var e=()=>super.getVectors,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async listVectors(t={}){var e=()=>super.listVectors,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async queryVectors(t){var e=()=>super.queryVectors,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}async deleteVectors(t){var e=()=>super.deleteVectors,s=this;return e().call(s,Ne(Ne({},t),{},{vectorBucketName:s.vectorBucketName,indexName:s.indexName}))}},YS=class extends zS{constructor(t,e={},s,i){super(t,e,s,i)}from(t){return new BS(this.url,this.headers,t,this.fetch)}get vectors(){return new qS(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new FS(this.url+"/iceberg",this.headers,this.fetch)}};const cx="2.98.0",ea=30*1e3,Du=3,Hd=Du*ea,XS="http://localhost:9999",QS="supabase.auth.token",ZS={"X-Client-Info":`gotrue-js/${cx}`},Ou="X-Supabase-Api-Version",dx={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},e5=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,t5=600*1e3;class Ti extends Error{constructor(e,s,i){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=s,this.code=i}}function ye(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class r5 extends Ti{constructor(e,s,i){super(e,s,i),this.name="AuthApiError",this.status=s,this.code=i}}function s5(t){return ye(t)&&t.name==="AuthApiError"}class mn extends Ti{constructor(e,s){super(e),this.name="AuthUnknownError",this.originalError=s}}class cs extends Ti{constructor(e,s,i,l){super(e,i,l),this.name=s,this.status=i}}class Zt extends cs{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Wd(t){return ye(t)&&t.name==="AuthSessionMissingError"}class Gn extends cs{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Zo extends cs{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class el extends cs{constructor(e,s=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function n5(t){return ye(t)&&t.name==="AuthImplicitGrantRedirectError"}class Fp extends cs{constructor(e,s=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=s}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a5 extends cs{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class Mu extends cs{constructor(e,s){super(e,"AuthRetryableFetchError",s,void 0)}}function Kd(t){return ye(t)&&t.name==="AuthRetryableFetchError"}class Hp extends cs{constructor(e,s,i){super(e,"AuthWeakPasswordError",s,"weak_password"),this.reasons=i}}class Lu extends cs{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const wl="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Wp=` 	
\r=`.split(""),i5=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Wp.length;e+=1)t[Wp[e].charCodeAt(0)]=-2;for(let e=0;e<wl.length;e+=1)t[wl[e].charCodeAt(0)]=e;return t})();function Kp(t,e,s){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(wl[i]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const i=e.queue>>e.queuedBits-6&63;s(wl[i]),e.queuedBits-=6}}function ux(t,e,s){const i=i5[t];if(i>-1)for(e.queue=e.queue<<6|i,e.queuedBits+=6;e.queuedBits>=8;)s(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(i===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function qp(t){const e=[],s=d=>{e.push(String.fromCodePoint(d))},i={utf8seq:0,codepoint:0},l={queue:0,queuedBits:0},c=d=>{c5(d,i,s)};for(let d=0;d<t.length;d+=1)ux(t.charCodeAt(d),l,c);return e.join("")}function o5(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function l5(t,e){for(let s=0;s<t.length;s+=1){let i=t.charCodeAt(s);if(i>55295&&i<=56319){const l=(i-55296)*1024&65535;i=(t.charCodeAt(s+1)-56320&65535|l)+65536,s+=1}o5(i,e)}}function c5(t,e,s){if(e.utf8seq===0){if(t<=127){s(t);return}for(let i=1;i<6;i+=1)if((t>>7-i&1)===0){e.utf8seq=i;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&s(e.codepoint)}}function ua(t){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};for(let l=0;l<t.length;l+=1)ux(t.charCodeAt(l),s,i);return new Uint8Array(e)}function d5(t){const e=[];return l5(t,s=>e.push(s)),new Uint8Array(e)}function xn(t){const e=[],s={queue:0,queuedBits:0},i=l=>{e.push(l)};return t.forEach(l=>Kp(l,s,i)),Kp(null,s,i),e.join("")}function u5(t){return Math.round(Date.now()/1e3)+t}function h5(){return Symbol("auth-callback")}const wt=()=>typeof window<"u"&&typeof document<"u",cn={tested:!1,writable:!1},hx=()=>{if(!wt())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(cn.tested)return cn.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),cn.tested=!0,cn.writable=!0}catch{cn.tested=!0,cn.writable=!1}return cn.writable};function f5(t){const e={},s=new URL(t);if(s.hash&&s.hash[0]==="#")try{new URLSearchParams(s.hash.substring(1)).forEach((l,c)=>{e[c]=l})}catch{}return s.searchParams.forEach((i,l)=>{e[l]=i}),e}const fx=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),m5=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",ta=async(t,e,s)=>{await t.setItem(e,JSON.stringify(s))},dn=async(t,e)=>{const s=await t.getItem(e);if(!s)return null;try{return JSON.parse(s)}catch{return s}},bt=async(t,e)=>{await t.removeItem(e)};class Dl{constructor(){this.promise=new Dl.promiseConstructor((e,s)=>{this.resolve=e,this.reject=s})}}Dl.promiseConstructor=Promise;function tl(t){const e=t.split(".");if(e.length!==3)throw new Lu("Invalid JWT structure");for(let i=0;i<e.length;i++)if(!e5.test(e[i]))throw new Lu("JWT not in base64url format");return{header:JSON.parse(qp(e[0])),payload:JSON.parse(qp(e[1])),signature:ua(e[2]),raw:{header:e[0],payload:e[1]}}}async function p5(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function g5(t,e){return new Promise((i,l)=>{(async()=>{for(let c=0;c<1/0;c++)try{const d=await t(c);if(!e(c,null,d)){i(d);return}}catch(d){if(!e(c,d)){l(d);return}}})()})}function y5(t){return("0"+t.toString(16)).substr(-2)}function x5(){const e=new Uint32Array(56);if(typeof crypto>"u"){const s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",i=s.length;let l="";for(let c=0;c<56;c++)l+=s.charAt(Math.floor(Math.random()*i));return l}return crypto.getRandomValues(e),Array.from(e,y5).join("")}async function v5(t){const s=new TextEncoder().encode(t),i=await crypto.subtle.digest("SHA-256",s),l=new Uint8Array(i);return Array.from(l).map(c=>String.fromCharCode(c)).join("")}async function b5(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const s=await v5(t);return btoa(s).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Jn(t,e,s=!1){const i=x5();let l=i;s&&(l+="/PASSWORD_RECOVERY"),await ta(t,`${e}-code-verifier`,l);const c=await b5(i);return[c,i===c?"plain":"s256"]}const w5=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function k5(t){const e=t.headers.get(Ou);if(!e||!e.match(w5))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function j5(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function N5(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const _5=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Yn(t){if(!_5.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function qd(){const t={};return new Proxy(t,{get:(e,s)=>{if(s==="__isUserNotAvailableProxy")return!0;if(typeof s=="symbol"){const i=s.toString();if(i==="Symbol(Symbol.toPrimitive)"||i==="Symbol(Symbol.toStringTag)"||i==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${s}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,s)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${s}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function S5(t,e){return new Proxy(t,{get:(s,i,l)=>{if(i==="__isInsecureUserWarningProxy")return!0;if(typeof i=="symbol"){const c=i.toString();if(c==="Symbol(Symbol.toPrimitive)"||c==="Symbol(Symbol.toStringTag)"||c==="Symbol(util.inspect.custom)"||c==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(s,i,l)}return!e.value&&typeof i=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(s,i,l)}})}function Gp(t){return JSON.parse(JSON.stringify(t))}const hn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),E5=[502,503,504];async function Jp(t){var e;if(!m5(t))throw new Mu(hn(t),0);if(E5.includes(t.status))throw new Mu(hn(t),t.status);let s;try{s=await t.json()}catch(c){throw new mn(hn(c),c)}let i;const l=k5(t);if(l&&l.getTime()>=dx["2024-01-01"].timestamp&&typeof s=="object"&&s&&typeof s.code=="string"?i=s.code:typeof s=="object"&&s&&typeof s.error_code=="string"&&(i=s.error_code),i){if(i==="weak_password")throw new Hp(hn(s),t.status,((e=s.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(i==="session_not_found")throw new Zt}else if(typeof s=="object"&&s&&typeof s.weak_password=="object"&&s.weak_password&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.reasons.reduce((c,d)=>c&&typeof d=="string",!0))throw new Hp(hn(s),t.status,s.weak_password.reasons);throw new r5(hn(s),t.status||500,i)}const T5=(t,e,s,i)=>{const l={method:t,headers:e?.headers||{}};return t==="GET"?l:(l.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e?.headers),l.body=JSON.stringify(i),Object.assign(Object.assign({},l),s))};async function _e(t,e,s,i){var l;const c=Object.assign({},i?.headers);c[Ou]||(c[Ou]=dx["2024-01-01"].name),i?.jwt&&(c.Authorization=`Bearer ${i.jwt}`);const d=(l=i?.query)!==null&&l!==void 0?l:{};i?.redirectTo&&(d.redirect_to=i.redirectTo);const h=Object.keys(d).length?"?"+new URLSearchParams(d).toString():"",m=await C5(t,e,s+h,{headers:c,noResolveJson:i?.noResolveJson},{},i?.body);return i?.xform?i?.xform(m):{data:Object.assign({},m),error:null}}async function C5(t,e,s,i,l,c){const d=T5(e,i,l,c);let h;try{h=await t(s,Object.assign({},d))}catch(m){throw console.error(m),new Mu(hn(m),0)}if(h.ok||await Jp(h),i?.noResolveJson)return h;try{return await h.json()}catch(m){await Jp(m)}}function Er(t){var e;let s=null;R5(t)&&(s=Object.assign({},t),t.expires_at||(s.expires_at=u5(t.expires_in)));const i=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:s,user:i},error:null}}function Yp(t){const e=Er(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((s,i)=>s&&typeof i=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vs(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function P5(t){return{data:t,error:null}}function A5(t){const{action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c}=t,d=Al(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),h={action_link:e,email_otp:s,hashed_token:i,redirect_to:l,verification_type:c},m=Object.assign({},d);return{data:{properties:h,user:m},error:null}}function Xp(t){return t}function R5(t){return t.access_token&&t.refresh_token&&t.expires_in}const Gd=["global","local","others"];class I5{constructor({url:e="",headers:s={},fetch:i}){this.url=e,this.headers=s,this.fetch=fx(i),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,s=Gd[0]){if(Gd.indexOf(s)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Gd.join(", ")}`);try{return await _e(this.fetch,"POST",`${this.url}/logout?scope=${s}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(i){if(ye(i))return{data:null,error:i};throw i}}async inviteUserByEmail(e,s={}){try{return await _e(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:s.data},headers:this.headers,redirectTo:s.redirectTo,xform:Vs})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async generateLink(e){try{const{options:s}=e,i=Al(e,["options"]),l=Object.assign(Object.assign({},i),s);return"newEmail"in i&&(l.new_email=i?.newEmail,delete l.newEmail),await _e(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:l,headers:this.headers,xform:A5,redirectTo:s?.redirectTo})}catch(s){if(ye(s))return{data:{properties:null,user:null},error:s};throw s}}async createUser(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vs})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async listUsers(e){var s,i,l,c,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Xp});if(g.error)throw g.error;const y=await g.json(),v=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=N}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ye(p))return{data:{users:[]},error:p};throw p}}async getUserById(e){Yn(e);try{return await _e(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vs})}catch(s){if(ye(s))return{data:{user:null},error:s};throw s}}async updateUserById(e,s){Yn(e);try{return await _e(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:s,headers:this.headers,xform:Vs})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async deleteUser(e,s=!1){Yn(e);try{return await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:s},xform:Vs})}catch(i){if(ye(i))return{data:{user:null},error:i};throw i}}async _listFactors(e){Yn(e.userId);try{const{data:s,error:i}=await _e(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:l=>({data:{factors:l},error:null})});return{data:s,error:i}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _deleteFactor(e){Yn(e.userId),Yn(e.id);try{return{data:await _e(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _listOAuthClients(e){var s,i,l,c,d,h,m;try{const p={nextPage:null,lastPage:0,total:0},g=await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(i=(s=e?.page)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:"",per_page:(c=(l=e?.perPage)===null||l===void 0?void 0:l.toString())!==null&&c!==void 0?c:""},xform:Xp});if(g.error)throw g.error;const y=await g.json(),v=(d=g.headers.get("x-total-count"))!==null&&d!==void 0?d:0,w=(m=(h=g.headers.get("link"))===null||h===void 0?void 0:h.split(","))!==null&&m!==void 0?m:[];return w.length>0&&(w.forEach(k=>{const N=parseInt(k.split(";")[0].split("=")[1].substring(0,1)),_=JSON.parse(k.split(";")[1].split("=")[1]);p[`${_}Page`]=N}),p.total=parseInt(v)),{data:Object.assign(Object.assign({},y),p),error:null}}catch(p){if(ye(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _getOAuthClient(e){try{return await _e(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _updateOAuthClient(e,s){try{return await _e(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:s,headers:this.headers,xform:i=>({data:i,error:null})})}catch(i){if(ye(i))return{data:null,error:i};throw i}}async _deleteOAuthClient(e){try{return await _e(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(s){if(ye(s))return{data:null,error:s};throw s}}async _regenerateOAuthClientSecret(e){try{return await _e(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:s=>({data:s,error:null})})}catch(s){if(ye(s))return{data:null,error:s};throw s}}}function Qp(t={}){return{getItem:e=>t[e]||null,setItem:(e,s)=>{t[e]=s},removeItem:e=>{delete t[e]}}}const ts={debug:!!(globalThis&&hx()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mx extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class D5 extends mx{}async function O5(t,e,s){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const i=new globalThis.AbortController;e>0&&setTimeout(()=>{i.abort(),ts.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve();try{return await globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:i.signal},async l=>{if(l){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,l.name);try{return await s()}finally{ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,l.name)}}else{if(e===0)throw ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new D5(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(ts.debug)try{const c=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(c,null,"  "))}catch(c){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",c)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await s()}})}catch(l){if(l?.name==="AbortError"&&e>0)return ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire timeout, recovering by stealing lock",t),console.warn(`@supabase/gotrue-js: Lock "${t}" was not released within ${e}ms. This may indicate an orphaned lock from a component unmount (e.g., React Strict Mode). Forcefully acquiring the lock to recover.`),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,{mode:"exclusive",steal:!0},async c=>{if(c){ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: recovered (stolen)",t,c.name);try{return await s()}finally{ts.debug&&console.log("@supabase/gotrue-js: navigatorLock: released (stolen)",t,c.name)}}else return console.warn("@supabase/gotrue-js: Navigator LockManager returned null lock even with steal: true"),await s()}));throw l}}function M5(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function px(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function L5(t){return parseInt(t,16)}function $5(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,i=>i.toString(16).padStart(2,"0")).join("")}function U5(t){var e;const{chainId:s,domain:i,expirationTime:l,issuedAt:c=new Date,nonce:d,notBefore:h,requestId:m,resources:p,scheme:g,uri:y,version:v}=t;{if(!Number.isInteger(s))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${s}`);if(!i)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(d&&d.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${d}`);if(!y)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(v!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${v}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const w=px(t.address),k=g?`${g}://${i}`:i,N=t.statement?`${t.statement}
`:"",_=`${k} wants you to sign in with your Ethereum account:
${w}

${N}`;let T=`URI: ${y}
Version: ${v}
Chain ID: ${s}${d?`
Nonce: ${d}`:""}
Issued At: ${c.toISOString()}`;if(l&&(T+=`
Expiration Time: ${l.toISOString()}`),h&&(T+=`
Not Before: ${h.toISOString()}`),m&&(T+=`
Request ID: ${m}`),p){let S=`
Resources:`;for(const j of p){if(!j||typeof j!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${j}`);S+=`
- ${j}`}T+=S}return`${_}
${T}`}class at extends Error{constructor({message:e,code:s,cause:i,name:l}){var c;super(e,{cause:i}),this.__isWebAuthnError=!0,this.name=(c=l??(i instanceof Error?i.name:void 0))!==null&&c!==void 0?c:"Unknown Error",this.code=s}}class kl extends at{constructor(e,s){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s,message:e}),this.name="WebAuthnUnknownError",this.originalError=s}}function B5({error:t,options:e}){var s,i,l;const{publicKey:c}=e;if(!c)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((s=c.authenticatorSelection)===null||s===void 0?void 0:s.requireResidentKey)===!0)return new at({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((i=c.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new at({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((l=c.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new at({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new at({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return c.pubKeyCredParams.filter(h=>h.type==="public-key").length===0?new at({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new at({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const d=window.location.hostname;if(gx(d)){if(c.rp.id!==d)return new at({message:`The RP ID "${c.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(c.user.id.byteLength<1||c.user.id.byteLength>64)return new at({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function V5({error:t,options:e}){const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new at({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new at({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const i=window.location.hostname;if(gx(i)){if(s.rpId!==i)return new at({message:`The RP ID "${s.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new at({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new at({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new at({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class z5{createNewAbortSignal(){if(this.controller){const s=new Error("Cancelling existing WebAuthn API call for new one");s.name="AbortError",this.controller.abort(s)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const F5=new z5;function H5(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:s,excludeCredentials:i}=t,l=Al(t,["challenge","user","excludeCredentials"]),c=ua(e).buffer,d=Object.assign(Object.assign({},s),{id:ua(s.id).buffer}),h=Object.assign(Object.assign({},l),{challenge:c,user:d});if(i&&i.length>0){h.excludeCredentials=new Array(i.length);for(let m=0;m<i.length;m++){const p=i[m];h.excludeCredentials[m]=Object.assign(Object.assign({},p),{id:ua(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return h}function W5(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:s}=t,i=Al(t,["challenge","allowCredentials"]),l=ua(e).buffer,c=Object.assign(Object.assign({},i),{challenge:l});if(s&&s.length>0){c.allowCredentials=new Array(s.length);for(let d=0;d<s.length;d++){const h=s[d];c.allowCredentials[d]=Object.assign(Object.assign({},h),{id:ua(h.id).buffer,type:h.type||"public-key",transports:h.transports})}}return c}function K5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t;return{id:t.id,rawId:t.id,response:{attestationObject:xn(new Uint8Array(t.response.attestationObject)),clientDataJSON:xn(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function q5(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const s=t,i=t.getClientExtensionResults(),l=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:xn(new Uint8Array(l.authenticatorData)),clientDataJSON:xn(new Uint8Array(l.clientDataJSON)),signature:xn(new Uint8Array(l.signature)),userHandle:l.userHandle?xn(new Uint8Array(l.userHandle)):void 0},type:"public-key",clientExtensionResults:i,authenticatorAttachment:(e=s.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gx(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Zp(){var t,e;return!!(wt()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator?.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator?.credentials)===null||e===void 0?void 0:e.get)=="function")}async function G5(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kl("Browser returned unexpected credential type",e)}:{data:null,error:new kl("Empty credential response",e)}}catch(e){return{data:null,error:B5({error:e,options:t})}}}async function J5(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new kl("Browser returned unexpected credential type",e)}:{data:null,error:new kl("Empty credential response",e)}}catch(e){return{data:null,error:V5({error:e,options:t})}}}const Y5={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},X5={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function jl(...t){const e=l=>l!==null&&typeof l=="object"&&!Array.isArray(l),s=l=>l instanceof ArrayBuffer||ArrayBuffer.isView(l),i={};for(const l of t)if(l)for(const c in l){const d=l[c];if(d!==void 0)if(Array.isArray(d))i[c]=d;else if(s(d))i[c]=d;else if(e(d)){const h=i[c];e(h)?i[c]=jl(h,d):i[c]=jl(d)}else i[c]=d}return i}function Q5(t,e){return jl(Y5,t,e||{})}function Z5(t,e){return jl(X5,t,e||{})}class e4{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:s,friendlyName:i,signal:l},c){var d;try{const{data:h,error:m}=await this.client.mfa.challenge({factorId:e,webauthn:s});if(!h)return{data:null,error:m};const p=l??F5.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:g}=h.webauthn.credential_options.publicKey;if(!g.name){const y=i;if(y)g.name=`${g.id}:${y}`;else{const w=(await this.client.getUser()).data.user,k=((d=w?.user_metadata)===null||d===void 0?void 0:d.name)||w?.email||w?.id||"User";g.name=`${g.id}:${k}`}}g.displayName||(g.displayName=g.name)}switch(h.webauthn.type){case"create":{const g=Q5(h.webauthn.credential_options.publicKey,c?.create),{data:y,error:v}=await G5({publicKey:g,signal:p});return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}case"request":{const g=Z5(h.webauthn.credential_options.publicKey,c?.request),{data:y,error:v}=await J5(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:g,signal:p}));return y?{data:{factorId:e,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:y}},error:null}:{data:null,error:v}}}}catch(h){return ye(h)?{data:null,error:h}:{data:null,error:new mn("Unexpected error in challenge",h)}}}async _verify({challengeId:e,factorId:s,webauthn:i}){return this.client.mfa.verify({factorId:s,challengeId:e,webauthn:i})}async _authenticate({factorId:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Ti("rpId is required for WebAuthn authentication")};try{if(!Zp())return{data:null,error:new mn("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this.challenge({factorId:e,webauthn:{rpId:s,rpOrigins:i},signal:l},{request:c});if(!d)return{data:null,error:h};const{webauthn:m}=d;return this._verify({factorId:e,challengeId:d.challengeId,webauthn:{type:m.type,rpId:s,rpOrigins:i,credential_response:m.credential_response}})}catch(d){return ye(d)?{data:null,error:d}:{data:null,error:new mn("Unexpected error in authenticate",d)}}}async _register({friendlyName:e,webauthn:{rpId:s=typeof window<"u"?window.location.hostname:void 0,rpOrigins:i=typeof window<"u"?[window.location.origin]:void 0,signal:l}={}},c){if(!s)return{data:null,error:new Ti("rpId is required for WebAuthn registration")};try{if(!Zp())return{data:null,error:new mn("Browser does not support WebAuthn",null)};const{data:d,error:h}=await this._enroll({friendlyName:e});if(!d)return await this.client.mfa.listFactors().then(g=>{var y;return(y=g.data)===null||y===void 0?void 0:y.all.find(v=>v.factor_type==="webauthn"&&v.friendly_name===e&&v.status!=="unverified")}).then(g=>g?this.client.mfa.unenroll({factorId:g?.id}):void 0),{data:null,error:h};const{data:m,error:p}=await this._challenge({factorId:d.id,friendlyName:d.friendly_name,webauthn:{rpId:s,rpOrigins:i},signal:l},{create:c});return m?this._verify({factorId:d.id,challengeId:m.challengeId,webauthn:{rpId:s,rpOrigins:i,type:m.webauthn.type,credential_response:m.webauthn.credential_response}}):{data:null,error:p}}catch(d){return ye(d)?{data:null,error:d}:{data:null,error:new mn("Unexpected error in register",d)}}}}M5();const t4={url:XS,storageKey:QS,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:ZS,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:5e3,skipAutoInitialize:!1};async function eg(t,e,s){return await s()}const Xn={};class Ci{get jwks(){var e,s;return(s=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&s!==void 0?s:{keys:[]}}set jwks(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,s;return(s=(e=Xn[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&s!==void 0?s:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Xn[this.storageKey]=Object.assign(Object.assign({},Xn[this.storageKey]),{cachedAt:e})}constructor(e){var s,i,l;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const c=Object.assign(Object.assign({},t4),e);if(this.storageKey=c.storageKey,this.instanceID=(s=Ci.nextInstanceID[this.storageKey])!==null&&s!==void 0?s:0,Ci.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!c.debug,typeof c.debug=="function"&&(this.logger=c.debug),this.instanceID>0&&wt()){const d=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(d),this.logDebugMessages&&console.trace(d)}if(this.persistSession=c.persistSession,this.autoRefreshToken=c.autoRefreshToken,this.admin=new I5({url:c.url,headers:c.headers,fetch:c.fetch}),this.url=c.url,this.headers=c.headers,this.fetch=fx(c.fetch),this.lock=c.lock||eg,this.detectSessionInUrl=c.detectSessionInUrl,this.flowType=c.flowType,this.hasCustomAuthorizationHeader=c.hasCustomAuthorizationHeader,this.throwOnError=c.throwOnError,this.lockAcquireTimeout=c.lockAcquireTimeout,c.lock?this.lock=c.lock:this.persistSession&&wt()&&(!((i=globalThis?.navigator)===null||i===void 0)&&i.locks)?this.lock=O5:this.lock=eg,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new e4(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(c.storage?this.storage=c.storage:hx()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),c.userStorage&&(this.userStorage=c.userStorage)):(this.memoryStorage={},this.storage=Qp(this.memoryStorage)),wt()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(d){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",d)}(l=this.broadcastChannel)===null||l===void 0||l.addEventListener("message",async d=>{this._debug("received broadcast notification from other tab or client",d);try{await this._notifyAllSubscribers(d.data.event,d.data.session,!1)}catch(h){this._debug("#broadcastChannel","error",h)}})}c.skipAutoInitialize||this.initialize().catch(d=>{this._debug("#initialize()","error",d)})}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cx}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let s={},i="none";if(wt()&&(s=f5(window.location.href),this._isImplicitGrantCallback(s)?i="implicit":await this._isPKCECallback(s)&&(i="pkce")),wt()&&this.detectSessionInUrl&&i!=="none"){const{data:l,error:c}=await this._getSessionFromURL(s,i);if(c){if(this._debug("#_initialize()","error detecting session from URL",c),n5(c)){const m=(e=c.details)===null||e===void 0?void 0:e.code;if(m==="identity_already_exists"||m==="identity_not_found"||m==="single_identity_not_deletable")return{error:c}}return{error:c}}const{session:d,redirectType:h}=l;return this._debug("#_initialize()","detected session in URL",d,"redirect type",h),await this._saveSession(d),setTimeout(async()=>{h==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",d):await this._notifyAllSubscribers("SIGNED_IN",d)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(s){return ye(s)?this._returnResult({error:s}):this._returnResult({error:new mn("Unexpected error during initialization",s)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var s,i,l;try{const c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(i=(s=e?.options)===null||s===void 0?void 0:s.data)!==null&&i!==void 0?i:{},gotrue_meta_security:{captcha_token:(l=e?.options)===null||l===void 0?void 0:l.captchaToken}},xform:Er}),{data:d,error:h}=c;if(h||!d)return this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(ye(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signUp(e){var s,i,l;try{let c;if("email"in e){const{email:g,password:y,options:v}=e;let w=null,k=null;this.flowType==="pkce"&&([w,k]=await Jn(this.storage,this.storageKey)),c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:v?.emailRedirectTo,body:{email:g,password:y,data:(s=v?.data)!==null&&s!==void 0?s:{},gotrue_meta_security:{captcha_token:v?.captchaToken},code_challenge:w,code_challenge_method:k},xform:Er})}else if("phone"in e){const{phone:g,password:y,options:v}=e;c=await _e(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:g,password:y,data:(i=v?.data)!==null&&i!==void 0?i:{},channel:(l=v?.channel)!==null&&l!==void 0?l:"sms",gotrue_meta_security:{captcha_token:v?.captchaToken}},xform:Er})}else throw new Zo("You must provide either an email or phone number and a password");const{data:d,error:h}=c;if(h||!d)return await bt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:h});const m=d.session,p=d.user;return d.session&&(await this._saveSession(d.session),await this._notifyAllSubscribers("SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(c))return this._returnResult({data:{user:null,session:null},error:c});throw c}}async signInWithPassword(e){try{let s;if("email"in e){const{email:c,password:d,options:h}=e;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yp})}else if("phone"in e){const{phone:c,password:d,options:h}=e;s=await _e(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:c,password:d,gotrue_meta_security:{captcha_token:h?.captchaToken}},xform:Yp})}else throw new Zo("You must provide either an email or phone number and a password");const{data:i,error:l}=s;if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!i||!i.session||!i.user){const c=new Gn;return this._returnResult({data:{user:null,session:null},error:c})}return i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),this._returnResult({data:Object.assign({user:i.user,session:i.session},i.weak_password?{weakPassword:i.weak_password}:null),error:l})}catch(s){if(ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOAuth(e){var s,i,l,c;return await this._handleProviderSignIn(e.provider,{redirectTo:(s=e.options)===null||s===void 0?void 0:s.redirectTo,scopes:(i=e.options)===null||i===void 0?void 0:i.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:(c=e.options)===null||c===void 0?void 0:c.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:s}=e;switch(s){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${s}"`)}}async signInWithEthereum(e){var s,i,l,c,d,h,m,p,g,y,v;let w,k;if("message"in e)w=e.message,k=e.signature;else{const{chain:N,wallet:_,statement:T,options:S}=e;let j;if(wt())if(typeof _=="object")j=_;else{const H=window;if("ethereum"in H&&typeof H.ethereum=="object"&&"request"in H.ethereum&&typeof H.ethereum.request=="function")j=H.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!S?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");j=_}const D=new URL((s=S?.url)!==null&&s!==void 0?s:window.location.href),$=await j.request({method:"eth_requestAccounts"}).then(H=>H).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!$||$.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const B=px($[0]);let L=(i=S?.signInWithEthereum)===null||i===void 0?void 0:i.chainId;if(!L){const H=await j.request({method:"eth_chainId"});L=L5(H)}const O={domain:D.host,address:B,statement:T,uri:D.href,version:"1",chainId:L,nonce:(l=S?.signInWithEthereum)===null||l===void 0?void 0:l.nonce,issuedAt:(d=(c=S?.signInWithEthereum)===null||c===void 0?void 0:c.issuedAt)!==null&&d!==void 0?d:new Date,expirationTime:(h=S?.signInWithEthereum)===null||h===void 0?void 0:h.expirationTime,notBefore:(m=S?.signInWithEthereum)===null||m===void 0?void 0:m.notBefore,requestId:(p=S?.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(g=S?.signInWithEthereum)===null||g===void 0?void 0:g.resources};w=U5(O),k=await j.request({method:"personal_sign",params:[$5(w),B]})}try{const{data:N,error:_}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:w,signature:k},!((y=e.options)===null||y===void 0)&&y.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Er});if(_)throw _;if(!N||!N.session||!N.user){const T=new Gn;return this._returnResult({data:{user:null,session:null},error:T})}return N.session&&(await this._saveSession(N.session),await this._notifyAllSubscribers("SIGNED_IN",N.session)),this._returnResult({data:Object.assign({},N),error:_})}catch(N){if(ye(N))return this._returnResult({data:{user:null,session:null},error:N});throw N}}async signInWithSolana(e){var s,i,l,c,d,h,m,p,g,y,v,w;let k,N;if("message"in e)k=e.message,N=e.signature;else{const{chain:_,wallet:T,statement:S,options:j}=e;let D;if(wt())if(typeof T=="object")D=T;else{const B=window;if("solana"in B&&typeof B.solana=="object"&&("signIn"in B.solana&&typeof B.solana.signIn=="function"||"signMessage"in B.solana&&typeof B.solana.signMessage=="function"))D=B.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof T!="object"||!j?.url)throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=T}const $=new URL((s=j?.url)!==null&&s!==void 0?s:window.location.href);if("signIn"in D&&D.signIn){const B=await D.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},j?.signInWithSolana),{version:"1",domain:$.host,uri:$.href}),S?{statement:S}:null));let L;if(Array.isArray(B)&&B[0]&&typeof B[0]=="object")L=B[0];else if(B&&typeof B=="object"&&"signedMessage"in B&&"signature"in B)L=B;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in L&&"signature"in L&&(typeof L.signedMessage=="string"||L.signedMessage instanceof Uint8Array)&&L.signature instanceof Uint8Array)k=typeof L.signedMessage=="string"?L.signedMessage:new TextDecoder().decode(L.signedMessage),N=L.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in D)||typeof D.signMessage!="function"||!("publicKey"in D)||typeof D!="object"||!D.publicKey||!("toBase58"in D.publicKey)||typeof D.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");k=[`${$.host} wants you to sign in with your Solana account:`,D.publicKey.toBase58(),...S?["",S,""]:[""],"Version: 1",`URI: ${$.href}`,`Issued At: ${(l=(i=j?.signInWithSolana)===null||i===void 0?void 0:i.issuedAt)!==null&&l!==void 0?l:new Date().toISOString()}`,...!((c=j?.signInWithSolana)===null||c===void 0)&&c.notBefore?[`Not Before: ${j.signInWithSolana.notBefore}`]:[],...!((d=j?.signInWithSolana)===null||d===void 0)&&d.expirationTime?[`Expiration Time: ${j.signInWithSolana.expirationTime}`]:[],...!((h=j?.signInWithSolana)===null||h===void 0)&&h.chainId?[`Chain ID: ${j.signInWithSolana.chainId}`]:[],...!((m=j?.signInWithSolana)===null||m===void 0)&&m.nonce?[`Nonce: ${j.signInWithSolana.nonce}`]:[],...!((p=j?.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${j.signInWithSolana.requestId}`]:[],...!((y=(g=j?.signInWithSolana)===null||g===void 0?void 0:g.resources)===null||y===void 0)&&y.length?["Resources",...j.signInWithSolana.resources.map(L=>`- ${L}`)]:[]].join(`
`);const B=await D.signMessage(new TextEncoder().encode(k),"utf8");if(!B||!(B instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");N=B}}try{const{data:_,error:T}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:k,signature:xn(N)},!((v=e.options)===null||v===void 0)&&v.captchaToken?{gotrue_meta_security:{captcha_token:(w=e.options)===null||w===void 0?void 0:w.captchaToken}}:null),xform:Er});if(T)throw T;if(!_||!_.session||!_.user){const S=new Gn;return this._returnResult({data:{user:null,session:null},error:S})}return _.session&&(await this._saveSession(_.session),await this._notifyAllSubscribers("SIGNED_IN",_.session)),this._returnResult({data:Object.assign({},_),error:T})}catch(_){if(ye(_))return this._returnResult({data:{user:null,session:null},error:_});throw _}}async _exchangeCodeForSession(e){const s=await dn(this.storage,`${this.storageKey}-code-verifier`),[i,l]=(s??"").split("/");try{if(!i&&this.flowType==="pkce")throw new a5;const{data:c,error:d}=await _e(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:i},xform:Er});if(await bt(this.storage,`${this.storageKey}-code-verifier`),d)throw d;if(!c||!c.session||!c.user){const h=new Gn;return this._returnResult({data:{user:null,session:null,redirectType:null},error:h})}return c.session&&(await this._saveSession(c.session),await this._notifyAllSubscribers("SIGNED_IN",c.session)),this._returnResult({data:Object.assign(Object.assign({},c),{redirectType:l??null}),error:d})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(c))return this._returnResult({data:{user:null,session:null,redirectType:null},error:c});throw c}}async signInWithIdToken(e){try{const{options:s,provider:i,token:l,access_token:c,nonce:d}=e,h=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:i,id_token:l,access_token:c,nonce:d,gotrue_meta_security:{captcha_token:s?.captchaToken}},xform:Er}),{data:m,error:p}=h;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!m||!m.session||!m.user){const g=new Gn;return this._returnResult({data:{user:null,session:null},error:g})}return m.session&&(await this._saveSession(m.session),await this._notifyAllSubscribers("SIGNED_IN",m.session)),this._returnResult({data:m,error:p})}catch(s){if(ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithOtp(e){var s,i,l,c,d;try{if("email"in e){const{email:h,options:m}=e;let p=null,g=null;this.flowType==="pkce"&&([p,g]=await Jn(this.storage,this.storageKey));const{error:y}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:h,data:(s=m?.data)!==null&&s!==void 0?s:{},create_user:(i=m?.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},code_challenge:p,code_challenge_method:g},redirectTo:m?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:y})}if("phone"in e){const{phone:h,options:m}=e,{data:p,error:g}=await _e(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:h,data:(l=m?.data)!==null&&l!==void 0?l:{},create_user:(c=m?.shouldCreateUser)!==null&&c!==void 0?c:!0,gotrue_meta_security:{captcha_token:m?.captchaToken},channel:(d=m?.channel)!==null&&d!==void 0?d:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p?.message_id},error:g})}throw new Zo("You must provide either an email or phone number.")}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(h))return this._returnResult({data:{user:null,session:null},error:h});throw h}}async verifyOtp(e){var s,i;try{let l,c;"options"in e&&(l=(s=e.options)===null||s===void 0?void 0:s.redirectTo,c=(i=e.options)===null||i===void 0?void 0:i.captchaToken);const{data:d,error:h}=await _e(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:c}}),redirectTo:l,xform:Er});if(h)throw h;if(!d)throw new Error("An error occurred on token verification.");const m=d.session,p=d.user;return m?.access_token&&(await this._saveSession(m),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",m)),this._returnResult({data:{user:p,session:m},error:null})}catch(l){if(ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}}async signInWithSSO(e){var s,i,l,c,d;try{let h=null,m=null;this.flowType==="pkce"&&([h,m]=await Jn(this.storage,this.storageKey));const p=await _e(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(i=(s=e.options)===null||s===void 0?void 0:s.redirectTo)!==null&&i!==void 0?i:void 0}),!((l=e?.options)===null||l===void 0)&&l.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:h,code_challenge_method:m}),headers:this.headers,xform:P5});return!((c=p.data)===null||c===void 0)&&c.url&&wt()&&!(!((d=e.options)===null||d===void 0)&&d.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(h){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(h))return this._returnResult({data:null,error:h});throw h}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;if(i)throw i;if(!s)throw new Zt;const{error:l}=await _e(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:s.access_token});return this._returnResult({data:{user:null,session:null},error:l})})}catch(e){if(ye(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const s=`${this.url}/resend`;if("email"in e){const{email:i,type:l,options:c}=e,{error:d}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{email:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}},redirectTo:c?.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:d})}else if("phone"in e){const{phone:i,type:l,options:c}=e,{data:d,error:h}=await _e(this.fetch,"POST",s,{headers:this.headers,body:{phone:i,type:l,gotrue_meta_security:{captcha_token:c?.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:d?.message_id},error:h})}throw new Zo("You must provide either an email or phone number and a type")}catch(s){if(ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async s=>s))}async _acquireLock(e,s){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const i=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),l=(async()=>(await i,await s()))();return this.pendingInLock.push((async()=>{try{await l}catch{}})()),l}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const i=s();for(this.pendingInLock.push((async()=>{try{await i}catch{}})()),await i;this.pendingInLock.length;){const l=[...this.pendingInLock];await Promise.all(l),this.pendingInLock.splice(0,l.length)}return await i}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const s=await this.__loadSession();return await e(s)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const s=await dn(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",s),s!==null&&(this._isValidSession(s)?e=s:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const i=e.expires_at?e.expires_at*1e3-Date.now()<Hd:!1;if(this._debug("#__loadSession()",`session has${i?"":" not"} expired`,"expires_at",e.expires_at),!i){if(this.userStorage){const d=await dn(this.userStorage,this.storageKey+"-user");d?.user?e.user=d.user:e.user=qd()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const d={value:this.suppressGetSessionWarning};e.user=S5(e.user,d),d.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{session:null},error:c}):this._returnResult({data:{session:l},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;const s=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return s.data.user&&(this.suppressGetSessionWarning=!0),s}async _getUser(e){try{return e?await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vs}):await this._useSession(async s=>{var i,l,c;const{data:d,error:h}=s;if(h)throw h;return!(!((i=d.session)===null||i===void 0)&&i.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Zt}:await _e(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(c=(l=d.session)===null||l===void 0?void 0:l.access_token)!==null&&c!==void 0?c:void 0,xform:Vs})})}catch(s){if(ye(s))return Wd(s)&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:s});throw s}}async updateUser(e,s={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(e,s))}async _updateUser(e,s={}){try{return await this._useSession(async i=>{const{data:l,error:c}=i;if(c)throw c;if(!l.session)throw new Zt;const d=l.session;let h=null,m=null;this.flowType==="pkce"&&e.email!=null&&([h,m]=await Jn(this.storage,this.storageKey));const{data:p,error:g}=await _e(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:s?.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:h,code_challenge_method:m}),jwt:d.access_token,xform:Vs});if(g)throw g;return d.user=p.user,await this._saveSession(d),await this._notifyAllSubscribers("USER_UPDATED",d),this._returnResult({data:{user:d.user},error:null})})}catch(i){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(i))return this._returnResult({data:{user:null},error:i});throw i}}async setSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Zt;const s=Date.now()/1e3;let i=s,l=!0,c=null;const{payload:d}=tl(e.access_token);if(d.exp&&(i=d.exp,l=i<=s),l){const{data:h,error:m}=await this._callRefreshToken(e.refresh_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});if(!h)return{data:{user:null,session:null},error:null};c=h}else{const{data:h,error:m}=await this._getUser(e.access_token);if(m)return this._returnResult({data:{user:null,session:null},error:m});c={access_token:e.access_token,refresh_token:e.refresh_token,user:h.user,token_type:"bearer",expires_in:i-s,expires_at:i},await this._saveSession(c),await this._notifyAllSubscribers("SIGNED_IN",c)}return this._returnResult({data:{user:c.user,session:c},error:null})}catch(s){if(ye(s))return this._returnResult({data:{session:null,user:null},error:s});throw s}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async s=>{var i;if(!e){const{data:d,error:h}=s;if(h)throw h;e=(i=d.session)!==null&&i!==void 0?i:void 0}if(!e?.refresh_token)throw new Zt;const{data:l,error:c}=await this._callRefreshToken(e.refresh_token);return c?this._returnResult({data:{user:null,session:null},error:c}):l?this._returnResult({data:{user:l.user,session:l},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(s){if(ye(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async _getSessionFromURL(e,s){try{if(!wt())throw new el("No browser detected.");if(e.error||e.error_description||e.error_code)throw new el(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(s){case"implicit":if(this.flowType==="pkce")throw new Fp("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new el("Not a valid implicit grant flow url.");break;default:}if(s==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Fp("No code detected.");const{data:S,error:j}=await this._exchangeCodeForSession(e.code);if(j)throw j;const D=new URL(window.location.href);return D.searchParams.delete("code"),window.history.replaceState(window.history.state,"",D.toString()),{data:{session:S.session,redirectType:null},error:null}}const{provider_token:i,provider_refresh_token:l,access_token:c,refresh_token:d,expires_in:h,expires_at:m,token_type:p}=e;if(!c||!h||!d||!p)throw new el("No session defined in URL");const g=Math.round(Date.now()/1e3),y=parseInt(h);let v=g+y;m&&(v=parseInt(m));const w=v-g;w*1e3<=ea&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${w}s, should have been closer to ${y}s`);const k=v-y;g-k>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",k,v,g):g-k<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",k,v,g);const{data:N,error:_}=await this._getUser(c);if(_)throw _;const T={provider_token:i,provider_refresh_token:l,access_token:c,expires_in:y,expires_at:v,refresh_token:d,token_type:p,user:N.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:T,redirectType:e.type},error:null})}catch(i){if(ye(i))return this._returnResult({data:{session:null,redirectType:null},error:i});throw i}}_isImplicitGrantCallback(e){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),e):!!(e.access_token||e.error_description)}async _isPKCECallback(e){const s=await dn(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&s)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c&&!Wd(c))return this._returnResult({error:c});const d=(i=l.session)===null||i===void 0?void 0:i.access_token;if(d){const{error:h}=await this.admin.signOut(d,e);if(h&&!(s5(h)&&(h.status===404||h.status===401||h.status===403)||Wd(h)))return this._returnResult({error:h})}return e!=="others"&&(await this._removeSession(),await bt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const s=h5(),i={id:s,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",s),this.stateChangeEmitters.delete(s)}};return this._debug("#onAuthStateChange()","registered callback with id",s),this.stateChangeEmitters.set(s,i),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(s)})))(),{data:{subscription:i}}}async _emitInitialSession(e){return await this._useSession(async s=>{var i,l;try{const{data:{session:c},error:d}=s;if(d)throw d;await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",c)),this._debug("INITIAL_SESSION","callback id",e,"session",c)}catch(c){await((l=this.stateChangeEmitters.get(e))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",c),console.error(c)}})}async resetPasswordForEmail(e,s={}){let i=null,l=null;this.flowType==="pkce"&&([i,l]=await Jn(this.storage,this.storageKey,!0));try{return await _e(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:i,code_challenge_method:l,gotrue_meta_security:{captcha_token:s.captchaToken}},headers:this.headers,redirectTo:s.redirectTo})}catch(c){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(c))return this._returnResult({data:null,error:c});throw c}}async getUserIdentities(){var e;try{const{data:s,error:i}=await this.getUser();if(i)throw i;return this._returnResult({data:{identities:(e=s.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var s;try{const{data:i,error:l}=await this._useSession(async c=>{var d,h,m,p,g;const{data:y,error:v}=c;if(v)throw v;const w=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(d=e.options)===null||d===void 0?void 0:d.redirectTo,scopes:(h=e.options)===null||h===void 0?void 0:h.scopes,queryParams:(m=e.options)===null||m===void 0?void 0:m.queryParams,skipBrowserRedirect:!0});return await _e(this.fetch,"GET",w,{headers:this.headers,jwt:(g=(p=y.session)===null||p===void 0?void 0:p.access_token)!==null&&g!==void 0?g:void 0})});if(l)throw l;return wt()&&!(!((s=e.options)===null||s===void 0)&&s.skipBrowserRedirect)&&window.location.assign(i?.url),this._returnResult({data:{provider:e.provider,url:i?.url},error:null})}catch(i){if(ye(i))return this._returnResult({data:{provider:e.provider,url:null},error:i});throw i}}async linkIdentityIdToken(e){return await this._useSession(async s=>{var i;try{const{error:l,data:{session:c}}=s;if(l)throw l;const{options:d,provider:h,token:m,access_token:p,nonce:g}=e,y=await _e(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(i=c?.access_token)!==null&&i!==void 0?i:void 0,body:{provider:h,id_token:m,access_token:p,nonce:g,link_identity:!0,gotrue_meta_security:{captcha_token:d?.captchaToken}},xform:Er}),{data:v,error:w}=y;return w?this._returnResult({data:{user:null,session:null},error:w}):!v||!v.session||!v.user?this._returnResult({data:{user:null,session:null},error:new Gn}):(v.session&&(await this._saveSession(v.session),await this._notifyAllSubscribers("USER_UPDATED",v.session)),this._returnResult({data:v,error:w}))}catch(l){if(await bt(this.storage,`${this.storageKey}-code-verifier`),ye(l))return this._returnResult({data:{user:null,session:null},error:l});throw l}})}async unlinkIdentity(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:d}=s;if(d)throw d;return await _e(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(l=(i=c.session)===null||i===void 0?void 0:i.access_token)!==null&&l!==void 0?l:void 0})})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async _refreshAccessToken(e){const s=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{const i=Date.now();return await g5(async l=>(l>0&&await p5(200*Math.pow(2,l-1)),this._debug(s,"refreshing attempt",l),await _e(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Er})),(l,c)=>{const d=200*Math.pow(2,l);return c&&Kd(c)&&Date.now()+d-i<ea})}catch(i){if(this._debug(s,"error",i),ye(i))return this._returnResult({data:{session:null,user:null},error:i});throw i}finally{this._debug(s,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,s){const i=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:s.redirectTo,scopes:s.scopes,queryParams:s.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",s,"url",i),wt()&&!s.skipBrowserRedirect&&window.location.assign(i),{data:{provider:e,url:i},error:null}}async _recoverAndRefresh(){var e,s;const i="#_recoverAndRefresh()";this._debug(i,"begin");try{const l=await dn(this.storage,this.storageKey);if(l&&this.userStorage){let d=await dn(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!d&&(d={user:l.user},await ta(this.userStorage,this.storageKey+"-user",d)),l.user=(e=d?.user)!==null&&e!==void 0?e:qd()}else if(l&&!l.user&&!l.user){const d=await dn(this.storage,this.storageKey+"-user");d&&d?.user?(l.user=d.user,await bt(this.storage,this.storageKey+"-user"),await ta(this.storage,this.storageKey,l)):l.user=qd()}if(this._debug(i,"session from storage",l),!this._isValidSession(l)){this._debug(i,"session is not valid"),l!==null&&await this._removeSession();return}const c=((s=l.expires_at)!==null&&s!==void 0?s:1/0)*1e3-Date.now()<Hd;if(this._debug(i,`session has${c?"":" not"} expired with margin of ${Hd}s`),c){if(this.autoRefreshToken&&l.refresh_token){const{error:d}=await this._callRefreshToken(l.refresh_token);d&&(console.error(d),Kd(d)||(this._debug(i,"refresh failed with a non-retryable error, removing the session",d),await this._removeSession()))}}else if(l.user&&l.user.__isUserNotAvailableProxy===!0)try{const{data:d,error:h}=await this._getUser(l.access_token);!h&&d?.user?(l.user=d.user,await this._saveSession(l),await this._notifyAllSubscribers("SIGNED_IN",l)):this._debug(i,"could not get user data, skipping SIGNED_IN notification")}catch(d){console.error("Error getting user data:",d),this._debug(i,"error getting user data, skipping SIGNED_IN notification",d)}else await this._notifyAllSubscribers("SIGNED_IN",l)}catch(l){this._debug(i,"error",l),console.error(l);return}finally{this._debug(i,"end")}}async _callRefreshToken(e){var s,i;if(!e)throw new Zt;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const l=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(l,"begin");try{this.refreshingDeferred=new Dl;const{data:c,error:d}=await this._refreshAccessToken(e);if(d)throw d;if(!c.session)throw new Zt;await this._saveSession(c.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",c.session);const h={data:c.session,error:null};return this.refreshingDeferred.resolve(h),h}catch(c){if(this._debug(l,"error",c),ye(c)){const d={data:null,error:c};return Kd(c)||await this._removeSession(),(s=this.refreshingDeferred)===null||s===void 0||s.resolve(d),d}throw(i=this.refreshingDeferred)===null||i===void 0||i.reject(c),c}finally{this.refreshingDeferred=null,this._debug(l,"end")}}async _notifyAllSubscribers(e,s,i=!0){const l=`#_notifyAllSubscribers(${e})`;this._debug(l,"begin",s,`broadcast = ${i}`);try{this.broadcastChannel&&i&&this.broadcastChannel.postMessage({event:e,session:s});const c=[],d=Array.from(this.stateChangeEmitters.values()).map(async h=>{try{await h.callback(e,s)}catch(m){c.push(m)}});if(await Promise.all(d),c.length>0){for(let h=0;h<c.length;h+=1)console.error(c[h]);throw c[0]}}finally{this._debug(l,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await bt(this.storage,`${this.storageKey}-code-verifier`);const s=Object.assign({},e),i=s.user&&s.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!i&&s.user&&await ta(this.userStorage,this.storageKey+"-user",{user:s.user});const l=Object.assign({},s);delete l.user;const c=Gp(l);await ta(this.storage,this.storageKey,c)}else{const l=Gp(s);await ta(this.storage,this.storageKey,l)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await bt(this.storage,this.storageKey),await bt(this.storage,this.storageKey+"-code-verifier"),await bt(this.storage,this.storageKey+"-user"),this.userStorage&&await bt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&wt()&&window?.removeEventListener&&window.removeEventListener("visibilitychange",e)}catch(s){console.error("removing visibilitychange callback failed",s)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),ea);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e);const s=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=s,s&&typeof s=="object"&&typeof s.unref=="function"?s.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(s)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e);const s=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,s&&clearTimeout(s)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async s=>{const{data:{session:i}}=s;if(!i||!i.refresh_token||!i.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const l=Math.floor((i.expires_at*1e3-e)/ea);this._debug("#_autoRefreshTokenTick()",`access token expires in ${l} ticks, a tick lasts ${ea}ms, refresh threshold is ${Du} ticks`),l<=Du&&await this._callRefreshToken(i.refresh_token)})}catch(s){console.error("Auto refresh tick failed with error. This is likely a transient error.",s)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mx)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!wt()||!window?.addEventListener)return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>{try{await this._onVisibilityChanged(!1)}catch(e){this._debug("#visibilityChangedCallback","error",e)}},window?.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const s=`#_onVisibilityChanged(${e})`;this._debug(s,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(s,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,s,i){const l=[`provider=${encodeURIComponent(s)}`];if(i?.redirectTo&&l.push(`redirect_to=${encodeURIComponent(i.redirectTo)}`),i?.scopes&&l.push(`scopes=${encodeURIComponent(i.scopes)}`),this.flowType==="pkce"){const[c,d]=await Jn(this.storage,this.storageKey),h=new URLSearchParams({code_challenge:`${encodeURIComponent(c)}`,code_challenge_method:`${encodeURIComponent(d)}`});l.push(h.toString())}if(i?.queryParams){const c=new URLSearchParams(i.queryParams);l.push(c.toString())}return i?.skipBrowserRedirect&&l.push(`skip_http_redirect=${i.skipBrowserRedirect}`),`${e}?${l.join("&")}`}async _unenroll(e){try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;return c?this._returnResult({data:null,error:c}):await _e(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token})})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async _enroll(e){try{return await this._useSession(async s=>{var i,l;const{data:c,error:d}=s;if(d)return this._returnResult({data:null,error:d});const h=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:m,error:p}=await _e(this.fetch,"POST",`${this.url}/factors`,{body:h,headers:this.headers,jwt:(i=c?.session)===null||i===void 0?void 0:i.access_token});return p?this._returnResult({data:null,error:p}):(e.factorType==="totp"&&m.type==="totp"&&(!((l=m?.totp)===null||l===void 0)&&l.qr_code)&&(m.totp.qr_code=`data:image/svg+xml;utf-8,${m.totp.qr_code}`),this._returnResult({data:m,error:null}))})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async _verify(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?K5(e.webauthn.credential_response):q5(e.webauthn.credential_response)})}:{code:e.code}),{data:h,error:m}=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:d,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});return m?this._returnResult({data:null,error:m}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+h.expires_in},h)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",h),this._returnResult({data:h,error:m}))})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}})}async _challenge(e){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async s=>{var i;const{data:l,error:c}=s;if(c)return this._returnResult({data:null,error:c});const d=await _e(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(i=l?.session)===null||i===void 0?void 0:i.access_token});if(d.error)return d;const{data:h}=d;if(h.type!=="webauthn")return{data:h,error:null};switch(h.webauthn.type){case"create":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:H5(h.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},h),{webauthn:Object.assign(Object.assign({},h.webauthn),{credential_options:Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:W5(h.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}})}async _challengeAndVerify(e){const{data:s,error:i}=await this._challenge({factorId:e.factorId});return i?this._returnResult({data:null,error:i}):await this._verify({factorId:e.factorId,challengeId:s.id,code:e.code})}async _listFactors(){var e;const{data:{user:s},error:i}=await this.getUser();if(i)return{data:null,error:i};const l={all:[],phone:[],totp:[],webauthn:[]};for(const c of(e=s?.factors)!==null&&e!==void 0?e:[])l.all.push(c),c.status==="verified"&&l[c.factor_type].push(c);return{data:l,error:null}}async _getAuthenticatorAssuranceLevel(e){var s,i,l,c;if(e)try{const{payload:w}=tl(e);let k=null;w.aal&&(k=w.aal);let N=k;const{data:{user:_},error:T}=await this.getUser(e);if(T)return this._returnResult({data:null,error:T});((i=(s=_?.factors)===null||s===void 0?void 0:s.filter(D=>D.status==="verified"))!==null&&i!==void 0?i:[]).length>0&&(N="aal2");const j=w.amr||[];return{data:{currentLevel:k,nextLevel:N,currentAuthenticationMethods:j},error:null}}catch(w){if(ye(w))return this._returnResult({data:null,error:w});throw w}const{data:{session:d},error:h}=await this.getSession();if(h)return this._returnResult({data:null,error:h});if(!d)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:m}=tl(d.access_token);let p=null;m.aal&&(p=m.aal);let g=p;((c=(l=d.user.factors)===null||l===void 0?void 0:l.filter(w=>w.status==="verified"))!==null&&c!==void 0?c:[]).length>0&&(g="aal2");const v=m.amr||[];return{data:{currentLevel:p,nextLevel:g,currentAuthenticationMethods:v},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?await _e(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:i.access_token,xform:c=>({data:c,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async _approveAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Zt});const d=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"approve"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&wt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}async _denyAuthorization(e,s){try{return await this._useSession(async i=>{const{data:{session:l},error:c}=i;if(c)return this._returnResult({data:null,error:c});if(!l)return this._returnResult({data:null,error:new Zt});const d=await _e(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:l.access_token,body:{action:"deny"},xform:h=>({data:h,error:null})});return d.data&&d.data.redirect_url&&wt()&&!s?.skipBrowserRedirect&&window.location.assign(d.data.redirect_url),d})}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:s},error:i}=e;return i?this._returnResult({data:null,error:i}):s?await _e(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:s.access_token,xform:l=>({data:l,error:null})}):this._returnResult({data:null,error:new Zt})})}catch(e){if(ye(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async s=>{const{data:{session:i},error:l}=s;return l?this._returnResult({data:null,error:l}):i?(await _e(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:i.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Zt})})}catch(s){if(ye(s))return this._returnResult({data:null,error:s});throw s}}async fetchJwk(e,s={keys:[]}){let i=s.keys.find(h=>h.kid===e);if(i)return i;const l=Date.now();if(i=this.jwks.keys.find(h=>h.kid===e),i&&this.jwks_cached_at+t5>l)return i;const{data:c,error:d}=await _e(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(d)throw d;return!c.keys||c.keys.length===0||(this.jwks=c,this.jwks_cached_at=l,i=c.keys.find(h=>h.kid===e),!i)?null:i}async getClaims(e,s={}){try{let i=e;if(!i){const{data:w,error:k}=await this.getSession();if(k||!w.session)return this._returnResult({data:null,error:k});i=w.session.access_token}const{header:l,payload:c,signature:d,raw:{header:h,payload:m}}=tl(i);s?.allowExpired||j5(c.exp);const p=!l.alg||l.alg.startsWith("HS")||!l.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(l.kid,s?.keys?{keys:s.keys}:s?.jwks);if(!p){const{error:w}=await this.getUser(i);if(w)throw w;return{data:{claims:c,header:l,signature:d},error:null}}const g=N5(l.alg),y=await crypto.subtle.importKey("jwk",p,g,!0,["verify"]);if(!await crypto.subtle.verify(g,y,d,d5(`${h}.${m}`)))throw new Lu("Invalid JWT signature");return{data:{claims:c,header:l,signature:d},error:null}}catch(i){if(ye(i))return this._returnResult({data:null,error:i});throw i}}}Ci.nextInstanceID={};const r4=Ci,s4="2.98.0";let li="";typeof Deno<"u"?li="deno":typeof document<"u"?li="web":typeof navigator<"u"&&navigator.product==="ReactNative"?li="react-native":li="node";const n4={"X-Client-Info":`supabase-js-${li}/${s4}`},a4={headers:n4},i4={schema:"public"},o4={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},l4={};function Pi(t){"@babel/helpers - typeof";return Pi=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Pi(t)}function c4(t,e){if(Pi(t)!="object"||!t)return t;var s=t[Symbol.toPrimitive];if(s!==void 0){var i=s.call(t,e);if(Pi(i)!="object")return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function d4(t){var e=c4(t,"string");return Pi(e)=="symbol"?e:e+""}function u4(t,e,s){return(e=d4(e))in t?Object.defineProperty(t,e,{value:s,enumerable:!0,configurable:!0,writable:!0}):t[e]=s,t}function tg(t,e){var s=Object.keys(t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(t);e&&(i=i.filter(function(l){return Object.getOwnPropertyDescriptor(t,l).enumerable})),s.push.apply(s,i)}return s}function Ye(t){for(var e=1;e<arguments.length;e++){var s=arguments[e]!=null?arguments[e]:{};e%2?tg(Object(s),!0).forEach(function(i){u4(t,i,s[i])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(s)):tg(Object(s)).forEach(function(i){Object.defineProperty(t,i,Object.getOwnPropertyDescriptor(s,i))})}return t}const h4=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),f4=()=>Headers,m4=(t,e,s)=>{const i=h4(s),l=f4();return async(c,d)=>{var h;const m=(h=await e())!==null&&h!==void 0?h:t;let p=new l(d?.headers);return p.has("apikey")||p.set("apikey",t),p.has("Authorization")||p.set("Authorization",`Bearer ${m}`),i(c,Ye(Ye({},d),{},{headers:p}))}};function p4(t){return t.endsWith("/")?t:t+"/"}function g4(t,e){var s,i;const{db:l,auth:c,realtime:d,global:h}=t,{db:m,auth:p,realtime:g,global:y}=e,v={db:Ye(Ye({},m),l),auth:Ye(Ye({},p),c),realtime:Ye(Ye({},g),d),storage:{},global:Ye(Ye(Ye({},y),h),{},{headers:Ye(Ye({},(s=y?.headers)!==null&&s!==void 0?s:{}),(i=h?.headers)!==null&&i!==void 0?i:{})}),accessToken:async()=>""};return t.accessToken?v.accessToken=t.accessToken:delete v.accessToken,v}function y4(t){const e=t?.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(p4(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var x4=class extends r4{constructor(t){super(t)}},v4=class{constructor(t,e,s){var i,l;this.supabaseUrl=t,this.supabaseKey=e;const c=y4(t);if(!e)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",c),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",c),this.storageUrl=new URL("storage/v1",c),this.functionsUrl=new URL("functions/v1",c);const d=`sb-${c.hostname.split(".")[0]}-auth-token`,h={db:i4,realtime:l4,auth:Ye(Ye({},o4),{},{storageKey:d}),global:a4},m=g4(s??{},h);if(this.storageKey=(i=m.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(l=m.global.headers)!==null&&l!==void 0?l:{},m.accessToken)this.accessToken=m.accessToken,this.auth=new Proxy({},{get:(g,y)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(y)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=m.auth)!==null&&p!==void 0?p:{},this.headers,m.global.fetch)}this.fetch=m4(e,this._getAccessToken.bind(this),m.global.fetch),this.realtime=this._initRealtimeClient(Ye({headers:this.headers,accessToken:this._getAccessToken.bind(this)},m.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(g=>this.realtime.setAuth(g)).catch(g=>console.warn("Failed to set initial Realtime auth token:",g)),this.rest=new sS(new URL("rest/v1",c).href,{headers:this.headers,schema:m.db.schema,fetch:this.fetch,timeout:m.db.timeout,urlLengthLimit:m.db.urlLengthLimit}),this.storage=new YS(this.storageUrl.href,this.headers,this.fetch,s?.storage),m.accessToken||this._listenForAuthEvents()}get functions(){return new J_(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(t){return this.rest.from(t)}schema(t){return this.rest.schema(t)}rpc(t,e={},s={head:!1,get:!1,count:void 0}){return this.rest.rpc(t,e,s)}channel(t,e={config:{}}){return this.realtime.channel(t,e)}getChannels(){return this.realtime.getChannels()}removeChannel(t){return this.realtime.removeChannel(t)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var t=this,e,s;if(t.accessToken)return await t.accessToken();const{data:i}=await t.auth.getSession();return(e=(s=i.session)===null||s===void 0?void 0:s.access_token)!==null&&e!==void 0?e:t.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:l,storageKey:c,flowType:d,lock:h,debug:m,throwOnError:p},g,y){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new x4({url:this.authUrl.href,headers:Ye(Ye({},v),g),storageKey:c,autoRefreshToken:t,persistSession:e,detectSessionInUrl:s,storage:i,userStorage:l,flowType:d,lock:h,debug:m,throwOnError:p,fetch:y,hasCustomAuthorizationHeader:Object.keys(this.headers).some(w=>w.toLowerCase()==="authorization")})}_initRealtimeClient(t){return new bS(this.realtimeUrl.href,Ye(Ye({},t),{},{params:Ye(Ye({},{apikey:this.supabaseKey}),t?.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,e)=>{this._handleTokenChanged(t,"CLIENT",e?.access_token)})}_handleTokenChanged(t,e,s){(t==="TOKEN_REFRESHED"||t==="SIGNED_IN")&&this.changedAccessToken!==s?(this.changedAccessToken=s,this.realtime.setAuth(s)):t==="SIGNED_OUT"&&(this.realtime.setAuth(),e=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const b4=(t,e,s)=>new v4(t,e,s);function w4(){if(typeof window<"u")return!1;const t=globalThis.process;if(!t)return!1;const e=t.version;if(e==null)return!1;const s=e.match(/^v(\d+)\./);return s?parseInt(s[1],10)<=18:!1}w4()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const $e="uskqgyaxwcnjrizgppdq",os="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6InVza3FneWF4d2NuanJpemdwcGRxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjIyNzExMTgsImV4cCI6MjA3Nzg0NzExOH0.GNmJV27Bf7sCLhYO_F9etFpnqjn4YpzFX1-cPRoBYLM";let Jd=null;function tt(){return Jd||(Jd=b4(`https://${$e}.supabase.co`,os,{auth:{persistSession:!0,autoRefreshToken:!0,detectSessionInUrl:!0,storage:typeof window<"u"?window.localStorage:void 0}})),Jd}function k4(){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-emerald-600 via-teal-600 to-emerald-700 flex items-center justify-center overflow-hidden relative",children:[n.jsx(C.div,{className:"absolute w-96 h-96 bg-emerald-400/20 rounded-full blur-3xl",animate:{scale:[1,1.2,1],x:[-50,50,-50],y:[-50,50,-50]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},style:{top:"10%",left:"10%"}}),n.jsx(C.div,{className:"absolute w-96 h-96 bg-teal-400/20 rounded-full blur-3xl",animate:{scale:[1.2,1,1.2],x:[50,-50,50],y:[50,-50,50]},transition:{duration:10,repeat:1/0,ease:"easeInOut"},style:{bottom:"10%",right:"10%"}}),n.jsx(C.div,{className:"absolute top-10 left-10",animate:{rotate:360},transition:{duration:20,repeat:1/0,ease:"linear"},children:n.jsx(bn,{className:"w-8 h-8 text-white/30"})}),n.jsx(C.div,{className:"absolute bottom-10 right-10",animate:{rotate:-360},transition:{duration:25,repeat:1/0,ease:"linear"},children:n.jsx(bn,{className:"w-6 h-6 text-white/30"})}),n.jsx(C.div,{className:"absolute top-1/4 right-20",animate:{rotate:360,scale:[1,1.2,1]},transition:{duration:15,repeat:1/0,ease:"linear"},children:n.jsx(bn,{className:"w-5 h-5 text-white/20"})}),n.jsxs("div",{className:"text-center space-y-6 px-6 relative z-10",children:[n.jsx(C.div,{initial:{scale:0,rotate:-180},animate:{scale:1,rotate:0},transition:{type:"spring",stiffness:260,damping:20,delay:.2},children:n.jsxs(C.div,{className:"w-28 h-28 bg-white rounded-full flex items-center justify-center mx-auto shadow-2xl relative",animate:{boxShadow:["0 20px 60px rgba(0,0,0,0.3)","0 20px 80px rgba(16, 185, 129, 0.4)","0 20px 60px rgba(0,0,0,0.3)"]},transition:{duration:3,repeat:1/0,ease:"easeInOut"},children:[n.jsx(C.div,{className:"absolute inset-0 rounded-full border-4 border-emerald-400/50",animate:{rotate:360},transition:{duration:8,repeat:1/0,ease:"linear"}}),n.jsx(C.div,{animate:{scale:[1,1.1,1]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:n.jsx(cg,{className:"w-14 h-14 text-emerald-600"})})]})}),n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5,duration:.8},children:n.jsx(C.h1,{className:"text-white text-5xl tracking-wide",animate:{textShadow:["0 0 20px rgba(255,255,255,0.5)","0 0 40px rgba(255,255,255,0.8)","0 0 20px rgba(255,255,255,0.5)"]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:"jamaah.net"})}),n.jsx(C.p,{className:"text-emerald-50 text-lg max-w-md mx-auto",initial:{opacity:0},animate:{opacity:1},transition:{delay:.8,duration:1},children:"jamaah masjid social and business network"}),n.jsx(C.div,{className:"flex gap-2 justify-center mt-8",initial:{opacity:0},animate:{opacity:1},transition:{delay:1.2},children:[0,1,2].map(t=>n.jsx(C.div,{className:"w-3 h-3 bg-white rounded-full",animate:{y:[0,-15,0],opacity:[1,.5,1]},transition:{duration:1,repeat:1/0,delay:t*.2,ease:"easeInOut"}},t))}),n.jsx(C.div,{className:"flex justify-center gap-4 mt-6",initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:1.5,duration:.8},children:[...Array(5)].map((t,e)=>n.jsx(C.div,{className:"w-2 h-2 bg-white/40 rounded-full",animate:{scale:[1,1.5,1],opacity:[.4,.8,.4]},transition:{duration:2,repeat:1/0,delay:e*.15,ease:"easeInOut"}},e))})]})]})}function We({className:t=""}){return n.jsx("div",{className:`absolute inset-0 opacity-5 ${t}`,children:n.jsxs("svg",{width:"100%",height:"100%",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("defs",{children:n.jsxs("pattern",{id:"islamic-pattern",x:"0",y:"0",width:"100",height:"100",patternUnits:"userSpaceOnUse",children:[n.jsx("path",{d:"M50 0 L75 25 L50 50 L25 25 Z M0 25 L25 50 L0 75 L-25 50 Z M100 25 L125 50 L100 75 L75 50 Z M50 50 L75 75 L50 100 L25 75 Z",fill:"currentColor",opacity:"0.3"}),n.jsx("circle",{cx:"50",cy:"50",r:"3",fill:"currentColor"}),n.jsx("circle",{cx:"0",cy:"0",r:"3",fill:"currentColor"}),n.jsx("circle",{cx:"100",cy:"0",r:"3",fill:"currentColor"}),n.jsx("circle",{cx:"0",cy:"100",r:"3",fill:"currentColor"}),n.jsx("circle",{cx:"100",cy:"100",r:"3",fill:"currentColor"})]})}),n.jsx("rect",{width:"100%",height:"100%",fill:"url(#islamic-pattern)"})]})})}function Ol({className:t=""}){return n.jsxs("svg",{className:t,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[n.jsx("path",{d:"M12 2L14 6H10L12 2Z",fill:"currentColor"}),n.jsx("path",{d:"M5 8C5 6.89543 5.89543 6 7 6H17C18.1046 6 19 6.89543 19 8V10H5V8Z",fill:"currentColor"}),n.jsx("path",{d:"M4 10H20V20C20 21.1046 19.1046 22 18 22H6C4.89543 22 4 21.1046 4 20V10Z",fill:"currentColor",opacity:"0.8"}),n.jsx("rect",{x:"10",y:"14",width:"4",height:"8",fill:"currentColor",opacity:"0.6"}),n.jsx("circle",{cx:"2",cy:"8",r:"1.5",fill:"currentColor"}),n.jsx("circle",{cx:"22",cy:"8",r:"1.5",fill:"currentColor"})]})}function j4({notifications:t,showNotifications:e,onToggleNotifications:s}){const[i,l]=P.useState(new Date),[c,d]=P.useState(""),h=()=>{const S=localStorage.getItem("jamaah_prayer_times");return S?JSON.parse(S):[{name:"Subuh",time:"04:45",hour:4,minute:45},{name:"Dzuhur",time:"12:00",hour:12,minute:0},{name:"Ashar",time:"15:15",hour:15,minute:15},{name:"Maghrib",time:"18:05",hour:18,minute:5},{name:"Isya",time:"19:20",hour:19,minute:20}]},[m,p]=P.useState(h());P.useEffect(()=>{const S=()=>{p(h())};return window.addEventListener("storage",S),window.addEventListener("prayerTimesUpdated",S),()=>{window.removeEventListener("storage",S),window.removeEventListener("prayerTimesUpdated",S)}},[]),P.useEffect(()=>{const S=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(S)},[]),P.useEffect(()=>{const S=i.getHours(),j=i.getMinutes(),D=S*60+j;let $="";for(let B=0;B<m.length;B++){const L=m[B].hour*60+m[B].minute;if(D<L){$=m[B].name;break}}$||($=m[0].name),d($)},[i,m]);const y=(()=>{const S=i.getHours();return S>=4&&S<6?"subuh":S>=6&&S<15?"dzuhur":S>=15&&S<18?"ashar":S>=18&&S<19?"maghrib":"isya"})(),w={subuh:{gradient:"from-indigo-900 via-purple-700 to-orange-400",overlay:"from-purple-900/30 via-orange-500/20 to-yellow-300/30",icon:ii,animation:"clouds"},dzuhur:{gradient:"from-sky-400 via-blue-400 to-cyan-300",overlay:"from-blue-400/20 via-cyan-300/10 to-sky-200/20",icon:d0,animation:"clouds"},ashar:{gradient:"from-orange-400 via-amber-400 to-yellow-300",overlay:"from-orange-500/30 via-amber-400/20 to-yellow-300/30",icon:ii,animation:"clouds"},maghrib:{gradient:"from-purple-800 via-pink-600 to-orange-500",overlay:"from-purple-700/40 via-pink-500/30 to-orange-400/30",icon:ii,animation:"clouds"},isya:{gradient:"from-slate-900 via-indigo-950 to-slate-800",overlay:"from-indigo-900/40 via-purple-900/20 to-slate-900/30",icon:tu,animation:"stars"}}[y],k=S=>S.toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit",second:"2-digit"}),N=S=>S.toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"}),_=()=>n.jsxs(n.Fragment,{children:[[...Array(8)].map((S,j)=>n.jsx(C.div,{initial:{x:-200-j*200,y:20+j*20,opacity:.4+j%3*.15},animate:{x:typeof window<"u"?window.innerWidth+200:1e3,y:[20+j*20,20+j*20+Math.sin(j)*12,20+j*20-Math.cos(j)*10,20+j*20+Math.sin(j+1)*12,20+j*20]},transition:{x:{duration:25+j*6,repeat:1/0,ease:"linear",delay:j*1.5},y:{duration:6+j*1.5,repeat:1/0,ease:"easeInOut",delay:j*.3}},className:"absolute pointer-events-none",style:{filter:"blur(0.3px)"},children:n.jsx(d0,{className:"text-white/25 drop-shadow-[0_2px_8px_rgba(255,255,255,0.3)]",size:50+j*20,fill:"currentColor",strokeWidth:.8})},`cloud-${j}`)),y!=="isya"&&n.jsx(C.div,{initial:{y:-40,opacity:0,scale:.7},animate:{y:[0,-8,0],opacity:1,scale:1},transition:{y:{duration:5,repeat:1/0,ease:"easeInOut"},opacity:{duration:1.5,ease:"easeOut"},scale:{duration:1.5,ease:"easeOut"}},className:"absolute right-8 top-6",children:n.jsx(C.div,{animate:{rotate:y==="dzuhur"?360:[0,5,-5,0]},transition:{rotate:{duration:y==="dzuhur"?20:7,repeat:1/0,ease:y==="dzuhur"?"linear":"easeInOut"}},children:n.jsx(ii,{className:`drop-shadow-[0_0_20px_rgba(255,255,100,0.6)] ${y==="subuh"?"text-orange-200":y==="dzuhur"?"text-yellow-100":y==="ashar"?"text-amber-200":"text-orange-300"}`,size:60,fill:"currentColor"})})})]}),T=()=>n.jsxs(n.Fragment,{children:[[...Array(30)].map((S,j)=>{const D=typeof window<"u"?Math.random()*window.innerWidth:Math.random()*1e3,$=Math.random()*250,B=4+Math.random()*10,L=Math.random()*3,O=3+Math.random()*4;return n.jsx(C.div,{initial:{x:D,y:$,scale:.3,opacity:0},animate:{opacity:[0,.3,.8,1,.8,.3,0],scale:[.3,.5,.8,1,.8,.5,.3],rotate:[0,180,360]},transition:{opacity:{duration:O,repeat:1/0,ease:"easeInOut",delay:L},scale:{duration:O,repeat:1/0,ease:"easeInOut",delay:L},rotate:{duration:O*2,repeat:1/0,ease:"linear",delay:L}},className:"absolute",children:n.jsx(xi,{className:"text-yellow-200",size:B,fill:"currentColor"})},`star-${j}`)}),n.jsx(C.div,{initial:{y:-30,opacity:0,scale:.8},animate:{y:[0,-10,0],opacity:1,scale:1},transition:{y:{duration:6,repeat:1/0,ease:"easeInOut"},opacity:{duration:1.5,ease:"easeOut"},scale:{duration:1.5,ease:"easeOut"}},className:"absolute right-12 top-8",children:n.jsx(C.div,{animate:{rotate:[0,5,-5,0]},transition:{duration:8,repeat:1/0,ease:"easeInOut"},children:n.jsx(tu,{className:"text-yellow-100 drop-shadow-[0_0_15px_rgba(255,255,200,0.5)]",size:52,fill:"currentColor"})})}),[...Array(2)].map((S,j)=>n.jsx(C.div,{initial:{x:typeof window<"u"?window.innerWidth*.2:200,y:50+j*80,opacity:0},animate:{x:typeof window<"u"?window.innerWidth:1e3,y:150+j*80,opacity:[0,1,.8,0]},transition:{duration:2,repeat:1/0,repeatDelay:8+j*3,ease:"easeOut"},className:"absolute h-0.5 w-20 bg-gradient-to-r from-transparent via-yellow-200 to-transparent",style:{boxShadow:"0 0 10px rgba(255, 255, 200, 0.8)"}},`shooting-star-${j}`))]});return n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:`relative bg-gradient-to-br ${w.gradient} text-white overflow-hidden`,style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:`absolute inset-0 bg-gradient-to-r ${w.overlay} z-0`}),n.jsx("div",{className:"absolute inset-0 overflow-hidden z-[1]",children:w.animation==="clouds"?n.jsx(_,{}):n.jsx(T,{})}),n.jsx("div",{className:"absolute inset-0 z-[2]",children:n.jsx(We,{className:"text-white opacity-5"})}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsxs("div",{className:"flex justify-between items-start mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(Ol,{className:"w-8 h-8 text-white"})}),n.jsx("div",{children:n.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Jamaah.net"})})]}),n.jsxs(C.button,{whileTap:{scale:.9},onClick:s,className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl relative",children:[n.jsx(Uu,{className:"w-5 h-5"}),t.length>0&&n.jsx("span",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center text-xs font-bold",children:t.length})]})]}),n.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-white/15 backdrop-blur-xl rounded-3xl p-5 border border-white/20 shadow-2xl mb-4",children:n.jsxs("div",{className:"text-center",children:[n.jsx(C.div,{initial:{scale:.95},animate:{scale:1},className:"text-5xl md:text-6xl font-bold mb-2 tracking-wider font-mono",children:k(i)},k(i)),n.jsx("div",{className:"text-sm text-white/90 mb-1",children:N(i)}),n.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-4 py-2 rounded-full mt-2",children:[ee.createElement(w.icon,{className:"w-4 h-4"}),n.jsxs("span",{className:"text-sm font-medium",children:["Waktu ",y.charAt(0).toUpperCase()+y.slice(1)]})]})]})}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"bg-white/15 backdrop-blur-xl rounded-3xl p-4 sm:p-5 border border-white/20 shadow-2xl",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[n.jsx(C.div,{animate:{rotate:[0,10,-10,0]},transition:{duration:2,repeat:1/0,ease:"easeInOut"},children:n.jsx(xi,{className:"w-4 h-4 text-yellow-300",fill:"currentColor"})}),n.jsx("span",{className:"text-xs sm:text-sm font-medium text-white/90",children:"Waktu Shalat Hari Ini"})]}),n.jsx("div",{className:"grid grid-cols-5 gap-1.5 sm:gap-2 md:gap-3",children:m.map((S,j)=>n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3+j*.1},className:`text-center p-2 sm:p-2.5 md:p-3 rounded-xl sm:rounded-2xl transition-all ${S.name===c?"bg-white/30 backdrop-blur-md scale-105 shadow-lg":"bg-white/10"}`,children:[n.jsx("div",{className:`text-[10px] sm:text-xs mb-0.5 sm:mb-1 truncate ${S.name===c?"text-white font-semibold":"text-white/80"}`,children:S.name}),n.jsx("div",{className:`text-xs sm:text-sm font-bold tabular-nums ${S.name===c?"text-white":"text-white/90"}`,children:S.time}),S.name===c&&n.jsx(C.div,{initial:{scale:0},animate:{scale:1},className:"mt-0.5 sm:mt-1",children:n.jsx("div",{className:"w-1.5 h-1.5 bg-yellow-300 rounded-full mx-auto animate-pulse"})})]},S.name))})]})]})]})}function N4({session:t,onNavigate:e}){const[s,i]=P.useState([]),[l,c]=P.useState([]),[d,h]=P.useState(0),[m,p]=P.useState([]),[g,y]=P.useState(!1),[v,w]=P.useState([]);P.useEffect(()=>{k(),N(),_(),t&&T()},[t]),P.useEffect(()=>{if(s.length>0){const S=setInterval(()=>{h(j=>(j+1)%s.length)},5e3);return()=>clearInterval(S)}},[s.length]);const k=async()=>{try{const j=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/announcements`,{headers:{Authorization:`Bearer ${os}`}})).json();i(j)}catch(S){console.error("Error fetching announcements:",S)}},N=async()=>{try{const S=tt(),{data:j,error:D}=await S.from("articles").select("*").order("created_at",{ascending:!1}).limit(3);if(D)throw D;j&&c(j)}catch(S){console.error("Error fetching articles:",S)}},_=async()=>{try{let j=tt().from("timeline_posts").select("*, profiles(name, avatar_url)").order("created_at",{ascending:!1});t?.user?.id?j=j.or(`is_approved.eq.true,and(is_approved.eq.false,user_id.eq.${t.user.id})`):j=j.eq("is_approved",!0);const{data:D,error:$}=await j;if($){console.error("Error fetching timeline:",$);return}D&&w(D)}catch(S){console.error("Error fetching timeline:",S)}},T=async()=>{if(t)try{const S=[],$=(await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/marketplace/c2c`,{headers:{Authorization:`Bearer ${os}`}})).json()).filter(je=>Date.now()-je.created_at<1440*60*1e3);$.length>0&&S.push({type:"product",count:$.length,message:`${$.length} produk baru di Pasar Jamaah`});const O=(await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/donations/campaigns`,{headers:{Authorization:`Bearer ${os}`}})).json()).filter(je=>Date.now()-je.created_at<1440*60*1e3);O.length>0&&S.push({type:"donation",count:O.length,message:`${O.length} kampanye donasi baru`});const he=(await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/chats`,{headers:{Authorization:`Bearer ${t.access_token}`}})).json()).filter(je=>{const J=je.messages[je.messages.length-1];return J&&J.sender_id!==t.user.id});he.length>0&&S.push({type:"chat",count:he.length,message:`${he.length} pesan baru`}),p(S)}catch(S){console.error("Error fetching notifications:",S)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.03]"})}),n.jsx(j4,{notifications:m,showNotifications:g,onToggleNotifications:()=>y(!g)}),n.jsx("div",{className:"relative",children:n.jsx(sr,{children:g&&n.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},exit:{opacity:0,y:-10},className:"absolute top-2 right-6 bg-white dark:bg-gray-800 rounded-2xl shadow-2xl p-4 w-80 max-w-[calc(100vw-3rem)] z-20 border border-gray-200 dark:border-gray-700",children:[n.jsxs("h3",{className:"font-semibold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[n.jsx(Uu,{className:"w-5 h-5"}),"Notifikasi"]}),m.length===0?n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center py-4",children:"Tidak ada notifikasi baru"}):n.jsx("div",{className:"space-y-2",children:m.map((S,j)=>n.jsx(C.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:j*.1},className:"p-3 bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-xl border border-emerald-200 dark:border-emerald-700/50",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:`p-2 rounded-lg ${S.type==="product"?"bg-purple-500":S.type==="donation"?"bg-pink-500":"bg-blue-500"}`,children:S.type==="product"?n.jsx(vn,{className:"w-4 h-4 text-white"}):S.type==="donation"?n.jsx(Ai,{className:"w-4 h-4 text-white"}):n.jsx(Lt,{className:"w-4 h-4 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("p",{className:"text-sm font-medium text-gray-900 dark:text-white",children:S.message}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Baru saja"})]})]})},j))})]})})}),n.jsxs("div",{className:"relative z-10 p-6 space-y-6",children:[s.length>0&&n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"relative",children:[n.jsx("div",{className:"overflow-hidden rounded-3xl shadow-2xl",children:n.jsx("div",{className:"flex transition-transform duration-700 ease-out",style:{transform:`translateX(-${d*100}%)`},children:s.map(S=>n.jsx("div",{className:"min-w-full",children:n.jsxs("div",{className:"relative h-56 group",children:[n.jsx("img",{src:S.image,alt:S.title,className:"w-full h-full object-cover transition-transform duration-700 group-hover:scale-105"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent"}),n.jsx("div",{className:"absolute bottom-0 left-0 right-0 p-6",children:n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"space-y-2",children:[n.jsx("div",{className:"inline-block px-3 py-1 bg-emerald-500 rounded-full text-xs font-semibold mb-2",children:"Pengumuman"}),n.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:S.title}),n.jsx("p",{className:"text-sm text-gray-200 line-clamp-2",children:S.content})]})})]})},S.id))})}),n.jsx("div",{className:"flex justify-center gap-2 mt-4",children:s.map((S,j)=>n.jsx(C.button,{onClick:()=>h(j),whileTap:{scale:.9},className:`rounded-full transition-all ${j===d?"bg-emerald-600 dark:bg-emerald-400 w-8 h-2":"bg-gray-300 dark:bg-gray-600 w-2 h-2"}`},j))})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"grid grid-cols-3 gap-4",children:[n.jsx(Yd,{icon:Tt,label:"Kegiatan",color:"from-blue-500 to-blue-600",delay:.1,onClick:()=>e?.("calendar")}),n.jsx(Yd,{icon:hg,label:"Pasar",color:"from-orange-500 to-orange-600",delay:.2,onClick:()=>e?.("marketplace")}),n.jsx(Yd,{icon:Bu,label:"Donasi",color:"from-emerald-500 to-emerald-600",delay:.3,onClick:()=>e?.("donation")})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:[n.jsxs("div",{className:"flex justify-between items-center mb-4",children:[n.jsxs("div",{children:[n.jsxs("h2",{className:"text-xl font-bold dark:text-white flex items-center gap-2",children:[n.jsx(pn,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),"Artikel Terbaru"]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-1",children:"Baca kajian dan informasi terkini"})]}),n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>e?.("all-articles"),className:"text-emerald-600 dark:text-emerald-400 text-sm font-semibold flex items-center gap-1 px-4 py-2 bg-emerald-50 dark:bg-emerald-900/20 rounded-full",children:["Semua",n.jsx(zs,{className:"w-4 h-4"})]})]}),n.jsx("div",{className:"space-y-3",children:l.map((S,j)=>n.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.7+j*.1},onClick:()=>e?.("article-detail",S),className:"card-hover bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-5 shadow-lg border border-gray-100 dark:border-gray-700/50 cursor-pointer group",children:n.jsxs("div",{className:"flex gap-4",children:[S.image?n.jsx("div",{className:"flex-shrink-0 w-20 h-20 rounded-2xl overflow-hidden group-hover:scale-110 transition-transform",children:n.jsx("img",{src:S.image,alt:S.title,className:"w-full h-full object-cover"})}):n.jsx("div",{className:"flex-shrink-0 w-20 h-20 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-2xl flex items-center justify-center group-hover:scale-110 transition-transform",children:n.jsx("span",{className:"text-2xl font-bold text-emerald-600 dark:text-emerald-400",children:String(j+1).padStart(2,"0")})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:S.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:S.excerpt}),n.jsxs("div",{className:"flex justify-between items-center text-xs",children:[n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 flex items-center gap-1",children:[n.jsx("div",{className:"w-6 h-6 bg-emerald-100 dark:bg-emerald-900/30 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-[10px]",children:""})}),S.author]}),n.jsx("span",{className:"text-gray-400 dark:text-gray-500",children:new Date(S.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]})]})]})},S.id))})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(er,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Timeline Kegiatan"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Aktivitas jamaah terkini"})]})]}),t&&n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>e?.("create-timeline"),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-4 py-2 rounded-xl flex items-center gap-2 shadow-lg",children:[n.jsx(ns,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm",children:"Posting"})]})]}),v.length===0?n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.8},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-12 text-center shadow-lg border border-gray-100 dark:border-gray-700/50",children:[n.jsx("div",{className:"w-16 h-16 bg-gray-100 dark:bg-gray-700/50 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(er,{className:"w-8 h-8 text-gray-400 dark:text-gray-500"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Belum ada postingan"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mb-6",children:"Jadilah yang pertama berbagi kegiatan ibadah"}),t&&n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>e?.("create-timeline"),className:"bg-gradient-to-r from-purple-500 to-pink-500 text-white px-6 py-3 rounded-xl inline-flex items-center gap-2 shadow-lg",children:[n.jsx(ns,{className:"w-5 h-5"}),n.jsx("span",{children:"Buat Postingan Pertama"})]})]}):n.jsx("div",{className:"space-y-3",children:v.map((S,j)=>n.jsx(_4,{post:S,session:t,onNavigate:e,onRefresh:_,delay:.8+j*.05},S.id))})]}),n.jsx("div",{className:"h-20"})]}),t&&n.jsxs(C.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:1,type:"spring",stiffness:200},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e?.("create-timeline"),className:"fixed bottom-24 right-6 z-40 bg-gradient-to-br from-purple-500 via-pink-500 to-rose-500 text-white w-16 h-16 rounded-2xl shadow-2xl flex items-center justify-center group hover:shadow-purple-500/50 transition-all overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity"}),n.jsx(ns,{className:"w-7 h-7 relative z-10 group-hover:rotate-90 transition-transform duration-300"})]})]})}function _4({post:t,session:e,onNavigate:s,onRefresh:i,delay:l}){const[c,d]=P.useState(!1),[h,m]=P.useState(t.likes||[]),[p,g]=P.useState(!1),[y,v]=P.useState(t.comments||[]),[w,k]=P.useState(!1),[N,_]=P.useState(!1);P.useEffect(()=>{m(t.likes||[]),v(t.comments||[]),e&&(g((t.likes||[]).includes(e.user.id)),T()),e&&S()},[t.id,t.likes,t.comments,e]);const T=async()=>{if(e)try{const B=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/profile`,{headers:{Authorization:`Bearer ${e.access_token}`}});if(B.ok){const L=await B.json();k(L.role==="Admin")}}catch(B){console.error("Error fetching user role:",B)}},S=async()=>{if(e)try{const B=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/timeline/bookmarks/list`,{headers:{Authorization:`Bearer ${e.access_token}`}});if(B.ok){const O=(await B.json()).some(H=>H.id===t.id);d(O)}}catch(B){console.error("Error fetching bookmark status:",B)}},j=async B=>{if(B.stopPropagation(),!e)return;const L=!p,O=L?[...h,e.user.id]:h.filter(H=>H!==e.user.id);g(L),m(O);try{const H=tt(),{error:se}=await H.from("timeline_posts").update({likes:O}).eq("id",t.id);se&&(console.error("Error toggling like:",se),g(!L),m(h))}catch(H){console.error("Error toggling like:",H),g(!L),m(h)}},D=async B=>{if(B.stopPropagation(),!e)return;const L=!c;d(L);try{const O=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/timeline/${t.id}/bookmark`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`}});if(O.ok){const H=await O.json();d(H.isBookmarked)}else d(!L)}catch(O){console.error("Error toggling bookmark:",O),d(!L)}},$=async B=>{if(B.stopPropagation(),!!e)try{const L=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/timeline/${t.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.access_token}`}});L.ok?i():console.error("Failed to delete post:",await L.text())}catch(L){console.error("Error deleting post:",L)}};return n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l},onClick:()=>s?.("timeline-detail",t),className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700/50 p-5 hover:shadow-xl dark:hover:bg-gray-800/70 transition-all cursor-pointer group overflow-hidden",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:t.profiles?.avatar_url?n.jsx("img",{src:t.profiles.avatar_url,alt:t.profiles.name,className:"w-12 h-12 rounded-full object-cover border border-gray-200 dark:border-gray-700"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold",children:(t.profiles?.name||t.user_name||"?")[0].toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[n.jsx("span",{className:"font-bold text-gray-900 dark:text-white hover:underline",children:t.profiles?.name||t.user_name||"Unknown User"}),n.jsxs("span",{className:"text-gray-500 dark:text-gray-400 text-sm",children:[" ",new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short"})]}),t.is_approved===!1&&n.jsx("span",{className:"inline-flex items-center gap-1 px-2 py-0.5 bg-orange-100 dark:bg-orange-900/30 text-orange-600 dark:text-orange-400 rounded-full text-xs font-semibold",children:" Menunggu Approve"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:t.title}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm whitespace-pre-wrap",children:t.content})]}),t.image&&n.jsx("div",{className:"mb-3 rounded-2xl overflow-hidden border border-gray-200 dark:border-gray-700",children:n.jsx("img",{src:t.image,alt:t.title,className:"w-full max-h-96 object-cover"})}),n.jsxs("div",{className:"flex items-center justify-between max-w-md mt-2",children:[n.jsxs(C.button,{whileTap:{scale:.9},onClick:B=>{B.stopPropagation(),s?.("timeline-detail",t)},className:"flex items-center gap-2 text-gray-500 dark:text-gray-400 hover:text-blue-500 dark:hover:text-blue-400 transition-colors group/btn",children:[n.jsx("div",{className:"p-2 rounded-full group-hover/btn:bg-blue-50 dark:group-hover/btn:bg-blue-900/20 transition-colors",children:n.jsx(Lt,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm",children:y.length||0})]}),n.jsxs(C.button,{whileTap:{scale:.9},className:"flex items-center gap-2 text-gray-400 dark:text-gray-500 cursor-not-allowed",children:[n.jsx("div",{className:"p-2 rounded-full transition-colors",children:n.jsx(Fw,{className:"w-5 h-5"})}),n.jsx("span",{className:"text-sm",children:"0"})]}),n.jsxs(C.button,{whileTap:{scale:.9},onClick:j,className:`flex items-center gap-2 transition-colors group/btn ${p?"text-pink-500 dark:text-pink-400":"text-gray-500 dark:text-gray-400 hover:text-pink-500 dark:hover:text-pink-400"}`,children:[n.jsx("div",{className:"p-2 rounded-full group-hover/btn:bg-pink-50 dark:group-hover/btn:bg-pink-900/20 transition-colors",children:n.jsx(Ai,{className:`w-5 h-5 ${p?"fill-current":""}`})}),n.jsx("span",{className:"text-sm",children:h.length})]}),n.jsx(C.button,{whileTap:{scale:.9},onClick:D,className:`flex items-center gap-2 transition-colors group/btn ${c?"text-emerald-500 dark:text-emerald-400":"text-gray-500 dark:text-gray-400 hover:text-emerald-500 dark:hover:text-emerald-400"}`,children:n.jsx("div",{className:"p-2 rounded-full group-hover/btn:bg-emerald-50 dark:group-hover/btn:bg-emerald-900/20 transition-colors",children:n.jsx(Mb,{className:`w-5 h-5 ${c?"fill-current":""}`})})}),n.jsx(C.button,{whileTap:{scale:.9},className:"flex items-center gap-2 text-gray-400 dark:text-gray-500 cursor-not-allowed",children:n.jsx("div",{className:"p-2 rounded-full transition-colors",children:n.jsx(ug,{className:"w-5 h-5"})})})]})]}),w&&n.jsxs("div",{className:"relative flex-shrink-0 ml-2",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:B=>{B.stopPropagation(),_(!N)},className:"p-2 text-gray-400 hover:text-amber-500 dark:hover:text-amber-400 hover:bg-amber-50 dark:hover:bg-amber-900/20 rounded-xl transition-colors",children:n.jsx(rl,{className:"w-5 h-5"})}),n.jsx(sr,{children:N&&n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"fixed inset-0 z-30",onClick:B=>{B.stopPropagation(),_(!1)}}),n.jsxs(C.div,{initial:{opacity:0,scale:.95,y:-10},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:-10},transition:{duration:.15},className:"absolute top-10 right-0 bg-white dark:bg-gray-800 rounded-xl shadow-2xl py-2 w-40 z-40 border border-gray-200 dark:border-gray-700",children:[n.jsxs(C.button,{whileTap:{scale:.97},onClick:B=>{B.stopPropagation(),_(!1),s?.("timeline-detail",{...t,_editMode:!0})},className:"w-full px-4 py-2 flex items-center gap-3 text-blue-600 dark:text-blue-400 hover:bg-blue-50 dark:hover:bg-blue-900/20 transition-colors",children:[n.jsx(ru,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-semibold",children:"Edit"})]}),n.jsxs(C.button,{whileTap:{scale:.97},onClick:B=>{B.stopPropagation(),confirm("Yakin ingin menghapus postingan ini?")&&$(B),_(!1)},className:"w-full px-4 py-2 flex items-center gap-3 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 transition-colors",children:[n.jsx(hr,{className:"w-4 h-4"}),n.jsx("span",{className:"text-sm font-semibold",children:"Hapus"})]})]})]})})]})]})})}function Yd({icon:t,label:e,color:s,delay:i,onClick:l}){return n.jsxs(C.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},transition:{delay:i,type:"spring",stiffness:200},whileHover:{scale:1.05},whileTap:{scale:.95},onClick:l,className:"group flex flex-col items-center gap-3 p-5 bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl shadow-lg border border-gray-100 dark:border-gray-700/50 card-hover",children:[n.jsx("div",{className:`bg-gradient-to-br ${s} w-14 h-14 rounded-2xl flex items-center justify-center shadow-xl group-hover:shadow-2xl transition-all group-hover:rotate-6`,children:n.jsx(t,{className:"w-7 h-7 text-white"})}),n.jsx("span",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 text-center",children:e})]})}const S4={Shalat:"from-emerald-500 to-teal-500",Kajian:"from-blue-500 to-indigo-500","Acara Komunitas":"from-purple-500 to-pink-500"},rg={Shalat:"",Kajian:"","Acara Komunitas":""};function E4({session:t}){const[e,s]=P.useState([]),[i,l]=P.useState("Semua"),c=["Semua","Shalat","Kajian","Acara Komunitas"];P.useEffect(()=>{d()},[]);const d=async()=>{try{const p=tt(),{data:g,error:y}=await p.from("events").select("*");if(y)throw y;g&&s(g)}catch(p){console.error("Error fetching events:",p)}},h=async p=>{if(!t){alert("Silakan login terlebih dahulu untuk RSVP");return}try{const g=tt(),{data:y,error:v}=await g.from("events").select("rsvp").eq("id",p).single();if(v)throw v;const w=y?.rsvp||[];if(!w.includes(t.user.id)){const k=[...w,t.user.id],{error:N}=await g.from("events").update({rsvp:k}).eq("id",p);if(N)throw N;d()}}catch(g){console.error("Error RSVPing to event:",g),alert("Gagal RSVP")}},m=i==="Semua"?e:e.filter(p=>p.category===i);return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-purple-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-blue-600 dark:text-blue-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-blue-600 via-indigo-600 to-purple-600 dark:from-blue-700 dark:via-indigo-700 dark:to-purple-700 text-white overflow-hidden",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(Tt,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Kegiatan Jamaah"}),n.jsx("p",{className:"text-blue-100 text-sm",children:"Jangan lewatkan momen berharga"})]})]}),n.jsx("div",{className:"flex gap-2 overflow-x-auto pb-2 hide-scrollbar",children:c.map(p=>n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>l(p),className:`px-5 py-2.5 rounded-full whitespace-nowrap font-medium transition-all ${i===p?"bg-white text-blue-600 shadow-lg":"bg-white/20 backdrop-blur-md text-white"}`,children:[p!=="Semua"&&rg[p]," ",p]},p))})]})]}),n.jsxs("div",{className:"relative z-10 p-6 space-y-4",children:[m.length===0?n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:n.jsx(Tt,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Tidak ada kegiatan untuk kategori ini"})]}):m.map((p,g)=>{const y=new Date(p.date),v=t&&p.rsvp.includes(t.user.id),w=S4[p.category]||"from-gray-500 to-gray-600";return n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:g*.1},className:"card-hover bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700/50 overflow-hidden",children:n.jsxs("div",{className:"flex gap-0",children:[n.jsxs("div",{className:`bg-gradient-to-br ${w} text-white p-5 flex flex-col items-center justify-center min-w-[100px]`,children:[n.jsx("div",{className:"text-4xl font-bold mb-1",children:y.getDate()}),n.jsx("div",{className:"text-xs uppercase tracking-wider opacity-90",children:y.toLocaleDateString("id-ID",{month:"short"})}),n.jsx("div",{className:"text-xs opacity-75 mt-2",children:y.toLocaleDateString("id-ID",{weekday:"short"})})]}),n.jsxs("div",{className:"flex-1 p-5",children:[n.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:rg[p.category]}),n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:p.title})]}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:p.description})]}),n.jsx("span",{className:`px-3 py-1.5 bg-gradient-to-r ${w} text-white text-xs font-semibold rounded-full whitespace-nowrap`,children:p.category})]}),n.jsxs("div",{className:"flex flex-wrap items-center gap-4 text-sm text-gray-500 dark:text-gray-400 mb-4",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg",children:n.jsx(_l,{className:"w-4 h-4"})}),n.jsx("span",{children:p.location})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-gray-100 dark:bg-gray-700 p-2 rounded-lg",children:n.jsx(er,{className:"w-4 h-4"})}),n.jsxs("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:[p.rsvp.length," peserta"]})]})]}),t&&n.jsx(C.button,{whileTap:{scale:.97},onClick:()=>h(p.id),disabled:v,className:`w-full px-5 py-3 rounded-2xl font-semibold transition-all ${v?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400 cursor-default":`bg-gradient-to-r ${w} text-white shadow-lg hover:shadow-xl`}`,children:v?n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(zb,{className:"w-5 h-5"}),"Sudah RSVP"]}):n.jsxs("span",{className:"flex items-center justify-center gap-2",children:[n.jsx(bn,{className:"w-5 h-5"}),"RSVP Sekarang"]})})]})]})},p.id)}),n.jsx("div",{className:"h-20"})]})]})}const T4="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iODgiIGhlaWdodD0iODgiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyIgc3Ryb2tlPSIjMDAwIiBzdHJva2UtbGluZWpvaW49InJvdW5kIiBvcGFjaXR5PSIuMyIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjciPjxyZWN0IHg9IjE2IiB5PSIxNiIgd2lkdGg9IjU2IiBoZWlnaHQ9IjU2IiByeD0iNiIvPjxwYXRoIGQ9Im0xNiA1OCAxNi0xOCAzMiAzMiIvPjxjaXJjbGUgY3g9IjUzIiBjeT0iMzUiIHI9IjciLz48L3N2Zz4KCg==";function wh(t){const[e,s]=P.useState(!1),i=()=>{s(!0)},{src:l,alt:c,style:d,className:h,...m}=t;return e?n.jsx("div",{className:`inline-block bg-gray-100 text-center align-middle ${h??""}`,style:d,children:n.jsx("div",{className:"flex items-center justify-center w-full h-full",children:n.jsx("img",{src:T4,alt:"Error loading image",...m,"data-original-url":l})})}):n.jsx("img",{src:l,alt:c,className:h,style:d,...m,onError:i})}function C4({session:t,type:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(""),[d,h]=P.useState(""),[m,p]=P.useState(""),[g,y]=P.useState(""),[v,w]=P.useState(""),[k,N]=P.useState(""),[_,T]=P.useState(!1),[S,j]=P.useState(!1),[D,$]=P.useState(!1),B=tt(),L=P.useRef(null),O=async he=>{const je=he.target.files?.[0];if(!je)return;if(!["image/jpeg","image/jpg","image/png","image/webp"].includes(je.type)){Z.error("Format file harus JPG, PNG, atau WebP");return}if(je.size>5242880){Z.error("Ukuran file maksimal 5MB");return}const be=new FileReader;be.onloadend=()=>{N(be.result)},be.readAsDataURL(je),$(!0);try{const Pe=`${Date.now()}-${Math.random().toString(36).substring(7)}`,ge=`${t.user.id}/${Pe}`,{error:le}=await B.storage.from("product_images").upload(ge,je);if(le)throw le;const{data:Y}=B.storage.from("product_images").getPublicUrl(ge);w(Y.publicUrl),Z.success("Gambar berhasil diupload!")}catch(Pe){console.error("Error uploading image:",Pe),Z.error(Pe.message||"Gagal mengupload gambar"),N("")}finally{$(!1)}},H=()=>{N(""),w(""),L.current&&(L.current.value="")},se=async he=>{he.preventDefault(),j(!0);try{const je=v||g||"https://images.unsplash.com/photo-1505740420928-5e560c06d30e",{error:J}=await B.from("products").insert({user_id:t.user.id,name:l,description:d,price:parseInt(m),images:[je],is_barter_allowed:_,status:"pending",category:e==="c2c"?"barang":"jasa"});if(J)throw J;Z.success("Produk berhasil diposting!"),i()}catch(je){console.error("Error posting product:",je),Z.error(je.message||"Gagal memposting produk")}finally{j(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between z-10",children:[n.jsx("h2",{className:"text-lg dark:text-white",children:"Posting Produk"}),n.jsx("button",{onClick:s,children:n.jsx($t,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:se,className:"p-6 pb-32 space-y-4",children:[n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:["Nama Produk ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"text",value:l,onChange:he=>c(he.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Contoh: Kurma Ajwa Premium",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:["Deskripsi ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("textarea",{value:d,onChange:he=>h(he.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",rows:4,placeholder:"Jelaskan kondisi dan detail produk...",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:["Harga (Rp) ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsx("input",{type:"number",value:m,onChange:he=>p(he.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"50000",required:!0,min:"0"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Foto Produk"}),!k&&n.jsxs("div",{className:"space-y-3",children:[n.jsx("button",{type:"button",onClick:()=>L.current?.click(),disabled:D,className:"w-full border-2 border-dashed border-emerald-500 dark:border-emerald-400 rounded-lg p-6 hover:bg-emerald-50 dark:hover:bg-emerald-900/20 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:n.jsx("div",{className:"flex flex-col items-center gap-2",children:D?n.jsxs(n.Fragment,{children:[n.jsx(is,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400 animate-spin"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Mengupload..."})]}):n.jsxs(n.Fragment,{children:[n.jsx(Nl,{className:"w-8 h-8 text-emerald-600 dark:text-emerald-400"}),n.jsx("p",{className:"text-emerald-600 dark:text-emerald-400",children:"Upload Foto Produk"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"JPG, PNG, atau WebP (Max 5MB)"})]})})}),n.jsx("input",{ref:L,type:"file",accept:"image/jpeg,image/jpg,image/png,image/webp",onChange:O,className:"hidden"})]}),k&&n.jsxs("div",{className:"relative",children:[n.jsx("img",{src:k,alt:"Preview",className:"w-full h-48 object-cover rounded-lg"}),n.jsx("button",{type:"button",onClick:H,className:"absolute top-2 right-2 bg-red-500 text-white p-2 rounded-full hover:bg-red-600 transition-colors shadow-lg",children:n.jsx($t,{className:"w-4 h-4"})}),D&&n.jsx("div",{className:"absolute inset-0 bg-black/50 rounded-lg flex items-center justify-center",children:n.jsx(is,{className:"w-8 h-8 text-white animate-spin"})})]}),!k&&n.jsxs("div",{className:"mt-3",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("div",{className:"flex-1 h-px bg-gray-300 dark:bg-gray-600"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"ATAU"}),n.jsx("div",{className:"flex-1 h-px bg-gray-300 dark:bg-gray-600"})]}),n.jsx("input",{type:"url",value:g,onChange:he=>y(he.target.value),className:"w-full px-4 py-3 border border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent text-sm",placeholder:"Tempel URL gambar dari internet"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Kosongkan jika ingin menggunakan gambar default"})]})]}),e==="c2c"&&n.jsxs("div",{className:"flex items-center gap-2 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-lg",children:[n.jsx("input",{type:"checkbox",id:"barter",checked:_,onChange:he=>T(he.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),n.jsx("label",{htmlFor:"barter",className:"text-sm text-gray-700 dark:text-gray-300",children:"Bisa barter/tukar barang"})]}),n.jsx("button",{type:"submit",disabled:S||D,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:S?n.jsxs(n.Fragment,{children:[n.jsx(is,{className:"w-5 h-5 animate-spin"}),"Memposting..."]}):n.jsxs(n.Fragment,{children:[n.jsx(fg,{className:"w-5 h-5"}),"Posting Produk"]})})]})]})})}function dl({rating:t,onRatingChange:e,size:s="md",readonly:i=!1,showCount:l=!1,count:c=0}){const d={sm:"w-3 h-3",md:"w-5 h-5",lg:"w-6 h-6"},h=m=>{!i&&e&&e(m)};return n.jsxs("div",{className:"flex items-center gap-1",children:[[1,2,3,4,5].map(m=>{const p=i?C.div:C.button,g=i?{className:"cursor-default transition-transform"}:{type:"button",whileTap:{scale:.9},onClick:()=>h(m),className:"cursor-pointer transition-transform"};return n.jsx(p,{...g,children:n.jsx(xi,{className:`${d[s]} ${m<=t?"fill-amber-400 text-amber-400":"fill-none text-gray-300 dark:text-gray-600"} transition-colors`})},m)}),l&&n.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400 ml-1",children:["(",c,")"]})]})}const Xd={barang:{label:"Barang",icon:"",subcategories:["Barang Rumah","Alat Olahraga","Elektronik","Fashion","Buku & Hobi","Lainnya"]},jasa:{label:"Jasa",icon:"",subcategories:["Jasa Perbaikan","Jasa Kebersihan","Jasa Pengajaran","Jasa IT","Jasa Katering","Lainnya"]},lainnya:{label:"Lain-lain",icon:"",subcategories:[]}};function P4({session:t,onNavigate:e}){const[s,i]=P.useState("c2c"),[l,c]=P.useState([]),[d,h]=P.useState(!1),[m,p]=P.useState("all"),[g,y]=P.useState("all"),[v,w]=P.useState(!1),[k,N]=P.useState({});P.useEffect(()=>{_()},[s]);const _=async()=>{try{const j=tt(),{data:D,error:$}=await j.from("products").select("*, profiles(name)").eq("status","approved");if($)throw $;if(D){const B=D.map(L=>({...L,seller_name:L.profiles?.name||"Anonymous",images:L.images||[]}));c(B)}}catch(j){console.error("Error fetching products:",j)}},T=j=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(j),S=l.filter(j=>!(m!=="all"&&j.category!==m||g!=="all"&&j.subcategory!==g));return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-orange-50/20 to-emerald-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-orange-600 dark:text-orange-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-orange-500 via-orange-600 to-red-500 dark:from-orange-600 dark:via-orange-700 dark:to-red-600 text-white overflow-hidden",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsxs("div",{children:[n.jsxs("h1",{className:"text-2xl font-bold mb-1 flex items-center gap-2",children:[n.jsx(lk,{className:"w-6 h-6"}),"Pasar Halal"]}),n.jsx("p",{className:"text-orange-100 text-sm",children:"Jual beli dengan berkah"})]}),n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>w(!v),className:`p-3 rounded-2xl backdrop-blur-md transition-all ${v?"bg-white/30":"bg-white/20"}`,children:n.jsx(dg,{className:"w-5 h-5"})})]}),n.jsxs("div",{className:"bg-black/20 backdrop-blur-md p-1.5 rounded-2xl flex gap-1",children:[n.jsx(C.button,{whileTap:{scale:.97},onClick:()=>i("c2c"),className:`flex-1 px-4 py-3 rounded-xl transition-all font-medium ${s==="c2c"?"bg-white text-orange-600 shadow-lg":"text-white/80"}`,children:" Pasar Jamaah"}),n.jsx(C.button,{whileTap:{scale:.97},onClick:()=>i("b2c"),className:`flex-1 px-4 py-3 rounded-xl transition-all font-medium ${s==="b2c"?"bg-white text-orange-600 shadow-lg":"text-white/80"}`,children:" Toko Masjid"})]})]})]}),n.jsx(sr,{children:v&&n.jsx(C.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},className:"overflow-hidden bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700",children:n.jsxs("div",{className:"p-6 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 block",children:"Kategori"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(C.button,{whileTap:{scale:.95},onClick:()=>{p("all"),y("all")},className:`px-4 py-2 rounded-full font-medium text-sm transition-all ${m==="all"?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:" Semua"}),Object.entries(Xd).map(([j,D])=>n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>{p(j),y("all")},className:`px-4 py-2 rounded-full font-medium text-sm transition-all ${m===j?"bg-gradient-to-r from-orange-500 to-red-500 text-white shadow-lg":"bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-300 hover:bg-gray-200 dark:hover:bg-gray-600"}`,children:[D.icon," ",D.label]},j))]})]}),m!=="all"&&Xd[m].subcategories.length>0&&n.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},children:[n.jsx("label",{className:"text-xs font-semibold text-gray-500 dark:text-gray-400 uppercase tracking-wider mb-3 block",children:"Sub-Kategori"}),n.jsxs("div",{className:"flex flex-wrap gap-2",children:[n.jsx(C.button,{whileTap:{scale:.95},onClick:()=>y("all"),className:`px-3 py-1.5 rounded-full text-sm transition-all ${g==="all"?"bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:"Semua"}),Xd[m].subcategories.map(j=>n.jsx(C.button,{whileTap:{scale:.95},onClick:()=>y(j),className:`px-3 py-1.5 rounded-full text-sm transition-all ${g===j?"bg-emerald-600 text-white":"bg-gray-100 dark:bg-gray-700 text-gray-600 dark:text-gray-400"}`,children:j},j))]})]})]})})}),n.jsxs("div",{className:"relative z-10 p-6",children:[S.length>0?n.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},className:"grid grid-cols-2 gap-4",children:S.map((j,D)=>n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:D*.05},whileHover:{y:-4},whileTap:{scale:.98},onClick:()=>e("product-detail",j),className:"group bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700/50 overflow-hidden text-left card-hover",children:[n.jsxs("div",{className:"aspect-square bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 relative overflow-hidden",children:[n.jsx(wh,{src:j.images[0],alt:j.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsxs("div",{className:"absolute top-3 left-3 right-3 flex justify-between items-start",children:[j.subcategory&&n.jsx("div",{className:"bg-gradient-to-r from-emerald-500 to-teal-500 text-white px-3 py-1.5 rounded-full text-xs font-semibold backdrop-blur-sm shadow-lg",children:j.subcategory}),j.is_barter_allowed&&n.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 text-white px-3 py-1.5 rounded-full text-xs font-semibold flex items-center gap-1 backdrop-blur-sm shadow-lg",children:[n.jsx(og,{className:"w-3 h-3"}),"Barter"]})]}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/50 via-transparent to-transparent opacity-0 group-hover:opacity-100 transition-opacity"})]}),n.jsxs("div",{className:"p-4",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-orange-600 dark:group-hover:text-orange-400 transition-colors",children:j.name}),n.jsx("div",{className:"flex items-center justify-between mb-2",children:n.jsx("p",{className:"text-lg font-bold text-orange-600 dark:text-orange-400",children:T(j.price)})}),k[j.id]&&n.jsx("div",{className:"mb-2",children:n.jsx(dl,{rating:Math.round(k[j.id].avg),readonly:!0,size:"sm",showCount:!0,count:k[j.id].count})}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"w-5 h-5 bg-gradient-to-br from-emerald-400 to-teal-400 rounded-full flex items-center justify-center text-[10px]",children:""}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 truncate",children:j.seller_name})]})]})]},j.id))}):n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-20",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-800 dark:to-gray-700 rounded-3xl flex items-center justify-center mx-auto mb-4",children:n.jsx(yi,{className:"w-10 h-10 text-gray-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400 font-medium",children:"Belum ada produk di kategori ini"}),n.jsx("p",{className:"text-sm text-gray-400 dark:text-gray-500 mt-2",children:"Coba pilih kategori lain"})]}),n.jsx("div",{className:"h-20"})]}),t&&n.jsxs(C.button,{initial:{scale:0},animate:{scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>h(!0),className:"fixed bottom-24 right-6 bg-gradient-to-br from-orange-500 to-red-500 text-white p-5 rounded-full shadow-2xl hover:shadow-orange-500/50 transition-all group",children:[n.jsx(ns,{className:"w-7 h-7 group-hover:rotate-90 transition-transform"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-4 h-4 bg-emerald-400 rounded-full animate-pulse"})]}),d&&n.jsx(C4,{session:t,type:s,onClose:()=>h(!1),onSuccess:()=>{h(!1),_()}})]})}const A4=[1e4,25e3,5e4,1e5,25e4,5e5];function R4({campaign:t,session:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(""),[d,h]=P.useState(e?.user?.user_metadata?.name||""),[m,p]=P.useState(!1),[g,y]=P.useState(!1),v=tt(),w=N=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(N),k=async N=>{N.preventDefault(),y(!0);try{const{error:_}=await v.from("donations").insert({campaign_id:t.id,user_id:e?.user?.id||null,amount:parseInt(l),donor_name:d,is_anonymous:m,status:"success"});if(_)throw _;const{data:T,error:S}=await v.from("donation_campaigns").select("current_amount, donor_count").eq("id",t.id).single();if(S)throw S;const j=(T.current_amount||0)+parseInt(l),D=(T.donor_count||0)+1,{error:$}=await v.from("donation_campaigns").update({current_amount:j,donor_count:D}).eq("id",t.id);if($)throw $;alert("Terima kasih atas donasi Anda! "),i()}catch(_){console.error("Error creating donation:",_),alert(_.message||"Gagal membuat donasi")}finally{y(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end justify-center z-50",children:n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-t-3xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsxs("div",{className:"sticky top-0 bg-white dark:bg-gray-800 border-b border-gray-200 dark:border-gray-700 p-4 flex items-center justify-between",children:[n.jsxs("h2",{className:"text-lg dark:text-white",children:["Donasi: ",t.title]}),n.jsx("button",{onClick:s,children:n.jsx($t,{className:"w-6 h-6 text-gray-700 dark:text-gray-300"})})]}),n.jsxs("form",{onSubmit:k,className:"p-6 pb-32 space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Pilih Nominal"}),n.jsx("div",{className:"grid grid-cols-3 gap-2",children:A4.map(N=>n.jsx("button",{type:"button",onClick:()=>c(N.toString()),className:`px-4 py-3 rounded-lg border transition-colors text-sm ${l===N.toString()?"bg-emerald-600 text-white border-emerald-600":"bg-white text-gray-700 border-gray-300 hover:border-emerald-600"}`,children:w(N).replace("Rp","").trim()},N))})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Atau Masukkan Nominal"}),n.jsx("input",{type:"number",value:l,onChange:N=>c(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Nominal donasi (Rp)",required:!0,min:"1000"})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Nama Donatur"}),n.jsx("input",{type:"text",value:d,onChange:N=>h(N.target.value),className:"w-full px-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Nama Anda",required:!m,disabled:m})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("input",{type:"checkbox",id:"anonymous",checked:m,onChange:N=>p(N.target.checked),className:"w-4 h-4 text-emerald-600 border-gray-300 rounded focus:ring-emerald-500"}),n.jsx("label",{htmlFor:"anonymous",className:"text-sm text-gray-700",children:"Donasi sebagai Hamba Allah (anonim)"})]}),n.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-800",children:[n.jsx("strong",{children:"Informasi:"}),n.jsx("p",{className:"mt-1",children:"Ini adalah demo. Integrasi pembayaran Midtrans/Xendit akan ditambahkan untuk produksi."})]}),n.jsx("button",{type:"submit",disabled:g,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:g?"Memproses...":`Donasi ${l?w(parseInt(l)):""}`})]})]})})}function I4({session:t}){const[e,s]=P.useState([]),[i,l]=P.useState(null),[c,d]=P.useState(!1),h=tt();P.useEffect(()=>{m()},[]);const m=async()=>{try{const{data:v,error:w}=await h.from("donation_campaigns").select("*").eq("status","active").order("created_at",{ascending:!1});if(w)throw w;if(v){const k=v.map(N=>({...N,image:N.image_url||"https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1000&q=80",target_amount:N.target_amount||0,current_amount:N.current_amount||0}));s(k)}}catch(v){console.error("Error fetching campaigns:",v)}},p=v=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(v),g=(v,w)=>Math.min(v/w*100,100),y=v=>{l(v),d(!0)};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/20 to-teal-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-emerald-600 via-teal-600 to-green-600 dark:from-emerald-700 dark:via-teal-700 dark:to-green-700 text-white overflow-hidden",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(eu,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Infaq & Sedekah"}),n.jsx("p",{className:"text-emerald-100 text-sm",children:"Berbagi kebaikan untuk sesama"})]})]}),n.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[n.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.2},className:"bg-white/15 backdrop-blur-xl rounded-2xl p-4 border border-white/20",children:[n.jsx("div",{className:"text-emerald-100 text-xs mb-1",children:"Total Terkumpul"}),n.jsx("div",{className:"font-bold text-lg",children:p(e.reduce((v,w)=>v+w.current_amount,0))})]}),n.jsxs(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-white/15 backdrop-blur-xl rounded-2xl p-4 border border-white/20",children:[n.jsx("div",{className:"text-emerald-100 text-xs mb-1",children:"Kampanye Aktif"}),n.jsxs("div",{className:"font-bold text-lg flex items-center gap-2",children:[e.length,n.jsx(bn,{className:"w-4 h-4 text-yellow-300"})]})]})]})]})]}),n.jsxs("div",{className:"relative z-10 p-6 space-y-6",children:[t&&n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},whileTap:{scale:.98},className:"w-full card-hover bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-5 shadow-lg border border-gray-100 dark:border-gray-700/50 flex items-center justify-between group",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-500 p-4 rounded-2xl shadow-xl group-hover:scale-110 transition-transform",children:n.jsx(aw,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:"Laporan Transparansi"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Lihat penggunaan dana donasi"})]})]}),n.jsx(zs,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 group-hover:translate-x-1 transition-transform"})]}),n.jsxs("div",{children:[n.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[n.jsx(dk,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),n.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Kampanye Donasi"})]}),n.jsx("div",{className:"space-y-4",children:e.map((v,w)=>{const k=g(v.current_amount,v.target_amount);return n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5+w*.1},className:"card-hover bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl shadow-lg border border-gray-100 dark:border-gray-700/50 overflow-hidden group",children:[n.jsxs("div",{className:"aspect-video bg-gradient-to-br from-gray-100 to-gray-200 dark:from-gray-700 dark:to-gray-800 relative overflow-hidden",children:[n.jsx(wh,{src:v.image,alt:v.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-500"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/60 via-transparent to-transparent"}),n.jsx("div",{className:"absolute bottom-4 left-4 right-4",children:n.jsxs("div",{className:"bg-white/95 backdrop-blur-sm rounded-2xl p-3",children:[n.jsxs("div",{className:"flex justify-between items-center mb-2",children:[n.jsx("span",{className:"text-xs font-semibold text-gray-600",children:"Progress"}),n.jsxs("span",{className:"text-xs font-bold text-emerald-600",children:[k.toFixed(0),"%"]})]}),n.jsx("div",{className:"h-2 bg-gray-200 rounded-full overflow-hidden",children:n.jsx(C.div,{initial:{width:0},animate:{width:`${k}%`},transition:{delay:.6+w*.1,duration:.8},className:"h-full bg-gradient-to-r from-emerald-500 to-teal-500 rounded-full"})})]})})]}),n.jsxs("div",{className:"p-5",children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:v.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-4 line-clamp-2",children:v.description}),n.jsxs("div",{className:"flex items-center justify-between mb-4 p-4 bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl",children:[n.jsxs("div",{children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Terkumpul"}),n.jsx("div",{className:"font-bold text-emerald-600 dark:text-emerald-400",children:p(v.current_amount)})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:"Target"}),n.jsx("div",{className:"font-semibold text-gray-700 dark:text-gray-300",children:p(v.target_amount)})]})]}),n.jsxs(C.button,{whileTap:{scale:.97},onClick:()=>y(v),className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 hover:from-emerald-700 hover:to-teal-700 text-white py-3 px-6 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2",children:[n.jsx(eu,{className:"w-5 h-5"}),"Donasi Sekarang"]})]})]},v.id)})})]}),n.jsx("div",{className:"h-20"})]}),c&&i&&n.jsx(R4,{campaign:i,session:t,onClose:()=>{d(!1),l(null)},onSuccess:()=>{d(!1),l(null),m()}})]})}function D4({session:t,currentProfile:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(e?.name||""),[d,h]=P.useState(e?.username||""),[m,p]=P.useState(e?.phone||""),[g,y]=P.useState(e?.address||""),[v,w]=P.useState(e?.mosque||""),[k,N]=P.useState(!1),[_,T]=P.useState(""),[S,j]=P.useState(e?.avatar_url||""),[D,$]=P.useState(null),[B,L]=P.useState(!1),O=P.useRef(null),H=tt(),se=J=>{const be=J.target.files?.[0];if(!be)return;if(!be.type.startsWith("image/")){T("File harus berupa gambar");return}if(be.size>5*1024*1024){T("Ukuran file maksimal 5MB");return}$(be);const Pe=new FileReader;Pe.onloadend=()=>{const ge=Pe.result;j(ge)},Pe.readAsDataURL(be)},he=async()=>{if(!D)return null;L(!0),T("");try{const J=`${t.user.id}-${Date.now()}`,{data:be,error:Pe}=await H.storage.from("avatars").upload(J,D,{upsert:!0});if(Pe)throw Pe;const{data:{publicUrl:ge}}=H.storage.from("avatars").getPublicUrl(J);return Z.success("Foto profil berhasil diupdate!"),j(ge),$(null),ge}catch(J){return console.error("Error uploading avatar:",J),T("Gagal mengupload foto. Silakan coba lagi."),null}finally{L(!1)}},je=async J=>{if(J.preventDefault(),T(""),!l.trim()){T("Nama wajib diisi");return}if(d&&!/^[a-zA-Z0-9_]+$/.test(d)){T("Username hanya boleh mengandung huruf, angka, dan underscore");return}N(!0);try{let be=S;if(D){const ge=await he();if(ge)be=ge;else{N(!1);return}}const{error:Pe}=await H.from("profiles").update({name:l,username:d,phone:m,address:g,mosque:v,avatar_url:be}).eq("id",t.user.id);if(Pe)throw Pe;Z.success("Profil berhasil diperbarui!"),i()}catch(be){console.error("Error updating profile:",be),T("Gagal memperbarui profil. Silakan coba lagi.")}finally{N(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:n.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl dark:text-white",children:"Edit Profil"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full transition-colors",children:n.jsx($t,{className:"w-5 h-5 dark:text-white"})})]}),_&&n.jsx("div",{className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 text-red-600 dark:text-red-400 px-4 py-3 rounded-lg mb-4",children:_}),n.jsxs("form",{onSubmit:je,className:"space-y-4",children:[n.jsxs("div",{className:"flex flex-col items-center mb-6",children:[n.jsxs("div",{className:"relative mb-3",children:[n.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden bg-gradient-to-br from-emerald-400 to-teal-600 flex items-center justify-center",children:S?n.jsx("img",{src:S,alt:"Avatar",className:"w-full h-full object-cover"}):n.jsx(mr,{className:"w-12 h-12 text-white"})}),n.jsx("button",{type:"button",onClick:()=>O.current?.click(),className:"absolute bottom-0 right-0 p-2 bg-emerald-600 text-white rounded-full hover:bg-emerald-700 transition-colors shadow-lg",children:n.jsx(Bb,{className:"w-4 h-4"})})]}),n.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:se,className:"hidden"}),D&&n.jsxs("button",{type:"button",onClick:he,disabled:B,className:"flex items-center gap-2 px-4 py-2 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-gray-400 text-sm",children:[n.jsx(fg,{className:"w-4 h-4"}),B?"Mengupload...":"Upload Foto"]}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-2 text-center",children:["Klik ikon kamera untuk mengganti foto profil",n.jsx("br",{}),"(Max 5MB, format: JPG, PNG)"]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-2 dark:text-gray-300",children:[n.jsx(mr,{className:"w-4 h-4 inline mr-2"}),"Nama Lengkap *"]}),n.jsx("input",{type:"text",value:l,onChange:J=>c(J.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Masukkan nama lengkap",required:!0})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-2 dark:text-gray-300",children:[n.jsx(Pb,{className:"w-4 h-4 inline mr-2"}),"Username"]}),n.jsx("input",{type:"text",value:d,onChange:J=>h(J.target.value.toLowerCase()),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"contoh: ahmad_123"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Username untuk dicari oleh pengguna lain"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-2 dark:text-gray-300",children:[n.jsx(ca,{className:"w-4 h-4 inline mr-2"}),"Nomor Telepon"]}),n.jsx("input",{type:"tel",value:m,onChange:J=>p(J.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"08xx xxxx xxxx"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-2 dark:text-gray-300",children:[n.jsx(cg,{className:"w-4 h-4 inline mr-2"}),"Masjid"]}),n.jsx("input",{type:"text",value:v,onChange:J=>w(J.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Contoh: Masjid Al-Ikhlas"})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm mb-2 dark:text-gray-300",children:[n.jsx(_l,{className:"w-4 h-4 inline mr-2"}),"Alamat"]}),n.jsx("textarea",{value:g,onChange:J=>y(J.target.value),className:"w-full px-4 py-3 border border-gray-200 dark:border-gray-600 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent dark:bg-gray-700 dark:text-white",placeholder:"Masukkan alamat lengkap",rows:3})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-3 border border-gray-200 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-lg hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",disabled:k,children:"Batal"}),n.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-emerald-600 text-white rounded-lg hover:bg-emerald-700 transition-colors disabled:bg-gray-400",disabled:k,children:k?"Menyimpan...":"Simpan"})]})]})]})})})}function O4({isOpen:t,onClose:e}){const s=[{name:"Subuh",time:"04:45",hour:4,minute:45},{name:"Dzuhur",time:"12:00",hour:12,minute:0},{name:"Ashar",time:"15:15",hour:15,minute:15},{name:"Maghrib",time:"18:05",hour:18,minute:5},{name:"Isya",time:"19:20",hour:19,minute:20}],[i,l]=P.useState([]);P.useEffect(()=>{t&&c()},[t]);const c=()=>{const p=localStorage.getItem("jamaah_prayer_times");l(p?JSON.parse(p):s)},d=(p,g)=>{const[y,v]=g.split(":"),w=parseInt(y),k=parseInt(v),N=[...i];N[p]={...N[p],time:g,hour:w,minute:k},l(N)},h=()=>{localStorage.setItem("jamaah_prayer_times",JSON.stringify(i)),window.dispatchEvent(new Event("prayerTimesUpdated")),e()},m=()=>{l(s)};return t?n.jsx(sr,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2,ease:"easeOut"},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),n.jsxs(C.div,{initial:{opacity:0,scale:.9,y:30},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:30},transition:{type:"spring",stiffness:400,damping:30,mass:.8},className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-hidden border border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"bg-gradient-to-r from-emerald-600 to-teal-600 p-6 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center",children:n.jsx(as,{className:"w-5 h-5"})}),n.jsx("h2",{className:"text-2xl font-bold",children:"Pengaturan Waktu Sholat"})]}),n.jsx(C.button,{whileTap:{scale:.9},onClick:e,className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center hover:bg-white/30 transition-colors",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-white/80 text-sm",children:"Sesuaikan jadwal sholat dengan lokasi Anda"})]}),n.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-250px)]",children:[n.jsx("div",{className:"space-y-4",children:i.map((p,g)=>n.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:g*.1},className:"bg-gradient-to-r from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-2xl p-4 border border-emerald-200 dark:border-emerald-700/50",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("label",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:p.name}),n.jsx("input",{type:"time",value:p.time,onChange:y=>d(g,y.target.value),className:"bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-xl px-4 py-2 text-sm font-mono font-semibold text-gray-900 dark:text-white focus:ring-2 focus:ring-emerald-500 focus:border-emerald-500 outline-none transition-all"})]})},p.name))}),n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"mt-6 bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4 border border-blue-200 dark:border-blue-700/50",children:n.jsxs("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:[" ",n.jsx("strong",{children:"Tips:"})," Waktu sholat akan otomatis tersimpan dan ditampilkan di halaman utama. Pastikan waktu sesuai dengan lokasi Anda."]})})]}),n.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-gray-900/50 border-t border-gray-200 dark:border-gray-700 flex gap-3",children:[n.jsxs(C.button,{whileTap:{scale:.97},onClick:m,className:"flex-1 bg-white dark:bg-gray-700 text-gray-700 dark:text-gray-200 px-6 py-3 rounded-xl font-semibold border border-gray-300 dark:border-gray-600 hover:bg-gray-50 dark:hover:bg-gray-600 transition-all flex items-center justify-center gap-2",children:[n.jsx(Ww,{className:"w-4 h-4"}),"Reset Default"]}),n.jsxs(C.button,{whileTap:{scale:.97},onClick:h,className:"flex-1 bg-gradient-to-r from-emerald-600 to-teal-600 text-white px-6 py-3 rounded-xl font-semibold hover:from-emerald-700 hover:to-teal-700 transition-all flex items-center justify-center gap-2 shadow-lg",children:[n.jsx(qw,{className:"w-4 h-4"}),"Simpan"]})]})]})]})}):null}const Qd=tt();function M4({isOpen:t,onClose:e}){const[s,i]=P.useState(""),[l,c]=P.useState(""),[d,h]=P.useState(""),[m,p]=P.useState(!1),[g,y]=P.useState(!1),[v,w]=P.useState(!1),[k,N]=P.useState(!1),[_,T]=P.useState(""),[S,j]=P.useState(!1);if(!t)return null;const D=async L=>{if(L.preventDefault(),N(!0),T(""),j(!1),l.length<6){T("Password baru minimal 6 karakter"),N(!1);return}if(l!==d){T("Password baru dan konfirmasi tidak cocok"),N(!1);return}try{const{data:{user:O}}=await Qd.auth.getUser();if(!O)throw new Error("User tidak ditemukan");const{error:H}=await Qd.auth.signInWithPassword({email:O.email,password:s});if(H)throw new Error("Password lama tidak sesuai");const{error:se}=await Qd.auth.updateUser({password:l});if(se)throw se;j(!0),setTimeout(()=>{e()},2e3)}catch(O){T(O.message||"Gagal mengubah password")}finally{N(!1)}},B=(L=>{if(L.length===0)return{strength:0,label:"",color:""};if(L.length<6)return{strength:1,label:"Lemah",color:"bg-red-500"};if(L.length<8)return{strength:2,label:"Sedang",color:"bg-yellow-500"};const O=/[A-Z]/.test(L),H=/[a-z]/.test(L),se=/[0-9]/.test(L),he=/[!@#$%^&*(),.?":{}|<>]/.test(L);return[O,H,se,he].filter(Boolean).length>=3?{strength:3,label:"Kuat",color:"bg-green-500"}:{strength:2,label:"Sedang",color:"bg-yellow-500"}})(l);return n.jsx(sr,{children:n.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4",children:[n.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:e,className:"absolute inset-0 bg-black/60 backdrop-blur-sm"}),n.jsxs(C.div,{initial:{opacity:0,scale:.95,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.95,y:20},className:"relative bg-white dark:bg-gray-800 rounded-3xl shadow-2xl w-full max-w-md max-h-[90vh] overflow-y-auto",children:[n.jsx("div",{className:"sticky top-0 z-10 bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white rounded-t-3xl",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center",children:n.jsx(ra,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Ubah Password"}),n.jsx("p",{className:"text-white/80 text-sm",children:"Perbarui password Anda"})]})]}),n.jsx(C.button,{whileTap:{scale:.9},onClick:e,className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center",children:n.jsx($t,{className:"w-5 h-5"})})]})}),n.jsx("div",{className:"p-6",children:S?n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},className:"text-center py-8",children:[n.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Bs,{className:"w-10 h-10 text-green-600 dark:text-green-400"})}),n.jsx("h3",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Berhasil!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Password Anda telah berhasil diubah"})]}):n.jsxs("form",{onSubmit:D,className:"space-y-5",children:[_&&n.jsxs(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/30 border border-red-200 dark:border-red-700 rounded-2xl p-4 flex items-start gap-3",children:[n.jsx(ha,{className:"w-5 h-5 text-red-600 dark:text-red-400 flex-shrink-0 mt-0.5"}),n.jsx("p",{className:"text-sm text-red-700 dark:text-red-300",children:_})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password Lama ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:m?"text":"password",value:s,onChange:L=>i(L.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Masukkan password lama",required:!0}),n.jsx("button",{type:"button",onClick:()=>p(!m),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:m?n.jsx(kd,{className:"w-5 h-5"}):n.jsx(ci,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Password Baru ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:g?"text":"password",value:l,onChange:L=>c(L.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Minimal 6 karakter",required:!0,minLength:6}),n.jsx("button",{type:"button",onClick:()=>y(!g),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:g?n.jsx(kd,{className:"w-5 h-5"}):n.jsx(ci,{className:"w-5 h-5"})})]}),l&&n.jsxs("div",{className:"mt-2",children:[n.jsx("div",{className:"flex gap-1 mb-1",children:[1,2,3].map(L=>n.jsx("div",{className:`h-1 flex-1 rounded-full transition-colors ${L<=B.strength?B.color:"bg-gray-200 dark:bg-gray-600"}`},L))}),n.jsxs("p",{className:`text-xs ${B.strength===3?"text-green-600 dark:text-green-400":B.strength===2?"text-yellow-600 dark:text-yellow-400":"text-red-600 dark:text-red-400"}`,children:["Kekuatan Password: ",B.label]})]})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-2",children:["Konfirmasi Password Baru ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:v?"text":"password",value:d,onChange:L=>h(L.target.value),className:"w-full pl-10 pr-12 py-3 border border-gray-300 dark:border-gray-600 rounded-xl focus:ring-2 focus:ring-purple-500 focus:border-transparent bg-white dark:bg-gray-700 text-gray-900 dark:text-white",placeholder:"Ulangi password baru",required:!0}),n.jsx("button",{type:"button",onClick:()=>w(!v),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:v?n.jsx(kd,{className:"w-5 h-5"}):n.jsx(ci,{className:"w-5 h-5"})})]}),d&&l!==d&&n.jsx("p",{className:"text-xs text-red-600 dark:text-red-400 mt-1",children:"Password tidak cocok"})]}),n.jsxs("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-2xl p-4",children:[n.jsx("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:n.jsx("strong",{children:"Tips keamanan:"})}),n.jsxs("ul",{className:"text-sm text-blue-600 dark:text-blue-400 mt-2 space-y-1 list-disc list-inside",children:[n.jsx("li",{children:"Gunakan minimal 8 karakter"}),n.jsx("li",{children:"Kombinasikan huruf besar & kecil"}),n.jsx("li",{children:"Tambahkan angka dan simbol"}),n.jsx("li",{children:"Jangan gunakan informasi pribadi"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-2",children:[n.jsx(C.button,{whileTap:{scale:.95},type:"button",onClick:e,className:"flex-1 px-6 py-3 border border-gray-300 dark:border-gray-600 text-gray-700 dark:text-gray-300 rounded-xl hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Batal"}),n.jsx(C.button,{whileTap:{scale:.95},type:"submit",disabled:k||l!==d||l.length<6,className:"flex-1 px-6 py-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-xl hover:from-purple-700 hover:to-pink-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed shadow-lg",children:k?"Menyimpan...":"Ubah Password"})]})]})})]})]})})}function L4({session:t,onNavigate:e,onLogout:s,darkMode:i,onToggleDarkMode:l}){const[c,d]=P.useState(null),[h,m]=P.useState(!1),[p,g]=P.useState(!1),[y,v]=P.useState(!1),[w,k]=P.useState(!1),[N,_]=P.useState([]),[T,S]=P.useState([]),[j,D]=P.useState("posts"),$=tt();P.useEffect(()=>{t&&(B(),L(),j==="market"&&O())},[t,j]);const B=async()=>{try{const{data:J,error:be}=await $.from("profiles").select("*").eq("id",t.user.id).single();if(be)throw be;d(J)}catch(J){console.error("Error fetching profile:",J)}},L=async()=>{try{if(!t)return;const{data:J,error:be}=await $.from("timeline_posts").select("*").eq("user_id",t.user.id).order("created_at",{ascending:!1});if(be)throw be;if(J){const Pe=J.map(ge=>({...ge,image:ge.image_url||ge.image}));_(Pe)}}catch(J){console.error("Error fetching user posts:",J)}},O=async()=>{try{if(!t)return;const{data:J,error:be}=await $.from("products").select("*").eq("user_id",t.user.id).order("created_at",{ascending:!1});if(be)throw be;J&&S(J)}catch(J){console.error("Error fetching user products:",J)}},H=J=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(J);if(!t)return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50/20 to-pink-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950 flex items-center justify-center p-6",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-purple-600 dark:text-purple-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"relative bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-8 shadow-2xl border border-gray-100 dark:border-gray-700/50 text-center max-w-md w-full",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center mx-auto mb-4 shadow-xl",children:n.jsx(mr,{className:"w-10 h-10 text-white"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2 dark:text-white",children:"Selamat Datang"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Daftar atau masuk untuk mengakses fitur lengkap jamaah.net"}),n.jsx(C.button,{whileTap:{scale:.97},onClick:()=>e("auth"),className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all",children:"Daftar / Masuk"})]})]});const se=0,he=N.length,je=N.reduce((J,be)=>J+(be.likes?.length||0),0);return n.jsxs("div",{className:"min-h-screen bg-white dark:bg-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-purple-600 dark:text-purple-400 opacity-[0.015]"})}),n.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative z-20 bg-white dark:bg-gray-900 border-b border-gray-200 dark:border-gray-800 px-6 py-4",children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h1",{className:"text-xl font-bold dark:text-white",children:c?.name||t.user.email}),n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>k(!0),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:n.jsx(Iw,{className:"w-6 h-6 dark:text-white"})})]})}),n.jsxs("div",{className:"relative z-10 px-6 pt-6",children:[n.jsxs("div",{className:"flex items-center gap-6 mb-6",children:[n.jsx(C.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",stiffness:200},className:"relative",children:n.jsx("div",{className:"w-24 h-24 rounded-full overflow-hidden border-4 border-gradient-to-br from-purple-500 to-pink-500 p-0.5 bg-gradient-to-br from-purple-500 to-pink-500",children:n.jsx("div",{className:"w-full h-full rounded-full overflow-hidden bg-white dark:bg-gray-900",children:c?.avatar_url?n.jsx("img",{src:c.avatar_url,alt:c.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900 dark:to-pink-900 flex items-center justify-center",children:n.jsx(mr,{className:"w-12 h-12 text-purple-600 dark:text-purple-400"})})})})}),n.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.1},className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold dark:text-white",children:he}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Postingan"})]}),n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.15},className:"text-center cursor-pointer",onClick:()=>e("connections"),children:[n.jsx("div",{className:"text-xl font-bold dark:text-white",children:se}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Koneksi"})]}),n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.2},className:"text-center",children:[n.jsx("div",{className:"text-xl font-bold dark:text-white",children:je}),n.jsx("div",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Likes"})]})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.25},className:"mb-4",children:[n.jsx("h2",{className:"font-semibold dark:text-white mb-1",children:c?.name}),c?.bio&&n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 mb-2",children:c.bio}),c?.mosque&&n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx(Ol,{className:"w-4 h-4"}),n.jsx("span",{children:c.mosque})]}),c?.role&&n.jsxs("div",{className:"mt-2 inline-flex items-center gap-1 px-3 py-1 bg-gradient-to-r from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full text-xs font-semibold text-purple-700 dark:text-purple-300",children:[n.jsx(bn,{className:"w-3 h-3"}),c.role]})]}),t?.user?.user_metadata?.memberId&&n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.28},className:"mb-4 bg-gradient-to-br from-emerald-500 via-teal-500 to-cyan-500 rounded-2xl p-4 shadow-lg relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx(We,{className:"text-white"})}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-md p-2 rounded-lg",children:n.jsx(Xb,{className:"w-4 h-4 text-white"})}),n.jsx("span",{className:"text-white/90 text-xs font-semibold",children:"ID Member"})]}),n.jsx("div",{className:"text-white/80 text-[10px] font-medium",children:t.user.user_metadata.joinedAt?new Date(t.user.user_metadata.joinedAt).toLocaleDateString("id-ID",{year:"numeric",month:"short"}):"Jamaah.net"})]}),n.jsx("div",{className:"bg-white/20 backdrop-blur-md rounded-xl p-3 border border-white/30",children:n.jsx("div",{className:"font-mono text-2xl font-bold text-white tracking-wider text-center",children:t.user.user_metadata.memberId})}),n.jsxs("div",{className:"mt-2 flex items-center justify-between",children:[n.jsx("span",{className:"text-white/80 text-xs",children:c?.name||t.user.email}),n.jsx("div",{className:"bg-white/20 backdrop-blur-sm px-2 py-0.5 rounded-full",children:n.jsx("span",{className:"text-white text-[10px] font-semibold",children:"VERIFIED"})})]})]})]}),n.jsx(C.button,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},whileTap:{scale:.98},onClick:()=>m(!0),className:"w-full bg-gray-100 dark:bg-gray-800 text-gray-900 dark:text-white py-2 rounded-xl font-semibold text-sm mb-6 hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Edit Profil"}),n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.35},className:"border-t border-gray-200 dark:border-gray-800 flex",children:[n.jsx("button",{onClick:()=>D("posts"),className:`flex-1 py-3 flex items-center justify-center gap-2 border-t-2 transition-colors ${j==="posts"?"border-gray-900 dark:border-white text-gray-900 dark:text-white":"border-transparent text-gray-400 dark:text-gray-500"}`,children:n.jsx(h0,{className:"w-5 h-5"})}),n.jsx("button",{onClick:()=>D("market"),className:`flex-1 py-3 flex items-center justify-center gap-2 border-t-2 transition-colors ${j==="market"?"border-gray-900 dark:border-white text-gray-900 dark:text-white":"border-transparent text-gray-400 dark:text-gray-500"}`,children:n.jsx(vn,{className:"w-5 h-5"})})]})]}),n.jsxs("div",{className:"relative z-10 px-6 pb-24",children:[j==="posts"&&n.jsx(n.Fragment,{children:N.length===0?n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"text-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(h0,{className:"w-10 h-10 text-gray-400 dark:text-gray-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Belum ada postingan"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mulai berbagi kegiatan ibadah Anda"})]}):n.jsx("div",{className:"grid grid-cols-3 gap-1 mt-1",children:N.map((J,be)=>n.jsx(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+be*.05},onClick:()=>e("timeline-detail",J),className:"aspect-square cursor-pointer group relative overflow-hidden bg-gray-100 dark:bg-gray-800",children:J.image?n.jsxs(n.Fragment,{children:[n.jsx("img",{src:J.image,alt:J.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}),n.jsxs("div",{className:"absolute inset-0 bg-black/50 opacity-0 group-hover:opacity-100 transition-opacity flex items-center justify-center gap-4",children:[n.jsxs("div",{className:"flex items-center gap-1 text-white",children:[n.jsx(Ai,{className:"w-5 h-5",fill:"white"}),n.jsx("span",{className:"font-semibold",children:J.likes?.length||0})]}),n.jsxs("div",{className:"flex items-center gap-1 text-white",children:[n.jsx(Lt,{className:"w-5 h-5",fill:"white"}),n.jsx("span",{className:"font-semibold",children:J.comments?.length||0})]})]})]}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 flex items-center justify-center p-3",children:n.jsx("p",{className:"text-xs font-semibold text-gray-700 dark:text-gray-300 line-clamp-4 text-center",children:J.title})})},J.id))})}),j==="market"&&n.jsx(n.Fragment,{children:T.length===0?n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.4},className:"text-center py-16",children:[n.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(vn,{className:"w-10 h-10 text-gray-400 dark:text-gray-600"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Belum ada produk yang dijual"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Mulai berjualan di Pasar Jamaah!"})]}):n.jsx("div",{className:"grid grid-cols-2 gap-3 mt-3",children:T.map((J,be)=>n.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.4+be*.05},onClick:()=>e("product-detail",J),className:"cursor-pointer group relative overflow-hidden bg-white dark:bg-gray-800 rounded-2xl shadow-md",children:[n.jsxs("div",{className:"aspect-square overflow-hidden bg-gray-100 dark:bg-gray-700 relative",children:[J.images&&J.images.length>0?n.jsx("img",{src:J.images[0],alt:J.name,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"}):n.jsx("div",{className:"w-full h-full bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 flex items-center justify-center",children:n.jsx(vn,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),n.jsx("div",{className:"absolute top-2 right-2",children:J.status==="approved"?n.jsx("div",{className:"bg-green-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg",children:"LIVE"}):J.status==="pending"?n.jsx("div",{className:"bg-yellow-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg",children:"PENDING"}):n.jsx("div",{className:"bg-red-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg",children:"REJECTED"})})]}),n.jsxs("div",{className:"p-3",children:[n.jsx("h3",{className:"font-semibold text-sm text-gray-900 dark:text-white line-clamp-2 mb-1",children:J.name}),n.jsx("p",{className:"text-emerald-600 dark:text-emerald-400 font-bold text-sm",children:H(J.price)})]})]},J.id))})})]}),n.jsx(sr,{children:w&&n.jsxs(n.Fragment,{children:[n.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},onClick:()=>k(!1),className:"fixed inset-0 bg-black/60 backdrop-blur-sm z-40"}),n.jsxs(C.div,{initial:{x:"100%"},animate:{x:0},exit:{x:"100%"},transition:{type:"spring",stiffness:300,damping:30},className:"fixed top-0 right-0 bottom-0 w-full max-w-sm bg-white dark:bg-gray-900 z-50 shadow-2xl overflow-y-auto",children:[n.jsxs("div",{className:"bg-gradient-to-r from-purple-600 to-pink-600 p-6 text-white",children:[n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx("h2",{className:"text-2xl font-bold",children:"Pengaturan"}),n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>k(!1),className:"w-10 h-10 bg-white/20 backdrop-blur-md rounded-xl flex items-center justify-center",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-white/80 text-sm",children:"Kelola akun dan preferensi Anda"})]}),n.jsxs("div",{className:"p-4 space-y-2",children:[n.jsx(C.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.1},className:"bg-gray-50 dark:bg-gray-800 rounded-2xl p-4",children:n.jsxs("button",{onClick:l,className:"w-full flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"bg-gradient-to-br from-purple-500 to-pink-500 p-3 rounded-xl",children:i?n.jsx(tu,{className:"w-5 h-5 text-white"}):n.jsx(ii,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"text-left",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:"Mode Gelap"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:i?"Aktif":"Nonaktif"})]})]}),n.jsx("div",{className:`w-12 h-6 rounded-full transition-colors ${i?"bg-purple-600":"bg-gray-300"} relative`,children:n.jsx("div",{className:`absolute top-0.5 left-0.5 w-5 h-5 bg-white rounded-full transition-transform ${i?"translate-x-6":""}`})})]})}),n.jsx(Ls,{icon:as,title:"Waktu Sholat",subtitle:"Atur jadwal sholat",gradient:"from-emerald-500 to-teal-500",onClick:()=>{k(!1),g(!0)},delay:.15}),n.jsx(Ls,{icon:er,title:"Koneksi",subtitle:"Kelola koneksi Anda",gradient:"from-blue-500 to-indigo-500",onClick:()=>{k(!1),e("connections")},delay:.2}),n.jsx(Ls,{icon:wk,title:"Dompet Digital",subtitle:H(c?.wallet_balance||0),gradient:"from-green-500 to-emerald-500",onClick:()=>{k(!1)},delay:.25}),n.jsx(Ls,{icon:hw,title:"Histori Transaksi",subtitle:"Riwayat transaksi",gradient:"from-orange-500 to-red-500",onClick:()=>{k(!1)},delay:.3}),n.jsx(Ls,{icon:ra,title:"Ganti Password",subtitle:"Ubah password Anda",gradient:"from-red-500 to-pink-500",onClick:()=>{k(!1),v(!0)},delay:.35}),n.jsx(Ls,{icon:ca,title:"Hubungi Kami",subtitle:"Bantuan & dukungan",gradient:"from-violet-500 to-purple-500",onClick:()=>{k(!1),e("contact")},delay:.4}),n.jsx(Ls,{icon:yw,title:"Tentang Jamaah.net",subtitle:"Visi & misi komunitas",gradient:"from-teal-500 to-cyan-500",onClick:()=>{k(!1),e("about")},delay:.45}),c?.role==="Admin"&&n.jsx(Ls,{icon:hl,title:"Admin Dashboard",subtitle:"Kelola platform jamaah.net",gradient:"from-amber-500 to-orange-500",onClick:()=>{k(!1),e("admin-dashboard")},delay:.5,isHighlighted:!0}),n.jsxs(C.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:c?.role==="Admin"?.55:.5},whileTap:{scale:.98},onClick:s,className:"w-full bg-red-50 dark:bg-red-900/20 rounded-2xl p-4 flex items-center gap-3 border-2 border-red-200 dark:border-red-800",children:[n.jsx("div",{className:"bg-gradient-to-br from-red-500 to-pink-500 p-3 rounded-xl",children:n.jsx(Cw,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"text-left flex-1",children:[n.jsx("h3",{className:"font-semibold text-red-600 dark:text-red-400",children:"Keluar"}),n.jsx("p",{className:"text-xs text-red-500 dark:text-red-400/80",children:"Logout dari akun"})]}),n.jsx(zs,{className:"w-5 h-5 text-red-400"})]})]})]})]})}),h&&n.jsx(D4,{session:t,currentProfile:c,onClose:()=>m(!1),onSuccess:()=>{m(!1),B()}}),p&&n.jsx(O4,{isOpen:p,onClose:()=>g(!1)}),y&&n.jsx(M4,{isOpen:y,onClose:()=>v(!1)}),n.jsxs(C.button,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},transition:{delay:.5,type:"spring",stiffness:200},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:()=>e("chat-list"),className:"fixed bottom-24 right-6 z-30 group","aria-label":"Kotak Masuk",children:[n.jsx("div",{className:"absolute right-full mr-3 top-1/2 -translate-y-1/2 opacity-0 group-hover:opacity-100 transition-opacity pointer-events-none",children:n.jsxs("div",{className:"bg-gray-900 text-white text-xs font-semibold px-3 py-2 rounded-lg whitespace-nowrap shadow-xl",children:["Kotak Masuk",n.jsx("div",{className:"absolute right-0 top-1/2 -translate-y-1/2 translate-x-1 w-2 h-2 bg-gray-900 rotate-45"})]})}),n.jsxs("div",{className:"relative w-14 h-14 bg-gradient-to-br from-cyan-500 to-blue-600 hover:from-cyan-600 hover:to-blue-700 rounded-full shadow-2xl flex items-center justify-center border-4 border-white dark:border-gray-900 transition-all",children:[n.jsx(Mw,{className:"w-6 h-6 text-white"}),n.jsx("div",{className:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 rounded-full flex items-center justify-center border-2 border-white dark:border-gray-900 shadow-lg",children:n.jsx("span",{className:"text-[10px] font-bold text-white",children:"3"})})]}),n.jsx("span",{className:"absolute inset-0 rounded-full bg-cyan-500 opacity-0 group-hover:opacity-20 group-hover:animate-ping"})]})]})}function Ls({icon:t,title:e,subtitle:s,gradient:i,onClick:l,delay:c,isHighlighted:d=!1}){return n.jsxs(C.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:c},whileTap:{scale:.98},onClick:l,className:`relative w-full bg-gray-50 dark:bg-gray-800 rounded-2xl p-4 flex items-center gap-3 hover:bg-gray-100 dark:hover:bg-gray-700 transition-colors ${d?"ring-2 ring-amber-500 ring-offset-2 dark:ring-offset-gray-900 bg-gradient-to-r from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20":""}`,children:[d&&n.jsx("div",{className:"absolute -top-2 -right-2 z-10",children:n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 bg-amber-500 rounded-full animate-ping opacity-75"}),n.jsx("div",{className:"relative bg-gradient-to-br from-amber-500 to-orange-500 text-white text-[10px] font-bold px-2 py-1 rounded-full shadow-lg",children:"ADMIN"})]})}),n.jsx("div",{className:`bg-gradient-to-br ${i} p-3 rounded-xl ${d?"shadow-lg shadow-amber-500/50":""}`,children:n.jsx(t,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{className:"text-left flex-1",children:[n.jsx("h3",{className:`font-semibold ${d?"text-amber-700 dark:text-amber-400":"text-gray-900 dark:text-white"}`,children:e}),n.jsx("p",{className:`text-xs ${d?"text-amber-600 dark:text-amber-500":"text-gray-500 dark:text-gray-400"}`,children:s})]}),n.jsx(zs,{className:`w-5 h-5 ${d?"text-amber-500":"text-gray-400 dark:text-gray-500"}`})]})}const ni=tt();function $4({onSuccess:t,onSignupSuccess:e,onBack:s}){const[i,l]=P.useState(!0),[c,d]=P.useState(""),[h,m]=P.useState(""),[p,g]=P.useState(""),[y,v]=P.useState(""),[w,k]=P.useState(""),[N,_]=P.useState(!1),[T,S]=P.useState(""),j=O=>(O.replace(/\D/g,""),O.startsWith("+62")?/^\+62\d{9,12}$/.test(O):O.startsWith("62")?/^62\d{9,12}$/.test(O):O.startsWith("08")?/^08\d{8,11}$/.test(O):!1),D=O=>{const H=O.replace(/[^\d+\s]/g,"");v(H)},$=async()=>{try{S("");const{data:O,error:H}=await ni.auth.signInWithOAuth({provider:"google"});H&&S(H.message)}catch(O){S(O.message||"Gagal login dengan Google")}},B=async O=>{if(O.preventDefault(),_(!0),S(""),!j(y)){S("Format nomor HP tidak valid. Gunakan format: 08xxxxxxxxxx, 628xxxxxxxxxx, atau +628xxxxxxxxxx"),_(!1);return}try{const{data:H,error:se}=await ni.auth.signUp({email:c,password:h,options:{data:{name:p,phone:y,invitationCode:w}}});if(se)throw se;e(),d(""),g(""),v(""),k(""),m("")}catch(H){S(H.message||"Gagal mendaftar")}finally{_(!1)}},L=async O=>{O.preventDefault(),_(!0),S("");try{const{data:H,error:se}=await ni.auth.signInWithPassword({email:c,password:h});if(se)throw se;if(H.user){const{data:he,error:je}=await ni.from("profiles").select("status").eq("id",H.user.id).single();if(je&&console.error("Error fetching profile status:",je),he&&he.status==="Pending")throw await ni.auth.signOut(),new Error("Akun Anda masih menunggu persetujuan Admin.")}t()}catch(H){S(H.message||"Gagal masuk")}finally{_(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 p-6",children:[n.jsx("button",{onClick:s,className:"mb-4",children:n.jsx(rr,{className:"w-6 h-6 text-gray-700"})}),n.jsx("h1",{className:"text-2xl",children:i?"Daftar & Bergabung":"Masuk"}),n.jsx("p",{className:"text-gray-600 text-sm",children:i?"Bergabung dengan komunitas jamaah.net":"Masuk ke akun Anda"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("form",{onSubmit:i?B:L,className:"space-y-4",children:[T&&n.jsx("div",{className:"bg-red-50 border border-red-200 text-red-700 px-4 py-3 rounded-lg text-sm",children:T}),i&&n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Nama Lengkap"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:p,onChange:O=>g(O.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Masukkan nama lengkap",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Email"}),n.jsxs("div",{className:"relative",children:[n.jsx(Vu,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"email",value:c,onChange:O=>d(O.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"nama@email.com",required:!0})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm text-gray-700 mb-2",children:"Password"}),n.jsxs("div",{className:"relative",children:[n.jsx(ra,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"password",value:h,onChange:O=>m(O.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"Masukkan password Anda",required:!0,minLength:6})]})]}),i&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Nomor Telepon ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ca,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"tel",value:y,onChange:O=>D(O.target.value),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent",placeholder:"081234567890 atau +6281234567890",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Format: 08xxxxxxxxxx, 628xxxxxxxxxx, atau +628xxxxxxxxxx"})]}),i&&n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm text-gray-700 mb-2",children:["Kode Undangan ",n.jsx("span",{className:"text-red-500",children:"*"})]}),n.jsxs("div",{className:"relative",children:[n.jsx(ww,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",value:w,onChange:O=>k(O.target.value.toUpperCase()),className:"w-full pl-10 pr-4 py-3 border border-gray-300 rounded-lg focus:ring-2 focus:ring-emerald-500 focus:border-transparent uppercase",placeholder:"MASJID2024",required:!0})]}),n.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hubungi pengurus masjid untuk mendapatkan kode undangan"})]}),n.jsx("button",{type:"submit",disabled:N,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:N?"Memproses...":i?"Daftar":"Masuk"}),n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"absolute inset-0 flex items-center",children:n.jsx("div",{className:"w-full border-t border-gray-300"})}),n.jsx("div",{className:"relative flex justify-center text-sm",children:n.jsx("span",{className:"px-2 bg-gray-50 text-gray-500",children:"atau"})})]}),n.jsxs("button",{type:"button",onClick:$,className:"w-full bg-white border border-gray-300 text-gray-700 py-3 rounded-lg hover:bg-gray-50 transition-colors flex items-center justify-center gap-2",children:[n.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[n.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),n.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),n.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),n.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Lanjutkan dengan Google"]})]}),n.jsx("div",{className:"mt-6 text-center text-sm",children:i?n.jsxs(n.Fragment,{children:["Sudah punya akun?"," ",n.jsx("button",{onClick:()=>l(!1),className:"text-emerald-600 hover:underline",children:"Masuk di sini"})]}):n.jsxs(n.Fragment,{children:["Belum punya akun?"," ",n.jsx("button",{onClick:()=>l(!0),className:"text-emerald-600 hover:underline",children:"Daftar di sini"})]})}),i&&n.jsxs("div",{className:"mt-6 bg-blue-50 border border-blue-200 rounded-lg p-4 text-sm text-blue-800",children:[n.jsx("strong",{children:"Demo Kode Undangan:"}),n.jsxs("div",{className:"mt-2 space-y-1",children:[n.jsx("div",{className:"font-mono bg-white px-2 py-1 rounded",children:"MASJID2024"}),n.jsx("div",{className:"font-mono bg-white px-2 py-1 rounded",children:"JAMAAH2024"})]})]})]})]})}function U4({onNavigateToLogin:t}){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-purple-50 via-white to-pink-50 dark:from-gray-900 dark:via-gray-800 dark:to-purple-900/30",children:[n.jsx("div",{className:"fixed inset-0 opacity-5 pointer-events-none",children:n.jsx(We,{className:"text-purple-600 dark:text-purple-400"})}),n.jsx("div",{className:"relative z-10 min-h-screen flex flex-col items-center justify-center p-6",children:n.jsxs("div",{className:"w-full max-w-lg",children:[n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"text-center mb-8",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-600 to-pink-600 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-2xl",children:n.jsx(Ol,{className:"w-10 h-10 text-white"})}),n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Jamaah.net"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Platform Komunitas Muslim Digital"})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl border border-gray-200 dark:border-gray-700 overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-600 p-8 text-white text-center relative overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx(We,{className:"text-white"})}),n.jsxs(C.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.3,type:"spring",stiffness:200},className:"relative z-10",children:[n.jsx("div",{className:"w-24 h-24 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Bs,{className:"w-12 h-12"})}),n.jsx("h2",{className:"text-2xl font-bold mb-2",children:"Pendaftaran Berhasil!"}),n.jsx("p",{className:"text-white/90 text-sm",children:"Terima kasih telah mendaftar di Jamaah.net"})]})]}),n.jsxs("div",{className:"p-8 space-y-6",children:[n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-blue-50 dark:bg-blue-900/30 border-2 border-blue-200 dark:border-blue-700 rounded-2xl p-5",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-blue-100 dark:bg-blue-800 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(ha,{className:"w-6 h-6 text-blue-600 dark:text-blue-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-blue-900 dark:text-blue-100 mb-2",children:" Akun Dalam Proses Verifikasi"}),n.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200 leading-relaxed",children:"Akun Anda sedang ditinjau oleh tim admin kami. Mohon menunggu konfirmasi persetujuan."})]})]})}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-200 dark:border-purple-700 rounded-2xl p-5",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-purple-600 to-pink-600 rounded-xl flex items-center justify-center",children:n.jsx(as,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:" Office Hour Admin"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Waktu operasional tim verifikasi"})]})]}),n.jsxs("div",{className:"space-y-2 mb-4",children:[n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Senin  Jumat"})]}),n.jsx("span",{className:"text-sm font-mono font-bold text-purple-600 dark:text-purple-400",children:"08.00  17.00 WIB"})]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3 flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 text-purple-600 dark:text-purple-400"}),n.jsx("span",{className:"text-sm font-semibold text-gray-900 dark:text-white",children:"Sabtu"})]}),n.jsx("span",{className:"text-sm font-mono font-bold text-purple-600 dark:text-purple-400",children:"08.00  12.00 WIB"})]}),n.jsxs("div",{className:"bg-white/50 dark:bg-gray-800/50 rounded-xl p-3 flex items-center justify-between opacity-60",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(Tt,{className:"w-4 h-4 text-gray-500"}),n.jsx("span",{className:"text-sm font-semibold text-gray-600 dark:text-gray-400",children:"Minggu & Libur"})]}),n.jsx("span",{className:"text-sm font-bold text-gray-500",children:"Tutup"})]})]}),n.jsx("div",{className:"bg-amber-100 dark:bg-amber-900/30 border-l-4 border-amber-500 rounded-lg p-3",children:n.jsxs("p",{className:"text-xs text-amber-900 dark:text-amber-200 leading-relaxed",children:[n.jsx("strong",{children:" Penting:"})," Proses approval dan pengiriman password ",n.jsx("strong",{children:"hanya dilakukan pada jam kerja"})," di atas. Pengajuan di luar jam kerja akan diproses pada hari kerja berikutnya."]})})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"space-y-3",children:[n.jsxs("h4",{className:"font-semibold text-gray-900 dark:text-white flex items-center gap-2",children:[n.jsx(tk,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})," Notifikasi Persetujuan"]}),n.jsx("p",{className:"text-sm text-gray-700 dark:text-gray-300 leading-relaxed",children:"Setelah akun Anda disetujui, Anda akan menerima notifikasi melalui:"}),n.jsxs("div",{className:"space-y-2",children:[n.jsxs("div",{className:"flex items-start gap-3 bg-green-50 dark:bg-green-900/20 rounded-xl p-3",children:[n.jsx(Lt,{className:"w-5 h-5 text-green-600 dark:text-green-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold text-green-900 dark:text-green-100 block mb-1",children:"WhatsApp"}),n.jsx("span",{className:"text-green-800 dark:text-green-200",children:"Pesan langsung berisi ID Member dan Password Anda"})]})]}),n.jsxs("div",{className:"flex items-start gap-3 bg-blue-50 dark:bg-blue-900/20 rounded-xl p-3",children:[n.jsx(Vu,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("span",{className:"font-semibold text-blue-900 dark:text-blue-100 block mb-1",children:"Email"}),n.jsx("span",{className:"text-blue-800 dark:text-blue-200",children:"Email resmi dengan detail akun dan instruksi login"})]})]})]}),n.jsxs("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-700 rounded-xl p-4 mt-4",children:[n.jsx("p",{className:"text-sm text-emerald-800 dark:text-emerald-200",children:n.jsx("strong",{children:" Yang Akan Anda Terima:"})}),n.jsxs("ul",{className:"text-sm text-emerald-700 dark:text-emerald-300 mt-2 space-y-1.5 ml-4",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-emerald-500 mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"ID Member Unik"})," (Format: JMH-XXXXXX)"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-emerald-500 mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Password Login"})," (8 karakter aman)"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-emerald-500 mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Instruksi Login"})," & penggunaan platform"]})]})]})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-2xl p-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[n.jsx("div",{className:"w-10 h-10 bg-gray-200 dark:bg-gray-700 rounded-xl flex items-center justify-center",children:n.jsx(as,{className:"w-5 h-5 text-gray-600 dark:text-gray-400"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:" Estimasi Waktu"}),n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400",children:"Proses verifikasi"})]})]}),n.jsxs("p",{className:"text-sm text-gray-700 dark:text-gray-300",children:["Proses approval biasanya memakan waktu ",n.jsx("strong",{className:"text-purple-600 dark:text-purple-400",children:"maksimal 1x24 jam"})," pada hari kerja. Mohon bersabar dan tunggu notifikasi dari kami."]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"pt-4",children:[n.jsxs(C.button,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:t,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 hover:from-purple-700 hover:to-pink-700 text-white py-4 rounded-2xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-2 group",children:[n.jsx("span",{children:"Sudah Disetujui"}),n.jsx(Tb,{className:"w-5 h-5 group-hover:translate-x-1 transition-transform"})]}),n.jsx("p",{className:"text-center text-xs text-gray-500 dark:text-gray-400 mt-3",children:"Setelah menerima notifikasi, klik tombol di atas untuk login"})]}),n.jsxs(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:.9},className:"text-center pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2",children:"Butuh bantuan atau ada pertanyaan?"}),n.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs",children:[n.jsx("a",{href:"https://wa.me/6281234567890",target:"_blank",rel:"noopener noreferrer",className:"text-emerald-600 dark:text-emerald-400 hover:underline font-semibold",children:"Hubungi Admin via WhatsApp"}),n.jsx("span",{className:"text-gray-400",children:"atau"}),n.jsx("a",{href:"mailto:admin@jamaah.net",className:"text-blue-600 dark:text-blue-400 hover:underline font-semibold",children:"Email Kami"})]})]})]})]}),n.jsx(C.div,{initial:{opacity:0},animate:{opacity:1},transition:{delay:1},className:"text-center mt-6",children:n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Barakallahu fiikum! Kami menantikan kehadiran Anda di komunitas Jamaah.net "})})]})})]})}function B4({product:t,session:e,onBack:s,onStartChat:i}){const[l,c]=P.useState(0),[d,h]=P.useState([]),[m,p]=P.useState(0),[g,y]=P.useState(""),[v,w]=P.useState(!1),[k,N]=P.useState(!0);P.useEffect(()=>{_()},[t.id]);const _=async()=>{try{N(!0);const O=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/products/${t.id}/reviews`,{headers:{Authorization:`Bearer ${os}`}})).json();h(O)}catch(L){console.error("Error fetching reviews:",L)}finally{N(!1)}},T=async L=>{if(L.preventDefault(),!e){Z.error("Silakan login terlebih dahulu untuk memberikan ulasan");return}if(m===0){Z.error("Silakan pilih rating terlebih dahulu");return}try{w(!0);const O=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/products/${t.id}/reviews`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({rating:m,comment:g})});if(O.ok){const H=await O.json();h([H,...d]),p(0),y(""),Z.success("Ulasan berhasil dikirim!")}else{const H=await O.json();Z.error(H.error||"Gagal mengirim ulasan")}}catch(O){console.error("Error submitting review:",O),Z.error("Gagal mengirim ulasan")}finally{w(!1)}},S=async L=>{if(confirm("Apakah Anda yakin ingin menghapus ulasan ini?"))try{const O=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/products/${t.id}/reviews/${L}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.access_token}`}});if(O.ok)h(d.filter(H=>H.id!==L)),Z.success("Ulasan berhasil dihapus");else{const H=await O.json();Z.error(H.error||"Gagal menghapus ulasan")}}catch(O){console.error("Error deleting review:",O),Z.error("Gagal menghapus ulasan")}},j=d.length>0?d.reduce((L,O)=>L+O.rating,0)/d.length:0,D=L=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(L),$=()=>{if(!e){alert("Silakan login terlebih dahulu");return}alert("Fitur transaksi Rekber akan segera hadir!")},B=()=>{if(!e){alert("Silakan login terlebih dahulu");return}i(t.seller_id,t.id)};return n.jsxs("div",{className:"min-h-screen bg-gray-50",children:[n.jsxs("div",{className:"bg-white border-b border-gray-200 p-4 flex items-center gap-3 sticky top-0 z-10",children:[n.jsx("button",{onClick:s,children:n.jsx(rr,{className:"w-6 h-6 text-gray-700"})}),n.jsx("h1",{className:"text-lg",children:"Detail Produk"})]}),n.jsxs("div",{className:"bg-white",children:[n.jsxs("div",{className:"aspect-square bg-gray-100 relative",children:[n.jsx(wh,{src:t.images[l],alt:t.name,className:"w-full h-full object-cover"}),t.is_barter_allowed&&n.jsxs("div",{className:"absolute top-4 right-4 bg-orange-500 text-white px-3 py-2 rounded-full text-sm flex items-center gap-2",children:[n.jsx(og,{className:"w-4 h-4"}),"Bisa Barter"]})]}),t.images.length>1&&n.jsx("div",{className:"flex gap-2 justify-center py-3",children:t.images.map((L,O)=>n.jsx("button",{onClick:()=>c(O),className:`w-2 h-2 rounded-full transition-all ${O===l?"bg-emerald-600 w-6":"bg-gray-300"}`},O))})]}),n.jsxs("div",{className:"bg-white mt-2 p-6",children:[n.jsx("h2",{className:"text-2xl mb-2",children:t.name}),n.jsx("p",{className:"text-emerald-600 text-xl mb-4",children:D(t.price)}),n.jsxs("div",{className:"flex items-center gap-3 py-4 border-t border-b border-gray-200",children:[n.jsx("div",{className:"w-10 h-10 bg-emerald-100 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-emerald-600",children:t?.seller_name?.charAt(0)?.toUpperCase()||"J"})}),n.jsxs("div",{children:[n.jsx("div",{className:"text-sm",children:"Dijual oleh"}),n.jsx("div",{className:"text-gray-700",children:t.seller_name})]})]})]}),n.jsxs("div",{className:"bg-white mt-2 p-6",children:[n.jsx("h3",{className:"text-base mb-3",children:"Deskripsi Produk"}),n.jsx("p",{className:"text-gray-600 text-sm leading-relaxed whitespace-pre-line",children:t.description})]}),n.jsxs("div",{className:"bg-white mt-2 p-6 pb-48 mb-4",children:[n.jsx("div",{className:"flex items-center justify-between mb-6 pb-4 border-b border-gray-200",children:n.jsxs("div",{children:[n.jsx("h3",{className:"text-base mb-2",children:"Rating & Ulasan"}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("div",{className:"text-3xl font-bold text-gray-900",children:j>0?j.toFixed(1):"0.0"}),n.jsxs("div",{children:[n.jsx(dl,{rating:Math.round(j),readonly:!0,size:"sm"}),n.jsxs("p",{className:"text-sm text-gray-500 mt-1",children:[d.length," ulasan"]})]})]})]})}),e?n.jsx("form",{onSubmit:T,className:"mb-6",children:n.jsxs("div",{className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-2xl p-4 border border-emerald-200 dark:border-emerald-700/50",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-3",children:"Berikan Ulasan"}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Rating"}),n.jsx(dl,{rating:m,onRatingChange:p,size:"lg"})]}),n.jsxs("div",{className:"mb-3",children:[n.jsx("label",{className:"block text-sm text-gray-700 dark:text-gray-300 mb-2",children:"Komentar (opsional)"}),n.jsx("textarea",{value:g,onChange:L=>y(L.target.value),placeholder:"Bagikan pengalaman Anda...",className:"w-full px-4 py-3 bg-white dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-xl resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500 text-gray-900 dark:text-white",rows:3,disabled:v})]}),n.jsx(C.button,{type:"submit",whileTap:{scale:.95},disabled:v||m===0,className:"w-full flex items-center justify-center gap-2 px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:v?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Mengirim..."]}):n.jsxs(n.Fragment,{children:[n.jsx(xi,{className:"w-4 h-4"}),"Kirim Ulasan"]})})]})}):n.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl border border-amber-200 dark:border-amber-700/50",children:n.jsxs("p",{className:"text-center text-gray-700 dark:text-gray-300 text-sm",children:["Silakan"," ",n.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:"login"})," ","untuk memberikan ulasan"]})}),n.jsx("div",{className:"space-y-4",children:k?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Memuat ulasan..."})]}):d.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(xi,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Belum ada ulasan. Jadilah yang pertama memberikan ulasan!"})]}):n.jsx(sr,{children:d.map((L,O)=>n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:O*.05},className:"flex gap-3 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-full flex items-center justify-center",children:n.jsx(mr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:L.user_name}),n.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[n.jsx(dl,{rating:L.rating,readonly:!0,size:"sm"}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(L.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})]}),e&&e.user.id===L.user_id&&n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>S(L.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:n.jsx(hr,{className:"w-4 h-4"})})]}),L.comment&&n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed text-sm mt-2",children:L.comment})]})]},L.id))})})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 p-4 safe-area-bottom z-50 shadow-lg",children:n.jsxs("div",{className:"max-w-md mx-auto space-y-2",children:[n.jsxs("button",{onClick:$,className:"w-full bg-emerald-600 text-white py-3 rounded-lg hover:bg-emerald-700 transition-colors flex items-center justify-center gap-2",children:[n.jsx(hl,{className:"w-5 h-5"}),"Beli Sekarang (Rekber Aman)"]}),e&&n.jsxs("button",{onClick:B,className:"w-full bg-white border border-emerald-600 text-emerald-600 py-3 rounded-lg hover:bg-emerald-50 transition-colors flex items-center justify-center gap-2",children:[n.jsx(Lt,{className:"w-5 h-5"}),"Chat untuk COD/Nego"]})]})})]})}function V4({session:t,onBack:e,onSelectChat:s}){const[i,l]=P.useState([]),[c,d]=P.useState({}),[h,m]=P.useState(!0),[p,g]=P.useState(null);P.useEffect(()=>{y()},[]);const y=async()=>{try{const _=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/chats`,{headers:{Authorization:`Bearer ${t.access_token}`}})).json();l(_);const T=new Set;_.forEach(j=>{j.participants.forEach(D=>{D!==t.user.id&&T.add(D)})});const S={};await Promise.all(Array.from(T).map(async j=>{try{const D=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/users/${j}`);if(D.ok){const $=await D.json();S[j]=$,console.log("Fetched profile for",j,":",$)}else{console.error("Failed to fetch profile for",j,"- Status:",D.status);try{const $=await D.json();console.error("Error details:",$)}catch{const $=await D.text();console.error("Error details (text):",$)}}}catch(D){console.error("Error fetching user profile for",j,":",D)}})),console.log("All profiles:",S),d(S)}catch(N){console.error("Error fetching chats:",N)}finally{m(!1)}},v=N=>N.messages.length===0?"Belum ada pesan":N.messages[N.messages.length-1].text,w=N=>{const _=N.participants.find(T=>T!==t.user.id);return _?N.participant_names&&N.participant_names[_]?{id:_,name:N.participant_names[_],username:c[_]?.username}:c[_]||{id:_,name:"User"}:{id:"unknown",name:"Unknown"}},k=async(N,_)=>{if(_.stopPropagation(),!!confirm("Hapus percakapan ini?")){g(N);try{const T=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/chats/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${t.access_token}`}});if(T.ok)Z.success("Percakapan berhasil dihapus"),l(i.filter(S=>S.id!==N));else{const S=await T.json();Z.error(S.error||"Gagal menghapus percakapan")}}catch(T){console.error("Error deleting chat:",T),Z.error("Gagal menghapus percakapan")}finally{g(null)}}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-blue-50/20 to-indigo-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-blue-600 dark:text-blue-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-blue-600 via-indigo-600 to-blue-700 dark:from-blue-700 dark:via-indigo-700 dark:to-blue-800 text-white p-6",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("button",{onClick:e,className:"mb-4 p-2 hover:bg-white/20 rounded-xl transition-colors",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center",children:n.jsx(Lt,{className:"w-8 h-8"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Kotak Masuk"}),n.jsxs("p",{className:"text-white/80 text-sm",children:[i.length," Percakapan"]})]})]})]})]}),n.jsx("div",{className:"relative z-10 p-6 pb-28",children:h?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(is,{className:"w-12 h-12 text-blue-600 dark:text-blue-400 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Memuat pesan..."})]}):i.length===0?n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-blue-100 to-indigo-100 dark:from-blue-900/30 dark:to-indigo-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(Lt,{className:"w-10 h-10 text-blue-600 dark:text-blue-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Belum ada pesan"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Pesan Anda akan muncul di sini"})]}):n.jsx("div",{className:"space-y-3",children:i.map((N,_)=>{const T=w(N);return n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:_*.05},className:"relative group",children:[n.jsx("button",{onClick:()=>s(N),className:"w-full bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-5 shadow-lg border border-gray-100 dark:border-gray-700/50 text-left hover:shadow-xl transition-all",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-indigo-500 rounded-full flex items-center justify-center flex-shrink-0 overflow-hidden",children:T.avatar_url?n.jsx("img",{src:T.avatar_url,alt:T.name,className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-white text-lg",children:T.name.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0 pr-12",children:[n.jsxs("div",{className:"flex justify-between items-start gap-2 mb-1",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:T.name}),n.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400 flex-shrink-0",children:new Date(N.last_message_at).toLocaleDateString("id-ID",{day:"numeric",month:"short"})})]}),T.username&&n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-500 mb-1",children:["@",T.username]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:v(N)})]})]})}),n.jsx(C.button,{whileTap:{scale:.9},onClick:S=>k(N.id,S),disabled:p===N.id,className:"absolute top-5 right-5 p-2 bg-red-500 hover:bg-red-600 text-white rounded-full shadow-lg opacity-0 group-hover:opacity-100 transition-opacity disabled:opacity-50",children:p===N.id?n.jsx(is,{className:"w-5 h-5 animate-spin"}):n.jsx(hr,{className:"w-5 h-5"})})]},N.id)})})})]})}function z4({chat:t,session:e,onBack:s}){const[i,l]=P.useState(t.messages||[]),[c,d]=P.useState(""),[h,m]=P.useState(!1),[p,g]=P.useState(null),y=P.useRef(null);P.useEffect(()=>{v()},[i]),P.useEffect(()=>{w()},[]);const v=()=>{y.current?.scrollIntoView({behavior:"smooth"})},w=async()=>{const _=t.participants.find(T=>T!==e.user.id);if(!_){console.log("No other user ID found in chat participants");return}console.log("Fetching profile for user:",_);try{const T=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/users/${_}`);if(console.log("Profile fetch response status:",T.status),T.ok){const S=await T.json();console.log("Fetched profile:",S),g(S)}else{console.error("Failed to fetch profile - Status:",T.status);try{const j=await T.json();console.error("Error details:",j)}catch{const j=await T.text();console.error("Error details (text):",j)}const S=t.participant_names?.[_]||"User";g({id:_,name:S,username:void 0})}}catch(T){console.error("Error fetching user profile:",T),g({id:_,name:"User",username:void 0})}},k=()=>{const _=t.participants.find(T=>T!==e.user.id);return t.participant_names&&t.participant_names[_]?t.participant_names[_]:p?.name?p.name:"User"},N=async _=>{if(_.preventDefault(),!!c.trim()){m(!0);try{const T=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/chats/${t.id}/messages`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({text:c})});if(T.ok){const S=await T.json();l([...i,S]),d("")}}catch(T){console.error("Error sending message:",T)}finally{m(!1)}}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50/30 dark:from-gray-950 dark:to-gray-900 flex flex-col",children:[n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-r from-blue-600 to-indigo-600 dark:from-blue-700 dark:to-indigo-700 text-white p-5 flex items-center gap-4 shadow-lg",children:[n.jsx("button",{onClick:s,className:"p-2 hover:bg-white/20 rounded-xl transition-colors",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsx("div",{className:"w-12 h-12 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center overflow-hidden",children:p?.avatar_url?n.jsx("img",{src:p.avatar_url,alt:k(),className:"w-full h-full object-cover"}):n.jsx("span",{className:"text-lg font-semibold",children:k().charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"font-bold",children:k()}),p?.username&&n.jsxs("p",{className:"text-xs text-white/70",children:["@",p.username]})]})]}),n.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-3 pb-28",children:[i.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-16 h-16 bg-blue-100 dark:bg-blue-900/30 rounded-full flex items-center justify-center mx-auto mb-3",children:n.jsx(ul,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Belum ada pesan. Mulai percakapan!"})]}):i.map((_,T)=>{const S=_.sender_id===e.user.id;return n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:T*.02},className:`flex ${S?"justify-end":"justify-start"}`,children:n.jsxs("div",{className:`max-w-[75%] rounded-3xl px-5 py-3 shadow-md ${S?"bg-gradient-to-br from-blue-600 to-indigo-600 text-white rounded-br-md":"bg-white dark:bg-gray-800 text-gray-800 dark:text-white rounded-bl-md border border-gray-100 dark:border-gray-700"}`,children:[n.jsx("p",{className:"text-sm leading-relaxed",children:_.text}),n.jsx("p",{className:`text-xs mt-1.5 ${S?"text-white/70":"text-gray-500 dark:text-gray-400"}`,children:new Date(_.created_at).toLocaleTimeString("id-ID",{hour:"2-digit",minute:"2-digit"})})]})},_.id)}),n.jsx("div",{ref:y})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white/80 dark:bg-gray-900/80 backdrop-blur-xl border-t border-gray-200 dark:border-gray-700 p-4 safe-area-bottom",children:n.jsxs("form",{onSubmit:N,className:"flex gap-3 max-w-4xl mx-auto",children:[n.jsx("input",{type:"text",value:c,onChange:_=>d(_.target.value),placeholder:"Tulis pesan...",className:"flex-1 px-5 py-3 border border-gray-300 dark:border-gray-600 rounded-full focus:ring-2 focus:ring-blue-500 focus:border-transparent bg-white dark:bg-gray-800 dark:text-white",disabled:h}),n.jsx(C.button,{type:"submit",disabled:h||!c.trim(),whileTap:{scale:.95},className:"bg-gradient-to-r from-blue-600 to-indigo-600 text-white px-6 py-3 rounded-full hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:h?n.jsx(is,{className:"w-5 h-5 animate-spin"}):n.jsx(ul,{className:"w-5 h-5"})})]})})]})}function F4({session:t,onClose:e,onSuccess:s}){const[i,l]=P.useState(""),[c,d]=P.useState(null),[h,m]=P.useState(!1),[p,g]=P.useState(!1),y=async w=>{if(w.preventDefault(),!!i.trim()){m(!0),d(null);try{const k=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/users/search?username=${encodeURIComponent(i)}`,{headers:{Authorization:`Bearer ${t.access_token}`}});if(k.ok){const N=await k.json();d(N)}else{const N=await k.json();Z.error(N.error||"User tidak ditemukan")}}catch(k){console.error("Error searching user:",k),Z.error("Gagal mencari user")}finally{m(!1)}}},v=async()=>{if(c){g(!0);try{const w=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/connections`,{method:"POST",headers:{Authorization:`Bearer ${t.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({user_id:c.id})});if(w.ok)Z.success("Koneksi berhasil ditambahkan!"),s();else{const k=await w.json();Z.error(k.error||"Gagal menambahkan koneksi")}}catch(w){console.error("Error adding connection:",w),Z.error("Gagal menambahkan koneksi")}finally{g(!1)}}};return n.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center p-4 bg-black/50 backdrop-blur-sm",children:n.jsxs(C.div,{initial:{opacity:0,scale:.9,y:20},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:20},className:"bg-white dark:bg-gray-800 rounded-3xl shadow-2xl max-w-md w-full max-h-[80vh] overflow-hidden",children:[n.jsxs("div",{className:"bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 dark:from-purple-700 dark:via-pink-700 dark:to-purple-800 text-white p-6",children:[n.jsxs("div",{className:"flex items-center justify-between mb-2",children:[n.jsx("h2",{className:"text-xl font-bold",children:"Tambah Koneksi"}),n.jsx("button",{onClick:e,className:"p-2 hover:bg-white/20 rounded-full transition-colors",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsx("p",{className:"text-white/80 text-sm",children:"Cari user berdasarkan username untuk menambahkan koneksi"})]}),n.jsxs("div",{className:"p-6",children:[n.jsxs("form",{onSubmit:y,className:"mb-6",children:[n.jsxs("div",{className:"relative",children:[n.jsx("input",{type:"text",value:i,onChange:w=>l(w.target.value),placeholder:"Masukkan username",className:"w-full px-4 py-3 pl-12 border border-gray-300 dark:border-gray-600 rounded-2xl focus:ring-2 focus:ring-purple-500 focus:border-transparent dark:bg-gray-700 dark:text-white",disabled:h}),n.jsx(yi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"})]}),n.jsx("button",{type:"submit",disabled:h||!i.trim(),className:"w-full mt-3 bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-2xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:h?n.jsxs(n.Fragment,{children:[n.jsx(is,{className:"w-5 h-5 animate-spin"}),"Mencari..."]}):n.jsxs(n.Fragment,{children:[n.jsx(yi,{className:"w-5 h-5"}),"Cari User"]})})]}),n.jsx(sr,{children:c&&n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,y:10},className:"bg-gradient-to-br from-gray-50 to-purple-50/30 dark:from-gray-700 dark:to-purple-900/20 rounded-2xl p-4 border border-purple-200 dark:border-purple-700/50",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white text-xl",children:c.name?.charAt(0).toUpperCase()||c.username?.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:c.name}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:["@",c.username]}),c.mosque&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate mt-1",children:c.mosque})]})]}),n.jsx("button",{onClick:v,disabled:p,className:"w-full bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 rounded-2xl font-semibold hover:shadow-lg transition-all disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:p?n.jsxs(n.Fragment,{children:[n.jsx(is,{className:"w-5 h-5 animate-spin"}),"Menambahkan..."]}):n.jsxs(n.Fragment,{children:[n.jsx(mg,{className:"w-5 h-5"}),"Tambah Koneksi"]})})]})})]})]})})}function H4({session:t,onBack:e,onStartChat:s}){const[i,l]=P.useState([]),[c,d]=P.useState(!0),[h,m]=P.useState(!1);P.useEffect(()=>{p()},[]);const p=async()=>{try{const y=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/connections`,{headers:{Authorization:`Bearer ${t.access_token}`}})).json();l(y)}catch(g){console.error("Error fetching connections:",g)}finally{d(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-purple-50/20 to-pink-50/20 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-purple-600 dark:text-purple-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-purple-600 via-pink-600 to-purple-700 dark:from-purple-700 dark:via-pink-700 dark:to-purple-800 text-white p-6",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10",children:[n.jsx("button",{onClick:e,className:"mb-4 p-2 hover:bg-white/20 rounded-xl transition-colors",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-full flex items-center justify-center",children:n.jsx(er,{className:"w-8 h-8"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h1",{className:"text-2xl font-bold mb-1",children:"Koneksi"}),n.jsxs("p",{className:"text-white/80 text-sm",children:[i.length," Koneksi"]})]})]}),n.jsxs("button",{onClick:()=>m(!0),className:"w-full bg-white/20 backdrop-blur-md hover:bg-white/30 text-white py-3 px-6 rounded-2xl font-semibold flex items-center justify-center gap-2 transition-all",children:[n.jsx(mg,{className:"w-5 h-5"}),"Tambah Koneksi"]})]})]}),n.jsx("div",{className:"relative z-10 p-6 pb-28",children:c?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(is,{className:"w-12 h-12 text-purple-600 dark:text-purple-400 animate-spin mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Memuat koneksi..."})]}):i.length===0?n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[n.jsx("div",{className:"w-20 h-20 bg-gradient-to-br from-purple-100 to-pink-100 dark:from-purple-900/30 dark:to-pink-900/30 rounded-full flex items-center justify-center mx-auto mb-4",children:n.jsx(er,{className:"w-10 h-10 text-purple-600 dark:text-purple-400"})}),n.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2",children:"Belum ada koneksi"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tambahkan koneksi untuk mulai chat dengan jamaah lain"}),n.jsx("button",{onClick:()=>m(!0),className:"bg-gradient-to-r from-purple-600 to-pink-600 text-white py-3 px-6 rounded-2xl font-semibold hover:shadow-lg transition-all",children:"Tambah Koneksi Pertama"})]}):n.jsx("div",{className:"space-y-3",children:i.map((g,y)=>n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:y*.05},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-5 shadow-lg border border-gray-100 dark:border-gray-700/50",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center flex-shrink-0",children:n.jsx("span",{className:"text-white text-lg",children:g.name?.charAt(0).toUpperCase()||g.username?.charAt(0).toUpperCase()})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white truncate",children:g.name}),n.jsxs("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:["@",g.username]}),g.mosque&&n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-500 truncate mt-1",children:g.mosque})]}),n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>s(g.id),className:"p-3 bg-gradient-to-br from-purple-500 to-pink-500 text-white rounded-2xl hover:shadow-lg transition-all flex-shrink-0",children:n.jsx(Lt,{className:"w-5 h-5"})})]})},g.id))})}),h&&n.jsx(F4,{session:t,onClose:()=>m(!1),onSuccess:()=>{m(!1),p()}})]})}function W4({article:t,session:e,onBack:s}){const[i,l]=P.useState([]),[c,d]=P.useState(""),[h,m]=P.useState(!1),[p,g]=P.useState(!0);P.useEffect(()=>{y()},[t.id]);const y=async()=>{try{g(!0);const _=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/articles/${t.id}/comments`,{headers:{Authorization:`Bearer ${os}`}})).json();l(_)}catch(N){console.error("Error fetching comments:",N)}finally{g(!1)}},v=async N=>{if(N.preventDefault(),!e){Z.error("Silakan login terlebih dahulu untuk berkomentar");return}if(!c.trim()){Z.error("Komentar tidak boleh kosong");return}try{m(!0);const _=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/articles/${t.id}/comments`,{method:"POST",headers:{Authorization:`Bearer ${e.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({text:c})});if(_.ok){const T=await _.json();l([T,...i]),d(""),Z.success("Komentar berhasil dikirim!")}else{const T=await _.json();Z.error(T.error||"Gagal mengirim komentar")}}catch(_){console.error("Error submitting comment:",_),Z.error("Gagal mengirim komentar")}finally{m(!1)}},w=async N=>{if(confirm("Apakah Anda yakin ingin menghapus komentar ini?"))try{const _=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/articles/${t.id}/comments/${N}`,{method:"DELETE",headers:{Authorization:`Bearer ${e.access_token}`}});if(_.ok)l(i.filter(T=>T.id!==N)),Z.success("Komentar berhasil dihapus");else{const T=await _.json();Z.error(T.error||"Gagal menghapus komentar")}}catch(_){console.error("Error deleting comment:",_),Z.error("Gagal menghapus komentar")}},k=()=>{navigator.share?navigator.share({title:t.title,text:t.excerpt}).catch(()=>{}):(navigator.clipboard.writeText(window.location.href),Z.success("Link artikel disalin!"))};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.03]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 dark:from-emerald-700 dark:via-emerald-600 dark:to-teal-600 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsx("div",{className:"relative z-10 p-6",children:n.jsxs("div",{className:"flex items-center justify-between mb-4",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:s,className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(rr,{className:"w-5 h-5"})}),n.jsx(C.button,{whileTap:{scale:.9},onClick:k,className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(ug,{className:"w-5 h-5"})})]})})]}),n.jsxs("div",{className:"relative z-10 -mt-8",children:[n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"mx-4 bg-white dark:bg-gray-800/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700/50 overflow-hidden",children:[t.image&&n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"relative w-full h-64 overflow-hidden",children:[n.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover"}),n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/40 to-transparent"})]}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},children:n.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-4",children:t.title})}),n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4},className:"flex flex-wrap gap-4 pb-6 border-b border-gray-200 dark:border-gray-700",children:[n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("div",{className:"bg-emerald-100 dark:bg-emerald-900/30 p-2 rounded-xl",children:n.jsx(mr,{className:"w-4 h-4 text-emerald-600 dark:text-emerald-400"})}),n.jsx("span",{children:t.author})]}),n.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-600 dark:text-gray-400",children:[n.jsx("div",{className:"bg-teal-100 dark:bg-teal-900/30 p-2 rounded-xl",children:n.jsx(Tt,{className:"w-4 h-4 text-teal-600 dark:text-teal-400"})}),n.jsx("span",{children:new Date(t.created_at).toLocaleDateString("id-ID",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.5},className:"prose prose-emerald dark:prose-invert max-w-none",children:t.content?n.jsx("div",{className:"text-gray-700 dark:text-gray-300 leading-relaxed space-y-4",children:t.content.split(`

`).map((N,_)=>n.jsx("p",{className:"text-base",children:N},_))}):n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:t.excerpt})}),n.jsx(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{delay:.6},className:"flex justify-center py-6",children:n.jsx("div",{className:"text-emerald-600 dark:text-emerald-400 text-2xl",children:""})}),n.jsx(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7},className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/20 dark:to-teal-900/20 rounded-2xl p-6 border border-emerald-200 dark:border-emerald-700/50",children:n.jsxs("p",{className:"text-center text-gray-700 dark:text-gray-300 text-sm italic",children:['"Barangsiapa menunjuki kepada kebaikan maka dia akan mendapat pahala seperti orang yang melakukannya."',n.jsx("span",{className:"block mt-2 text-emerald-600 dark:text-emerald-400",children:"(HR. Muslim)"})]})})]})]}),n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.8},className:"mx-4 mt-6 bg-white dark:bg-gray-800/90 backdrop-blur-sm rounded-3xl shadow-2xl border border-gray-100 dark:border-gray-700/50 overflow-hidden",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-6",children:[n.jsx("div",{className:"bg-gradient-to-br from-emerald-500 to-teal-500 p-3 rounded-2xl",children:n.jsx(Lt,{className:"w-5 h-5 text-white"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white",children:"Diskusi Artikel"}),n.jsxs("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:[i.length," komentar"]})]})]}),e?n.jsx("form",{onSubmit:v,className:"mb-6",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-full flex items-center justify-center",children:n.jsx(mr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("textarea",{value:c,onChange:N=>d(N.target.value),placeholder:"Tulis komentar Anda...",className:"w-full px-4 py-3 bg-gray-50 dark:bg-gray-900/50 border border-gray-200 dark:border-gray-700 rounded-2xl resize-none focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:focus:ring-emerald-400 text-gray-900 dark:text-white",rows:3,disabled:h}),n.jsx("div",{className:"flex justify-end mt-2",children:n.jsx(C.button,{type:"submit",whileTap:{scale:.95},disabled:h||!c.trim(),className:"flex items-center gap-2 px-6 py-2.5 bg-gradient-to-r from-emerald-500 to-teal-500 text-white rounded-xl disabled:opacity-50 disabled:cursor-not-allowed",children:h?n.jsxs(n.Fragment,{children:[n.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Mengirim..."]}):n.jsxs(n.Fragment,{children:[n.jsx(ul,{className:"w-4 h-4"}),"Kirim"]})})})]})]})}):n.jsx("div",{className:"mb-6 p-4 bg-gradient-to-br from-amber-50 to-orange-50 dark:from-amber-900/20 dark:to-orange-900/20 rounded-2xl border border-amber-200 dark:border-amber-700/50",children:n.jsxs("p",{className:"text-center text-gray-700 dark:text-gray-300 text-sm",children:["Silakan ",n.jsx("span",{className:"font-semibold text-emerald-600 dark:text-emerald-400",children:"login"})," untuk berkomentar"]})}),n.jsx("div",{className:"space-y-4",children:p?n.jsxs("div",{className:"text-center py-8",children:[n.jsx("div",{className:"w-8 h-8 border-3 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 mt-2",children:"Memuat komentar..."})]}):i.length===0?n.jsxs("div",{className:"text-center py-8",children:[n.jsx(Lt,{className:"w-12 h-12 text-gray-300 dark:text-gray-600 mx-auto mb-3"}),n.jsx("p",{className:"text-gray-500 dark:text-gray-400",children:"Belum ada komentar. Jadilah yang pertama berkomentar!"})]}):n.jsx(sr,{children:i.map((N,_)=>n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},exit:{opacity:0,x:-20},transition:{delay:_*.05},className:"flex gap-3 p-4 bg-gray-50 dark:bg-gray-900/50 rounded-2xl border border-gray-100 dark:border-gray-700/50",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-full flex items-center justify-center",children:n.jsx(mr,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"})})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white",children:N.user_name}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:new Date(N.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"})})]}),e&&e.user.id===N.user_id&&n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>w(N.id),className:"p-2 text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-xl transition-colors",children:n.jsx(hr,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 leading-relaxed",children:N.text})]})]},N.id))})})]})}),n.jsx("div",{className:"h-8"})]})]})}function K4({onBack:t,onSelectArticle:e}){const[s,i]=P.useState([]),[l,c]=P.useState([]),[d,h]=P.useState(""),[m,p]=P.useState(!0);P.useEffect(()=>{g()},[]),P.useEffect(()=>{if(d.trim()){const y=s.filter(v=>v.title.toLowerCase().includes(d.toLowerCase())||v.excerpt.toLowerCase().includes(d.toLowerCase())||v.author.toLowerCase().includes(d.toLowerCase()));c(y)}else c(s)},[d,s]);const g=async()=>{try{p(!0);const v=await(await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/articles`,{headers:{Authorization:`Bearer ${os}`}})).json();i(v),c(v)}catch(y){console.error("Error fetching articles:",y)}finally{p(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.03]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 dark:from-emerald-700 dark:via-emerald-600 dark:to-teal-600 text-white",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent animate-shimmer"}),n.jsx(We,{className:"text-white opacity-10"}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:t,className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(rr,{className:"w-5 h-5"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Semua Artikel"}),n.jsx("p",{className:"text-emerald-50 text-sm",children:"Baca kajian dan informasi terkini"})]})]}),n.jsxs("div",{className:"relative",children:[n.jsx(yi,{className:"absolute left-4 top-1/2 transform -translate-y-1/2 w-5 h-5 text-emerald-600"}),n.jsx("input",{type:"text",value:d,onChange:y=>h(y.target.value),placeholder:"Cari artikel...",className:"w-full pl-12 pr-4 py-3 bg-white/90 backdrop-blur-md rounded-2xl text-gray-900 placeholder-gray-500 focus:outline-none focus:ring-2 focus:ring-white/50"})]})]})]}),n.jsxs("div",{className:"relative z-10 p-6 space-y-4",children:[m?n.jsxs("div",{className:"text-center py-12",children:[n.jsx("div",{className:"w-12 h-12 border-4 border-emerald-500 border-t-transparent rounded-full animate-spin mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Memuat artikel..."})]}):l.length===0?n.jsxs("div",{className:"text-center py-12",children:[n.jsx(pn,{className:"w-16 h-16 text-gray-300 dark:text-gray-600 mx-auto mb-4"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:d?"Artikel tidak ditemukan":"Belum ada artikel"})]}):l.map((y,v)=>n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:v*.05},onClick:()=>e(y),className:"card-hover bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl overflow-hidden shadow-lg border border-gray-100 dark:border-gray-700/50 cursor-pointer group",children:n.jsxs("div",{className:"flex gap-4 p-4",children:[y.image?n.jsx("div",{className:"flex-shrink-0 w-28 h-28 rounded-xl overflow-hidden",children:n.jsx("img",{src:y.image,alt:y.title,className:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"})}):n.jsx("div",{className:"flex-shrink-0 w-28 h-28 bg-gradient-to-br from-emerald-100 to-teal-100 dark:from-emerald-900/30 dark:to-teal-900/30 rounded-xl flex items-center justify-center",children:n.jsx(pn,{className:"w-12 h-12 text-emerald-600 dark:text-emerald-400"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h3",{className:"font-bold text-gray-900 dark:text-white mb-2 line-clamp-2 group-hover:text-emerald-600 dark:group-hover:text-emerald-400 transition-colors",children:y.title}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400 text-sm mb-3 line-clamp-2",children:y.excerpt}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(mr,{className:"w-3 h-3"}),n.jsx("span",{children:y.author})]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-3 h-3"}),n.jsx("span",{children:new Date(y.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})})]})]})]})]})},y.id)),n.jsx("div",{className:"h-4"})]})]})}function q4({session:t,onBack:e,onSuccess:s,editPost:i}){const[l,c]=P.useState(i?.title||""),[d,h]=P.useState(i?.content||""),[m,p]=P.useState(i?.image||""),[g,y]=P.useState(null),[v,w]=P.useState(i?.image||""),[k,N]=P.useState(!1),[_,T]=P.useState(!1),[S,j]=P.useState(""),D=tt(),$=!!i,B=H=>{const se=H.target.files?.[0];if(!se)return;const he=5*1024*1024;if(se.size>he){Z.error("Ukuran gambar maksimal 5MB!"),H.target.value="";return}y(se),w(URL.createObjectURL(se))},L=()=>{y(null),w(""),p("")},O=async H=>{if(H.preventDefault(),!l.trim()||!d.trim()){j("Judul dan konten tidak boleh kosong");return}if(!t){j("Anda harus login terlebih dahulu");return}N(!0),j("");try{let se=m;if(g){const he=`${Date.now()}-${g.name}`,{data:je,error:J}=await D.storage.from("timeline-images").upload(he,g);if(J)throw J;const{data:be}=D.storage.from("timeline-images").getPublicUrl(he);se=be.publicUrl}if($){const{error:he}=await D.from("timeline_posts").update({title:l.trim(),content:d.trim(),image:se||null}).eq("id",i.id);if(he)throw he;Z.success("Postingan berhasil diupdate! ")}else{const{error:he}=await D.from("timeline_posts").insert({user_id:t.user.id,title:l.trim(),content:d.trim(),image:se||null});if(he)throw he;Z.success("Postingan berhasil dibuat! ")}s()}catch(se){console.error("Error saving post:",se),j(se.message||"Gagal menyimpan postingan"),Z.error(se.message||"Gagal menyimpan postingan")}finally{N(!1)}};return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 dark:from-emerald-700 dark:via-emerald-600 dark:to-teal-600 text-white p-6",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:e,className:"bg-white/20 backdrop-blur-md p-2 rounded-xl",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:$?"Edit Postingan":"Buat Postingan"}),n.jsx("p",{className:"text-emerald-50 text-sm",children:$?"Perbarui kegiatan ibadahmu":"Bagikan kegiatan ibadahmu"})]})]})}),n.jsx("div",{className:"p-6",children:n.jsxs(C.form,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},onSubmit:O,className:"space-y-6",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Judul Postingan"}),n.jsx("input",{type:"text",value:l,onChange:H=>c(H.target.value),placeholder:"Contoh: Kajian Subuh Hari Ini",className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:text-white",disabled:k})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2",children:"Konten"}),n.jsx("textarea",{value:d,onChange:H=>h(H.target.value),placeholder:"Ceritakan kegiatan ibadahmu...",rows:6,className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:text-white resize-none",disabled:k})]}),n.jsxs("div",{children:[n.jsxs("label",{className:"block text-sm font-semibold text-gray-700 dark:text-gray-300 mb-2 flex items-center gap-2",children:[n.jsx(Nl,{className:"w-4 h-4"}),"Gambar (opsional)"]}),n.jsx("input",{type:"file",accept:"image/*",onChange:B,className:"w-full px-4 py-3 bg-white dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:text-white",disabled:k||_}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1",children:"Maksimal ukuran file: 5MB"}),v&&n.jsxs(C.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"mt-3 relative",children:[n.jsx("img",{src:v,alt:"Preview",className:"w-full h-48 object-cover rounded-2xl"}),n.jsx("button",{type:"button",onClick:L,className:"absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white p-2 rounded-full shadow-lg transition-colors",children:n.jsx($t,{className:"w-4 h-4"})})]})]}),S&&n.jsx(C.div,{initial:{opacity:0,y:-10},animate:{opacity:1,y:0},className:"bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded-2xl p-4",children:n.jsx("p",{className:"text-sm text-red-600 dark:text-red-400",children:S})}),n.jsx(C.button,{whileTap:{scale:.98},type:"submit",disabled:k,className:"w-full bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-4 rounded-2xl font-semibold shadow-lg disabled:opacity-50 disabled:cursor-not-allowed",children:k?$?"Mengupdate...":"Memposting...":$?"Update Postingan":"Posting Sekarang"})]})})]})}function G4({post:t,session:e,onBack:s,onEdit:i,onDelete:l}){const[c,d]=P.useState([]),[h,m]=P.useState([]),[p,g]=P.useState(""),[y,v]=P.useState(!1),w=tt();P.useEffect(()=>{k()},[t.id]);const k=()=>{d(t.likes||[]),v(e&&(t.likes||[]).includes(e.user.id)),m((t.comments||[]).sort((j,D)=>new Date(D.created_at).getTime()-new Date(j.created_at).getTime()))},N=async()=>{if(!e){Z.error("Silakan login untuk like postingan");return}const j=e.user.id,D=c||[],$=D.includes(j);let B;$?B=D.filter(L=>L!==j):B=[...D,j],d(B),v(!$),Z.success($?"Like dibatalkan":"Postingan dilike! ");try{const{error:L}=await w.from("announcements").update({likes:B}).eq("id",t.id);if(L)throw L}catch(L){console.error("Error toggling like:",L),Z.error("Gagal toggle like"),d(D),v($)}},_=async()=>{if(!e){Z.error("Silakan login untuk berkomentar");return}if(!p.trim()){Z.error("Komentar tidak boleh kosong");return}const D=[{id:crypto.randomUUID(),user_id:e.user.id,user_name:e.user.user_metadata?.full_name||e.user.email?.split("@")[0]||"Anonymous",text:p.trim(),created_at:new Date().toISOString()},...h];m(D),g(""),Z.success("Komentar berhasil ditambahkan! ");try{const{error:$}=await w.from("announcements").update({comments:D}).eq("id",t.id);if($)throw $}catch($){console.error("Error adding comment:",$),Z.error("Gagal menambahkan komentar"),m(h)}},T=async j=>{if(!e)return;const D=[...h],$=h.filter(B=>B.id!==j);m($),Z.success("Komentar dihapus");try{const{error:B}=await w.from("announcements").update({comments:$}).eq("id",t.id);if(B)throw B}catch(B){console.error("Error deleting comment:",B),Z.error("Gagal menghapus komentar"),m(D)}},S=e&&e.user.id===t.user_id;return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 dark:from-emerald-700 dark:via-emerald-600 dark:to-teal-600 text-white p-6",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:s,className:"bg-white/20 backdrop-blur-md p-2 rounded-xl",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Timeline Detail"}),n.jsx("p",{className:"text-emerald-50 text-sm",children:"Lihat dan berinteraksi"})]})]}),S&&n.jsxs("div",{className:"flex gap-2",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:i,className:"bg-white/20 backdrop-blur-md p-2 rounded-xl",children:n.jsx(Uw,{className:"w-5 h-5"})}),n.jsx(C.button,{whileTap:{scale:.9},onClick:l,className:"bg-red-500/80 backdrop-blur-md p-2 rounded-xl",children:n.jsx(hr,{className:"w-5 h-5"})})]})]})}),n.jsxs("div",{className:"p-6 space-y-6",children:[n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700/50",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:t.user_name?.charAt(0)?.toUpperCase()||"A"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-semibold text-gray-900 dark:text-white",children:t.user_name}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(t.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"long",year:"numeric",hour:"2-digit",minute:"2-digit"})})]})]}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-3",children:t.title}),t.image&&n.jsx("div",{className:"mb-4 rounded-2xl overflow-hidden",children:n.jsx("img",{src:t.image,alt:t.title,className:"w-full h-64 object-cover"})}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 whitespace-pre-wrap mb-6",children:t.content}),n.jsxs("div",{className:"flex items-center gap-6 pt-4 border-t border-gray-200 dark:border-gray-700",children:[n.jsxs(C.button,{whileTap:{scale:.95},onClick:N,className:`flex items-center gap-2 ${y?"text-red-500":"text-gray-500 dark:text-gray-400"}`,children:[n.jsx(Ai,{className:`w-5 h-5 ${y?"fill-current":""}`}),n.jsx("span",{className:"font-semibold",children:c.length})]}),n.jsxs("div",{className:"flex items-center gap-2 text-gray-500 dark:text-gray-400",children:[n.jsx(Lt,{className:"w-5 h-5"}),n.jsx("span",{className:"font-semibold",children:h.length})]})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-2xl p-6 shadow-lg border border-gray-100 dark:border-gray-700/50",children:[n.jsxs("h3",{className:"font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(Lt,{className:"w-5 h-5 text-emerald-600 dark:text-emerald-400"}),"Komentar (",h.length,")"]}),e?n.jsx("div",{className:"mb-6",children:n.jsxs("div",{className:"flex gap-3",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:(e.user.user_metadata?.full_name||e.user.email?.split("@")[0]||"J")[0].toUpperCase()})}),n.jsxs("div",{className:"flex-1 flex gap-2",children:[n.jsx("input",{type:"text",value:p,onChange:j=>g(j.target.value),onKeyPress:j=>j.key==="Enter"&&_(),placeholder:"Tulis komentar...",className:"flex-1 px-4 py-3 bg-gray-50 dark:bg-gray-700/50 border border-gray-200 dark:border-gray-600 rounded-2xl focus:outline-none focus:ring-2 focus:ring-emerald-500 dark:text-white"}),n.jsx(C.button,{whileTap:{scale:.95},onClick:_,className:"bg-emerald-600 text-white p-3 rounded-2xl",children:n.jsx(ul,{className:"w-5 h-5"})})]})]})}):n.jsx("div",{className:"mb-6 text-center py-4 bg-gray-50 dark:bg-gray-700/30 rounded-2xl",children:n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Silakan login untuk berkomentar"})}),n.jsx("div",{className:"space-y-4",children:n.jsx(sr,{children:h.length===0?n.jsx("p",{className:"text-center text-gray-400 dark:text-gray-500 text-sm py-8",children:"Belum ada komentar"}):h.map((j,D)=>n.jsxs(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{delay:D*.05},className:"flex gap-3 group",children:[n.jsx("div",{className:"flex-shrink-0 w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-sm",children:j.user_name?.charAt(0)?.toUpperCase()||"A"})}),n.jsxs("div",{className:"flex-1 bg-gray-50 dark:bg-gray-700/30 rounded-2xl p-4",children:[n.jsxs("div",{className:"flex justify-between items-start mb-2",children:[n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white text-sm",children:j.user_name}),n.jsx("p",{className:"text-xs text-gray-400 dark:text-gray-500",children:new Date(j.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",hour:"2-digit",minute:"2-digit"})})]}),e&&e.user.id===j.user_id&&n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>T(j.id),className:"opacity-0 group-hover:opacity-100 transition-opacity text-red-500 p-1",children:n.jsx(hr,{className:"w-4 h-4"})})]}),n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-sm",children:j.text})]})]},j.id))})})]}),n.jsx("div",{className:"h-8"})]})]})}function J4({onBack:t}){const e=[{day:"Senin - Jumat",time:"08.00 - 17.00 WIB"},{day:"Sabtu",time:"08.00 - 12.00 WIB"},{day:"Minggu & Libur",time:"Tutup"}],s=[{icon:ca,title:"WhatsApp Admin",value:"+62 812-3456-7890",link:"https://wa.me/6281234567890",gradient:"from-green-500 to-emerald-500"},{icon:Vu,title:"Email",value:"admin@jamaah.net",link:"mailto:admin@jamaah.net",gradient:"from-blue-500 to-indigo-500"},{icon:vw,title:"Instagram",value:"@jamaah.net",link:"https://instagram.com/jamaah.net",gradient:"from-pink-500 to-purple-500"},{icon:sw,title:"Facebook",value:"Jamaah.net",link:"https://facebook.com/jamaah.net",gradient:"from-blue-600 to-blue-700"}];return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-white to-emerald-50 dark:from-gray-900 dark:via-gray-800 dark:to-gray-900",children:[n.jsxs("div",{className:"relative bg-gradient-to-br from-emerald-600 via-teal-600 to-emerald-700 text-white overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx(We,{className:"text-white"})}),n.jsxs("div",{className:"relative z-10 p-6 pb-8",children:[n.jsx("button",{onClick:t,className:"mb-4 p-2 hover:bg-white/20 rounded-xl transition-colors backdrop-blur-sm",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center",children:n.jsx(Lt,{className:"w-8 h-8"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-3xl font-bold",children:"Hubungi Kami"}),n.jsx("p",{className:"text-white/90 text-sm mt-1",children:"Kami siap membantu Anda"})]})]})]})]}),n.jsxs("div",{className:"p-6 space-y-6 max-w-4xl mx-auto",children:[n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/30 dark:to-pink-900/30 border-2 border-purple-200 dark:border-purple-700 rounded-3xl p-6 shadow-lg",children:[n.jsxs("div",{className:"flex items-start gap-4 mb-4",children:[n.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-purple-600 to-pink-600 rounded-2xl flex items-center justify-center flex-shrink-0",children:n.jsx(as,{className:"w-7 h-7 text-white"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:" Office Hour Admin"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-300 text-sm",children:"Waktu operasional tim admin Jamaah.net"})]})]}),n.jsx("div",{className:"space-y-3 mb-5",children:e.map((i,l)=>n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-4 flex items-center justify-between border border-purple-100 dark:border-purple-800",children:[n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx(Tt,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"}),n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:i.day})]}),n.jsx("span",{className:"font-mono font-bold text-purple-600 dark:text-purple-400",children:i.time})]},l))}),n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/30 border-l-4 border-amber-500 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(ha,{className:"w-5 h-5 text-amber-600 dark:text-amber-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"font-semibold text-amber-900 dark:text-amber-100 mb-2",children:" Informasi Penting:"}),n.jsxs("ul",{className:"text-amber-800 dark:text-amber-200 space-y-2",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Pengajuan pendaftaran"})," yang masuk akan ",n.jsx("strong",{children:"diproses pada jam kerja"})," yang tertera di atas"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),n.jsxs("span",{children:[n.jsx("strong",{children:"Approval akun"})," dan ",n.jsx("strong",{children:"pengiriman password"})," dilakukan maksimal ",n.jsx("strong",{children:"1x24 jam"})," (hari kerja)"]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),n.jsxs("span",{children:["Pengajuan di luar jam kerja akan ",n.jsx("strong",{children:"direspons pada hari kerja berikutnya"})]})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-amber-500 mt-0.5",children:""}),n.jsxs("span",{children:["Untuk ",n.jsx("strong",{children:"pertanyaan urgent"}),", hubungi kami via WhatsApp"]})]})]})]})]})})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.15},className:"bg-gradient-to-br from-red-50 via-orange-50 to-red-50 dark:from-red-900/30 dark:via-orange-900/30 dark:to-red-900/30 border-2 border-red-300 dark:border-red-700 rounded-3xl overflow-hidden shadow-xl",children:[n.jsxs("div",{className:"relative bg-gradient-to-br from-red-600 via-red-700 to-orange-600 p-6 text-white overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 opacity-10",children:n.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"radial-gradient(circle, white 1px, transparent 1px)",backgroundSize:"20px 20px"}})}),n.jsx("div",{className:"absolute -top-10 -right-10 w-40 h-40 bg-white/10 rounded-full animate-ping"}),n.jsx("div",{className:"relative z-10",children:n.jsxs("div",{className:"flex items-start gap-4 mb-3",children:[n.jsxs("div",{className:"relative",children:[n.jsx("div",{className:"w-16 h-16 bg-white/20 backdrop-blur-md rounded-2xl flex items-center justify-center",children:n.jsx(ca,{className:"w-8 h-8 animate-pulse"})}),n.jsx("div",{className:"absolute -top-1 -right-1 w-7 h-7 bg-yellow-400 rounded-full flex items-center justify-center border-2 border-white shadow-lg",children:n.jsx(Nk,{className:"w-4 h-4 text-red-700"})})]}),n.jsxs("div",{className:"flex-1",children:[n.jsx("div",{className:"flex items-center gap-2 mb-2",children:n.jsx("h2",{className:"text-2xl font-bold",children:" Kontak Darurat"})}),n.jsx("p",{className:"text-white/90 text-sm",children:"Hotline 24/7 untuk kebutuhan mendesak di luar office hour"})]})]})})]}),n.jsxs("div",{className:"p-6 space-y-5",children:[n.jsx("div",{className:"bg-amber-50 dark:bg-amber-900/30 border-2 border-amber-200 dark:border-amber-700 rounded-2xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"w-10 h-10 bg-amber-100 dark:bg-amber-800 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(ha,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})}),n.jsxs("div",{children:[n.jsx("h3",{className:"font-bold text-amber-900 dark:text-amber-100 mb-2",children:" Kapan Menggunakan Kontak Darurat?"}),n.jsxs("p",{className:"text-sm text-amber-800 dark:text-amber-200 mb-3 leading-relaxed",children:["Gunakan kontak darurat ini ",n.jsx("strong",{children:"hanya untuk kebutuhan yang sangat mendesak"}),", terutama di luar jam kerja admin reguler (Senin-Jumat, 08.00-17.00 WIB)."]}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl p-3",children:[n.jsx("p",{className:"text-xs font-semibold text-gray-900 dark:text-white mb-2",children:" Contoh Kebutuhan Darurat:"}),n.jsxs("ul",{className:"space-y-1.5 text-xs text-gray-700 dark:text-gray-300",children:[n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-red-500 mt-0.5",children:""}),n.jsx("span",{children:"Masalah teknis yang menghalangi akses ibadah atau donasi mendesak"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-red-500 mt-0.5",children:""}),n.jsx("span",{children:"Kebutuhan verifikasi akun untuk keperluan urgent"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-red-500 mt-0.5",children:""}),n.jsx("span",{children:"Masalah keamanan akun yang perlu penanganan segera"})]}),n.jsxs("li",{className:"flex items-start gap-2",children:[n.jsx("span",{className:"text-red-500 mt-0.5",children:""}),n.jsx("span",{children:"Bantuan koordinasi kegiatan jamaah yang mendesak"})]})]})]})]})]})}),n.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border-2 border-red-200 dark:border-red-700",children:[n.jsxs("div",{className:"text-center mb-5",children:[n.jsx("p",{className:"text-xs text-gray-600 dark:text-gray-400 mb-2 uppercase tracking-wide font-semibold",children:"Hotline Admin Darurat"}),n.jsx("a",{href:"tel:+6281396081230",className:"block text-4xl font-bold font-mono text-red-600 dark:text-red-400 hover:text-red-700 dark:hover:text-red-300 transition-colors mb-2",children:"081396081230"}),n.jsxs("div",{className:"inline-flex items-center gap-2 bg-green-50 dark:bg-green-900/30 border border-green-200 dark:border-green-700 rounded-full px-4 py-1.5",children:[n.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),n.jsx("p",{className:"text-xs font-semibold text-green-700 dark:text-green-300",children:"Aktif 24/7"})]})]}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs(C.a,{href:"https://wa.me/6281396081230",target:"_blank",rel:"noopener noreferrer",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-gradient-to-r from-green-600 to-emerald-600 hover:from-green-700 hover:to-emerald-700 text-white py-4 rounded-xl font-semibold shadow-lg hover:shadow-xl transition-all flex items-center justify-center gap-3 group",children:[n.jsx(Lt,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),n.jsx("span",{children:"Chat via WhatsApp"}),n.jsx("span",{className:"text-xs bg-white/20 px-2.5 py-1 rounded-lg",children:"Direkomendasikan"})]}),n.jsxs(C.a,{href:"tel:+6281396081230",whileHover:{scale:1.02},whileTap:{scale:.98},className:"w-full bg-white dark:bg-gray-700 border-2 border-red-200 dark:border-red-700 text-red-600 dark:text-red-400 py-4 rounded-xl font-semibold hover:bg-red-50 dark:hover:bg-red-900/30 transition-all flex items-center justify-center gap-3 group",children:[n.jsx(ca,{className:"w-5 h-5 group-hover:rotate-12 transition-transform"}),n.jsx("span",{children:"Telepon Langsung"})]})]})]}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/30 border border-blue-200 dark:border-blue-700 rounded-xl p-4",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx(as,{className:"w-5 h-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),n.jsxs("div",{className:"text-sm",children:[n.jsx("p",{className:"text-blue-900 dark:text-blue-100 mb-2",children:n.jsx("strong",{children:" Untuk Pertanyaan Reguler:"})}),n.jsxs("p",{className:"text-blue-800 dark:text-blue-200 leading-relaxed",children:["Jika pertanyaan Anda ",n.jsx("strong",{children:"tidak mendesak"}),", silakan hubungi admin reguler pada jam kerja (Senin-Jumat 08.00-17.00 WIB, Sabtu 08.00-12.00 WIB) melalui WhatsApp atau email di atas. Terima kasih! "]})]})]})})]})]}),n.jsxs("div",{children:[n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white mb-4",children:" Hubungi Kami"}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:s.map((i,l)=>n.jsx(C.a,{href:i.link,target:"_blank",rel:"noopener noreferrer",initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:l*.1},whileHover:{scale:1.02},whileTap:{scale:.98},className:"bg-white dark:bg-gray-800 rounded-2xl p-5 border border-gray-200 dark:border-gray-700 shadow-sm hover:shadow-md transition-all",children:n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:`w-12 h-12 bg-gradient-to-br ${i.gradient} rounded-xl flex items-center justify-center flex-shrink-0`,children:n.jsx(i.icon,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:i.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 truncate",children:i.value})]}),n.jsx(rr,{className:"w-5 h-5 text-gray-400 rotate-180"})]})},l))})]}),n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},className:"bg-white dark:bg-gray-800 rounded-2xl p-6 border border-gray-200 dark:border-gray-700 shadow-sm",children:n.jsxs("div",{className:"flex items-start gap-4",children:[n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-500 rounded-xl flex items-center justify-center flex-shrink-0",children:n.jsx(_l,{className:"w-6 h-6 text-white"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white mb-2",children:" Alamat Kantor"}),n.jsxs("p",{className:"text-gray-600 dark:text-gray-400 text-sm leading-relaxed",children:["Jl. Masjid Raya No. 123",n.jsx("br",{}),"Kelurahan Sejahtera, Kecamatan Bahagia",n.jsx("br",{}),"Jakarta Selatan 12345",n.jsx("br",{}),"Indonesia"]})]})]})}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},className:"bg-gradient-to-br from-emerald-50 to-teal-50 dark:from-emerald-900/30 dark:to-teal-900/30 border border-emerald-200 dark:border-emerald-700 rounded-2xl p-6",children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 flex items-center gap-2",children:[n.jsx(Bs,{className:"w-6 h-6 text-emerald-600 dark:text-emerald-400"})," Tips & Panduan"]}),n.jsxs("div",{className:"space-y-3 text-sm text-gray-700 dark:text-gray-300",children:[n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-emerald-500 font-bold mt-0.5",children:"1."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Belum punya kode undangan?"})," Hubungi pengurus masjid terdekat atau admin via WhatsApp"]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-emerald-500 font-bold mt-0.5",children:"2."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Lupa password?"})," Hubungi admin untuk reset password Anda"]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-emerald-500 font-bold mt-0.5",children:"3."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Ingin memberikan saran?"})," Kami terbuka untuk kritik dan saran melalui email atau WhatsApp"]})]}),n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("span",{className:"text-emerald-500 font-bold mt-0.5",children:"4."}),n.jsxs("p",{children:[n.jsx("strong",{children:"Butuh bantuan teknis?"})," Kirimkan screenshot dan deskripsi masalah ke email atau WhatsApp"]})]})]})]}),n.jsx("div",{className:"h-20"})]})]})}function Y4({onBack:t}){return n.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 via-emerald-50/30 to-teal-50/30 dark:from-gray-950 dark:via-gray-900 dark:to-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.03]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-br from-emerald-600 via-emerald-500 to-teal-500 dark:from-emerald-700 dark:via-emerald-600 dark:to-teal-600 text-white p-6 pb-12",style:{borderBottomLeftRadius:"2rem",borderBottomRightRadius:"2rem"},children:[n.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:t,className:"bg-white/20 backdrop-blur-md p-2 rounded-xl",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h1",{className:"text-2xl font-bold",children:"Tentang Jamaah.net"}),n.jsx("p",{className:"text-emerald-50 text-sm",children:"Visi & misi komunitas"})]})]}),n.jsx("div",{className:"absolute top-4 right-6 opacity-20",children:n.jsx(Ol,{className:"w-24 h-24"})})]}),n.jsxs("div",{className:"relative z-10 p-6 space-y-6 pb-24",children:[n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-gradient-to-br from-emerald-500 to-teal-500 dark:from-emerald-600 dark:to-teal-600 rounded-3xl p-8 text-white shadow-2xl relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-0 right-0 w-40 h-40 bg-white/10 rounded-full -mr-20 -mt-20"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-32 h-32 bg-white/10 rounded-full -ml-16 -mb-16"}),n.jsxs("div",{className:"relative z-10",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"bg-white/20 backdrop-blur-md p-3 rounded-2xl",children:n.jsx(Ai,{className:"w-6 h-6"})}),n.jsx("h2",{className:"text-2xl font-bold",children:"Menjadi Saudara yang Sebenar-benarnya"})]}),n.jsxs("p",{className:"text-emerald-50 leading-relaxed text-lg",children:["Jamaahdotnet adalah platform digital yang memudahkan ",n.jsx("span",{className:"font-semibold text-white",children:"jamaah masjid dan kerabatnya"})," untuk saling berinteraksi, baik secara sosial maupun bisnis. Kami hadir sebagai wadah agar komunikasi sesama jamaah menjadi ",n.jsx("span",{className:"font-semibold text-white",children:"lebih banyak dan dalam"}),", memperkuat ikatan emosional untuk saling membantu dan mendukung."]})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(ha,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Realita & Keperihatinan"})]}),n.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},className:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 rounded-2xl p-5 shadow-md",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold mt-0.5",children:"1"}),n.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:["Hampir setiap hari bertemu di masjid, tapi ",n.jsx("span",{className:"font-semibold text-orange-700 dark:text-orange-400",children:"kenal nama saja tidak"}),". Apakah kita sudah benar-benar bersaudara?"]})]})}),n.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.35},className:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 rounded-2xl p-5 shadow-md",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold mt-0.5",children:"2"}),n.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:["Sering bertemu, sudah kenal nama, tapi obrolan baru sebatas basa-basi ",n.jsx("span",{className:"font-semibold text-orange-700 dark:text-orange-400",children:'"Assalamualaikum... sehat?"'})]})]})}),n.jsx(C.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.4},className:"bg-orange-50 dark:bg-orange-900/20 border-l-4 border-orange-500 rounded-2xl p-5 shadow-md",children:n.jsxs("div",{className:"flex items-start gap-3",children:[n.jsx("div",{className:"bg-orange-500 text-white rounded-full w-6 h-6 flex items-center justify-center flex-shrink-0 text-sm font-bold mt-0.5",children:"3"}),n.jsxs("p",{className:"text-gray-800 dark:text-gray-200",children:["Saat butuh bantuan (misal: servis AC), kita tidak tahu bahwa saudara yang sholat berjamaah di sebelah kita ternyata adalah teknisinya. ",n.jsx("span",{className:"font-semibold text-orange-700 dark:text-orange-400",children:"Sangat disayangkan jika kita tidak tahu profesi saudara sendiri"}),"."]})]})})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-emerald-500 to-teal-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(lg,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Landasan Kami"})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.5},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-emerald-200 dark:border-emerald-700/50",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("div",{className:"inline-block bg-emerald-100 dark:bg-emerald-900/30 px-4 py-2 rounded-full mb-4",children:n.jsx("p",{className:"text-sm font-semibold text-emerald-700 dark:text-emerald-400",children:"QS. Al-Hujurat Ayat 10"})})}),n.jsx("div",{className:"mb-6 text-center",children:n.jsx("p",{className:"text-3xl leading-loose text-emerald-700 dark:text-emerald-300",style:{fontFamily:"serif",direction:"rtl"},children:"  "})}),n.jsx("div",{className:"bg-emerald-50 dark:bg-emerald-900/20 rounded-2xl p-4",children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-center italic leading-relaxed",children:'"Sesungguhnya orang-orang mukmin itu bersaudara, karena itu damaikanlah kedua saudaramu dan bertakwalah kepada Allah agar kamu dirahmati."'})})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.55},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-blue-200 dark:border-blue-700/50",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("div",{className:"inline-block bg-blue-100 dark:bg-blue-900/30 px-4 py-2 rounded-full mb-4",children:n.jsx("p",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:"HR. Bukhari"})})}),n.jsx("div",{className:"bg-blue-50 dark:bg-blue-900/20 rounded-2xl p-4",children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-center italic leading-relaxed",children:'"Muslim itu adalah saudara muslim yang lain, jangan berbuat aniaya. Barangsiapa membantu kebutuhan saudaranya, maka Allah membantu kebutuhannya."'})})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.6},className:"bg-white dark:bg-gray-800/50 backdrop-blur-sm rounded-3xl p-6 shadow-xl border border-teal-200 dark:border-teal-700/50",children:[n.jsx("div",{className:"text-center mb-4",children:n.jsx("div",{className:"inline-block bg-teal-100 dark:bg-teal-900/30 px-4 py-2 rounded-full mb-4",children:n.jsx("p",{className:"text-sm font-semibold text-teal-700 dark:text-teal-400",children:"HR. Thabrani"})})}),n.jsx("div",{className:"mb-6 text-center",children:n.jsx("p",{className:"text-3xl leading-loose text-teal-700 dark:text-teal-300",style:{fontFamily:"serif",direction:"rtl"},children:"   "})}),n.jsx("div",{className:"bg-teal-50 dark:bg-teal-900/20 rounded-2xl p-4",children:n.jsx("p",{className:"text-gray-700 dark:text-gray-300 text-center italic",children:'"Sebaik-baik manusia adalah yang paling bermanfaat bagi orang lain."'})})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.65},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(bn,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Pesan Pemberdayaan"})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.7},className:"bg-gradient-to-br from-purple-50 to-pink-50 dark:from-purple-900/20 dark:to-pink-900/20 rounded-3xl p-8 shadow-xl border-l-4 border-purple-500 relative overflow-hidden",children:[n.jsx("div",{className:"absolute top-4 left-4 text-purple-200 dark:text-purple-700 text-8xl font-serif leading-none opacity-30",children:'"'}),n.jsx("div",{className:"absolute bottom-4 right-4 text-purple-200 dark:text-purple-700 text-8xl font-serif leading-none opacity-30 rotate-180",children:'"'}),n.jsxs("div",{className:"relative z-10 space-y-4",children:[n.jsxs("p",{className:"text-gray-800 dark:text-gray-200 text-lg leading-relaxed italic",children:["Masjid bukan hanya tempat ibadah, tetapi ",n.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-400",children:"pusat pemberdayaan masyarakat"})," yang harus saling memakmurkan."]}),n.jsxs("p",{className:"text-gray-800 dark:text-gray-200 text-lg leading-relaxed italic",children:["Kemakmuran masjid tidak hanya diukur dari bangunannya yang besar atau ramainya jamaah, tetapi juga dari ",n.jsx("span",{className:"font-semibold text-purple-700 dark:text-purple-400",children:"meningkatnya kesejahteraan warga dan jamaah"})," di sekitarnya."]}),n.jsxs("div",{className:"flex items-center gap-3 mt-6 pt-4 border-t-2 border-purple-200 dark:border-purple-700/30",children:[n.jsx("div",{className:"h-12 w-1 bg-gradient-to-b from-purple-500 to-pink-500 rounded-full"}),n.jsxs("div",{children:[n.jsx("p",{className:"font-bold text-gray-900 dark:text-white",children:"M. Jusuf Kalla"}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Ketua Dewan Masjid Indonesia (DMI)"})]})]})]})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.75},className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[n.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-amber-500 to-yellow-500 rounded-2xl flex items-center justify-center shadow-lg",children:n.jsx(jw,{className:"w-5 h-5 text-white"})}),n.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:"Harapan"})]}),n.jsx(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.8},className:"bg-gradient-to-br from-amber-50 to-yellow-50 dark:from-amber-900/20 dark:to-yellow-900/20 rounded-3xl p-8 shadow-xl border-l-4 border-amber-500",children:n.jsxs("p",{className:"text-gray-800 dark:text-gray-200 text-lg leading-relaxed",children:["Bila kondisi masjid sudah menjadi ",n.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:"pusat pemberdayaan"}),", jamaah akan benar-benar menjadi saudara yang ",n.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:"saling memberi manfaat"})," dan ",n.jsx("span",{className:"font-semibold text-amber-700 dark:text-amber-400",children:"berkontribusi nyata"})," pada kesejahteraan umat."]})})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.85},className:"bg-gradient-to-br from-emerald-600 to-teal-600 dark:from-emerald-700 dark:to-teal-700 rounded-3xl p-8 text-center text-white shadow-2xl",children:[n.jsx("div",{className:"flex justify-center mb-4",children:n.jsx("div",{className:"bg-white/20 backdrop-blur-md p-4 rounded-2xl",children:n.jsx(er,{className:"w-8 h-8"})})}),n.jsx("h3",{className:"text-2xl font-bold mb-3",children:"Mari Bersama Membangun Ukhuwah"}),n.jsx("p",{className:"text-emerald-50 mb-6 max-w-md mx-auto",children:"Bergabunglah dengan komunitas jamaah masjid yang saling mendukung dan memberdayakan"}),n.jsxs("div",{className:"inline-flex items-center gap-2 bg-white/20 backdrop-blur-md px-6 py-3 rounded-full",children:[n.jsx(Lt,{className:"w-5 h-5"}),n.jsx("span",{className:"font-semibold",children:"Jamaah.net"})]})]})]})]})}function X4({session:t,isOpen:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(!1),[d,h]=P.useState({title:"",category:"Kajian",date:"",location:"",description:""}),m=tt();if(!e)return null;const p=async g=>{g.preventDefault(),c(!0);try{const{error:y}=await m.from("events").insert([{title:d.title,category:d.category,date:d.date,location:d.location,description:d.description,organizer_id:t.user.id}]);if(y)throw y;Z.success("Event successfully created!"),i(),s()}catch(y){console.error("Error creating event:",y),Z.error("Failed to create event")}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-800 shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Create New Event"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-500",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Title"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:d.title,onChange:g=>h({...d,title:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"Event Title"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Category"}),n.jsxs("select",{value:d.category,onChange:g=>h({...d,category:g.target.value}),className:"w-full px-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all appearance-none",children:[n.jsx("option",{value:"Kajian",children:"Kajian"}),n.jsx("option",{value:"Sholat",children:"Sholat"}),n.jsx("option",{value:"Sosial",children:"Sosial"}),n.jsx("option",{value:"Umum",children:"Umum"})]})]}),n.jsx("div",{className:"grid grid-cols-2 gap-4",children:n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Date"}),n.jsxs("div",{className:"relative",children:[n.jsx(Tt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"date",required:!0,value:d.date,onChange:g=>h({...d,date:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all"})]})]})}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Location"}),n.jsxs("div",{className:"relative",children:[n.jsx(_l,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:d.location,onChange:g=>h({...d,location:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"Event Location"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Description"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{required:!0,value:d.description,onChange:g=>h({...d,description:g.target.value}),rows:4,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all resize-none",placeholder:"Event Description..."})]})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Create Event"})]})]})})})}function Q4({session:t,isOpen:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(!1),[d,h]=P.useState({title:"",content:""}),m=tt();if(!e)return null;const p=async g=>{g.preventDefault(),c(!0);try{const{error:y}=await m.from("announcements").insert([{title:d.title,content:d.content,author_id:t.user.id}]);if(y)throw y;Z.success("Announcement successfully created!"),i(),s()}catch(y){console.error("Error creating announcement:",y),Z.error("Failed to create announcement")}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full border border-gray-200 dark:border-gray-800 shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"New Announcement"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-500",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Title"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:d.title,onChange:g=>h({...d,title:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"Announcement Title"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Content"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{required:!0,value:d.content,onChange:g=>h({...d,content:g.target.value}),rows:6,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all resize-none",placeholder:"Write your announcement here..."})]})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Publishing...":"Publish Announcement"})]})]})})})}function Z4({session:t,isOpen:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(!1),[d,h]=P.useState({title:"",description:"",target_amount:"",image_url:""}),m=tt();if(!e)return null;const p=async g=>{g.preventDefault(),c(!0);try{const{error:y}=await m.from("donation_campaigns").insert([{title:d.title,description:d.description,target_amount:parseInt(d.target_amount),current_amount:0,image_url:d.image_url,status:"active"}]);if(y)throw y;Z.success("Campaign successfully created!"),i(),s()}catch(y){console.error("Error creating campaign:",y),Z.error("Failed to create campaign")}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-md w-full max-h-[90vh] overflow-y-auto border border-gray-200 dark:border-gray-800 shadow-2xl",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"Create Donation Campaign"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-500",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Campaign Title"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:d.title,onChange:g=>h({...d,title:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"e.g., Renovasi Masjid"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Target Amount (Rp)"}),n.jsxs("div",{className:"relative",children:[n.jsx(Bu,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"number",required:!0,min:"0",value:d.target_amount,onChange:g=>h({...d,target_amount:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"0"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Image URL"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"url",required:!0,value:d.image_url,onChange:g=>h({...d,image_url:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"https://..."})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Description"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{required:!0,value:d.description,onChange:g=>h({...d,description:g.target.value}),rows:4,className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all resize-none",placeholder:"Explain the campaign goal..."})]})]}),n.jsx("button",{type:"submit",disabled:l,className:"w-full py-3 bg-emerald-600 hover:bg-emerald-700 text-white font-semibold rounded-xl transition-all active:scale-95 flex items-center justify-center gap-2 disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Launching...":"Launch Campaign"})]})]})})})}function eE({session:t,isOpen:e,onClose:s,onSuccess:i}){const[l,c]=P.useState(!1),[d,h]=P.useState({title:"",excerpt:"",content:"",author:"",image:""}),m=tt();if(!e)return null;const p=async g=>{g.preventDefault(),c(!0);try{const{error:y}=await m.from("articles").insert([{title:d.title,excerpt:d.excerpt,content:d.content,author:d.author||"Admin",image:d.image||null,created_at:new Date().toISOString()}]);if(y)throw y;Z.success("Article successfully created!"),h({title:"",excerpt:"",content:"",author:"",image:""}),i(),s()}catch(y){console.error("Error creating article:",y),Z.error("Failed to create article")}finally{c(!1)}};return n.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4 backdrop-blur-sm overflow-y-auto",children:n.jsx("div",{className:"bg-white dark:bg-gray-900 rounded-2xl max-w-2xl w-full border border-gray-200 dark:border-gray-800 shadow-2xl my-8",children:n.jsxs("div",{className:"p-6",children:[n.jsxs("div",{className:"flex justify-between items-center mb-6",children:[n.jsx("h2",{className:"text-xl font-bold dark:text-white",children:"New Article"}),n.jsx("button",{onClick:s,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-full transition-colors text-gray-500",children:n.jsx($t,{className:"w-5 h-5"})})]}),n.jsxs("form",{onSubmit:p,className:"space-y-4",children:[n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Title *"}),n.jsxs("div",{className:"relative",children:[n.jsx(Sl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",required:!0,value:d.title,onChange:g=>h({...d,title:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"Article Title"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Excerpt *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{required:!0,value:d.excerpt,onChange:g=>h({...d,excerpt:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all resize-none",placeholder:"Brief summary of the article...",rows:2})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Content *"}),n.jsxs("div",{className:"relative",children:[n.jsx(gi,{className:"absolute left-3 top-3 w-4 h-4 text-gray-400"}),n.jsx("textarea",{required:!0,value:d.content,onChange:g=>h({...d,content:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all resize-none",placeholder:"Full article content...",rows:8})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Author"}),n.jsxs("div",{className:"relative",children:[n.jsx(mr,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"text",value:d.author,onChange:g=>h({...d,author:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"Author name (default: Admin)"})]})]}),n.jsxs("div",{children:[n.jsx("label",{className:"block text-sm font-medium mb-1.5 dark:text-gray-300",children:"Image URL"}),n.jsxs("div",{className:"relative",children:[n.jsx(Nl,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),n.jsx("input",{type:"url",value:d.image,onChange:g=>h({...d,image:g.target.value}),className:"w-full pl-10 pr-4 py-2.5 bg-gray-50 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 rounded-xl focus:ring-2 focus:ring-emerald-500 focus:border-transparent outline-none dark:text-white transition-all",placeholder:"https://example.com/image.jpg (optional)"})]})]}),n.jsxs("div",{className:"flex gap-3 pt-4",children:[n.jsx("button",{type:"button",onClick:s,className:"flex-1 px-4 py-2.5 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-300 rounded-xl font-semibold hover:bg-gray-200 dark:hover:bg-gray-700 transition-colors",children:"Cancel"}),n.jsx("button",{type:"submit",disabled:l,className:"flex-1 px-4 py-2.5 bg-gradient-to-r from-teal-600 to-emerald-600 text-white rounded-xl font-semibold hover:from-teal-700 hover:to-emerald-700 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:l?"Creating...":"Create Article"})]})]})]})})})}function tE({session:t,onNavigate:e}){const[s,i]=P.useState("overview"),[l,c]=P.useState(""),[d,h]=P.useState(!0),[m,p]=P.useState({totalUsers:0,activeUsers:0,pendingUsers:0,totalProducts:0,pendingProducts:0,activeCampaigns:0,totalDonations:0,monthlyGrowth:0}),[g,y]=P.useState([]),[v,w]=P.useState([]),[k,N]=P.useState([]),[_,T]=P.useState([]),[S,j]=P.useState([]),[D,$]=P.useState([]),[B,L]=P.useState([]),[O,H]=P.useState([]),[se,he]=P.useState("All"),[je,J]=P.useState(!1),[be,Pe]=P.useState(!1),[ge,le]=P.useState(!1),[Y,ie]=P.useState(!1),K=tt();P.useEffect(()=>{M()},[t]);const M=async()=>{h(!0);try{await Promise.all([W(),re(),fe(),Se(),Re(),xe(),ve(),De(),Kt()])}catch(E){console.error("Error fetching admin data:",E),Z.error("Gagal memuat data dashboard")}finally{h(!1)}},W=async()=>{try{const{data:E,error:F}=await K.from("profiles").select("*");if(F)throw F;if(E){const ce=E.map(ne=>({id:ne.id,name:ne.full_name||ne.name||"Anonymous User",email:ne.email||"Email hidden",memberId:ne.id?ne.id.substring(0,8).toUpperCase():"UNKNOWN",status:ne.status||"Active",role:ne.role||"user"}));y(ce);const Ae=ce.filter(ne=>ne.status==="Active"||ne.status==="approved").length,Ce=ce.filter(ne=>ne.status==="Pending"||ne.status==="pending").length;p(ne=>({...ne,totalUsers:ce.length,activeUsers:Ae,pendingUsers:Ce}))}}catch(E){console.error("Error fetching users:",E)}},re=async()=>{try{const{data:E,error:F}=await K.from("timeline_posts").select("*").order("created_at",{ascending:!1});if(F)throw F;E&&w(E.map(ce=>({id:ce.id,title:ce.title||(ce.content?ce.content.substring(0,50)+(ce.content.length>50?"...":""):"No Content"),content:ce.content,is_approved:ce.is_approved,status:ce.is_approved?"Approved":"Pending",date:new Date(ce.created_at).toISOString().split("T")[0],views:ce.views||0})))}catch(E){console.error("Error fetching timeline posts:",E)}},fe=async()=>{try{const{data:E,error:F}=await K.from("events").select("*").order("date",{ascending:!1});if(F)throw F;E&&N(E)}catch(E){console.error("Error fetching events:",E)}},xe=async()=>{try{const{data:E,error:F}=await K.from("articles").select("*").order("created_at",{ascending:!1});if(F)throw F;E&&$(E)}catch(E){console.error("Error fetching articles:",E)}},Se=async()=>{try{const{data:E,error:F}=await K.from("donation_campaigns").select("*");if(F)throw F;if(E){const ce=E.map(ne=>({id:ne.id,title:ne.title,target:ne.target_amount||0,collected:ne.collected_amount||ne.current_amount||0,status:ne.status==="active"?"Active":ne.status==="completed"?"Completed":"Draft",endDate:ne.end_date||new Date().toISOString().split("T")[0],donors:ne.donor_count||0}));j(ce);const Ae=ce.filter(ne=>ne.status==="Active").length,Ce=ce.reduce((ne,fs)=>ne+(fs.collected||0),0);p(ne=>({...ne,activeCampaigns:Ae,totalDonations:Ce}))}}catch(E){console.error("Error fetching campaigns:",E)}},Re=async()=>{try{const{data:E,error:F}=await K.from("products").select("*, profiles(name)").order("created_at",{ascending:!1});if(F)throw F;if(E){T(E);const ce=E.filter(Ae=>Ae.status==="pending").length;p(Ae=>({...Ae,totalProducts:E.length,pendingProducts:ce}))}}catch(E){console.error("Error fetching products:",E)}},ve=async()=>{},De=async()=>{try{const{data:E,error:F}=await K.from("timeline_posts").select("*, profiles(name)").order("created_at",{ascending:!1}).limit(20),{data:ce,error:Ae}=await K.from("products").select("*, profiles(name)").order("created_at",{ascending:!1}).limit(20);F&&console.error("Error fetching posts for moderation:",F),Ae&&console.error("Error fetching products for moderation:",Ae);const Ce=[];E&&E.forEach(ne=>{Ce.push({id:ne.id,type:"post",userName:ne.profiles?.full_name||ne.profiles?.name||"Anonymous User",userId:ne.user_id,content:ne.content||"No content",image:ne.image_url||null,timestamp:ne.created_at,status:ne.status||"published",title:ne.title||null})}),ce&&ce.forEach(ne=>{Ce.push({id:ne.id,type:"product",userName:ne.profiles?.full_name||ne.profiles?.name||"Anonymous User",userId:ne.user_id,content:ne.description||ne.name||"No description",image:ne.image_url||ne.images?.[0]||null,timestamp:ne.created_at,status:ne.status||"pending",title:ne.name||null,price:ne.price||0})}),Ce.sort((ne,fs)=>new Date(fs.timestamp).getTime()-new Date(ne.timestamp).getTime()),L(Ce)}catch(E){console.error("Error fetching moderation queue:",E)}},rt=async(E,F)=>{try{const ce=F==="post"?"timeline_posts":"products",{error:Ae}=await K.from(ce).update({status:F==="post"?"published":"approved"}).eq("id",E);if(Ae)throw Ae;Z.success(`${F==="post"?"Post":"Product"} approved successfully!`),De()}catch(ce){console.error("Error approving content:",ce),Z.error("Failed to approve content")}},gr=async(E,F)=>{if(confirm(`Are you sure you want to take down this ${F}? This action will delete the content.`))try{const ce=F==="post"?"timeline_posts":"products",{error:Ae}=await K.from(ce).delete().eq("id",E);if(Ae)throw Ae;Z.success(`${F==="post"?"Post":"Product"} taken down successfully!`),De()}catch(ce){console.error("Error taking down content:",ce),Z.error("Failed to take down content")}},Kt=async()=>{try{const{data:E}=await K.from("timeline_posts").select("*, profiles(name)").limit(5),{data:F}=await K.from("products").select("*, profiles(name)").limit(3),ce=[],Ae=["Spam","Inappropriate Content","Harassment","Misleading Information","Offensive Language"];E&&E.forEach((Ce,ne)=>{ce.push({id:Ce.id,type:"post",authorName:Ce.profiles?.full_name||Ce.profiles?.name||"Anonymous User",authorId:Ce.user_id,content:Ce.content||"No content",image:Ce.image_url||null,timestamp:Ce.created_at,title:Ce.title||null,reason:Ae[ne%Ae.length],totalReports:Math.floor(Math.random()*10)+1,reportStatus:"pending"})}),F&&F.forEach((Ce,ne)=>{ce.push({id:Ce.id,type:"product",authorName:Ce.profiles?.full_name||Ce.profiles?.name||"Anonymous User",authorId:Ce.user_id,content:Ce.description||Ce.name||"No description",image:Ce.image_url||Ce.images?.[0]||null,timestamp:Ce.created_at,title:Ce.name||null,price:Ce.price||0,reason:Ae[ne%Ae.length],totalReports:Math.floor(Math.random()*15)+3,reportStatus:"pending"})}),ce.sort((Ce,ne)=>ne.totalReports-Ce.totalReports),H(ce)}catch(E){console.error("Error fetching user reports:",E)}},ds=async(E,F)=>{if(confirm("Are you sure you want to dismiss this report? The content will remain visible."))try{Z.success("Report dismissed successfully!"),Kt()}catch(ce){console.error("Error dismissing report:",ce),Z.error("Failed to dismiss report")}},Fr=async(E,F,ce)=>{if(confirm("Are you sure you want to take down this content and warn the author? This action cannot be undone."))try{const Ae=F==="post"?"timeline_posts":"products",{error:Ce}=await K.from(Ae).delete().eq("id",E);if(Ce)throw Ce;Z.success("Content taken down and author warned!"),Kt()}catch(Ae){console.error("Error taking down content:",Ae),Z.error("Failed to take down content")}},us=async E=>{try{const{error:F}=await K.from("profiles").update({status:"Active"}).eq("id",E);if(F)throw F;Z.success("User berhasil disetujui!"),W()}catch(F){console.error("Error approving user:",F),Z.error("Gagal menyetujui user")}},Hr=async(E,F)=>{try{const{error:ce}=await K.from("profiles").update({role:F}).eq("id",E);if(ce)throw ce;Z.success(`Role user berhasil diubah menjadi ${F}`),W()}catch(ce){console.error("Error updating user role:",ce),Z.error("Gagal mengubah role user")}},qt=async E=>{if(window.confirm("Are you sure you want to delete this user?"))try{const{error:F}=await K.from("profiles").delete().eq("id",E);if(F)throw F;Z.success("User berhasil dihapus"),W()}catch(F){console.error("Error deleting user:",F),Z.error("Gagal menghapus user")}},Ks=async E=>{if(confirm("Yakin ingin menghapus postingan ini?"))try{const{error:F}=await K.from("timeline_posts").delete().eq("id",E);if(F)throw F;Z.success("Timeline post berhasil dihapus!"),re()}catch(F){console.error("Error deleting timeline post:",F),Z.error("Gagal menghapus timeline post")}},Pt=async E=>{try{const{error:F}=await K.from("articles").delete().eq("id",E);if(F)throw F;Z.success("Article berhasil dihapus!"),xe()}catch(F){console.error("Error deleting article:",F),Z.error("Gagal menghapus article")}},Wr=async E=>{try{const{error:F}=await K.from("timeline_posts").update({is_approved:!0}).eq("id",E);if(F)throw F;Z.success("Timeline post berhasil disetujui!"),re()}catch(F){console.error("Error approving timeline post:",F),Z.error("Gagal menyetujui timeline post")}},Ir=async E=>{try{const{error:F}=await K.from("timeline_posts").update({is_approved:!1}).eq("id",E);if(F)throw F;Z.success("Timeline post berhasil disembunyikan!"),re()}catch(F){console.error("Error rejecting timeline post:",F),Z.error("Gagal menyembunyikan timeline post")}},ot=async E=>{if(confirm("Yakin ingin menghapus kegiatan ini?"))try{const{error:F}=await K.from("events").delete().eq("id",E);if(F)throw F;Z.success("Kegiatan berhasil dihapus!"),fe()}catch(F){console.error("Error deleting event:",F),Z.error("Gagal menghapus kegiatan")}},yr=async E=>{if(confirm("Yakin ingin menghapus produk ini?"))try{const{error:F}=await K.from("products").delete().eq("id",E);if(F)throw F;Z.success("Produk berhasil dihapus!"),Re()}catch(F){console.error("Error deleting product:",F),Z.error("Gagal menghapus produk")}},kn=async E=>{try{const{error:F}=await K.from("products").update({status:"approved"}).eq("id",E);if(F)throw F;Z.success("Produk berhasil disetujui!"),Re()}catch(F){console.error("Error approving product:",F),Z.error("Gagal menyetujui produk")}},jn=async E=>{if(confirm("Yakin ingin menolak produk ini?"))try{const{error:F}=await K.from("products").update({status:"rejected"}).eq("id",E);if(F)throw F;Z.success("Produk berhasil ditolak!"),Re()}catch(F){console.error("Error rejecting product:",F),Z.error("Gagal menolak produk")}},At=E=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(E),hs=E=>new Date(E).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"}),xr=({user:E,index:F,handleUpdateRole:ce,handleDeleteUser:Ae,handleApproveUser:Ce})=>n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex items-center gap-4",children:[E.avatar_url?n.jsx("img",{src:E.avatar_url,alt:E.name,className:"w-12 h-12 rounded-full object-cover border-2 border-white dark:border-gray-800 shadow-sm"}):n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-emerald-500 to-teal-600 rounded-full flex items-center justify-center flex-shrink-0 text-white font-bold text-lg shadow-sm",children:E.name.charAt(0).toUpperCase()}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-1.5",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate",children:E.name}),E.role==="Admin"&&n.jsx(Rb,{className:"w-5 h-5 text-white fill-blue-500 shrink-0"})]}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 truncate",children:E.email})]}),n.jsxs("div",{className:"flex items-center gap-3",children:[n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.status==="Active"||E.status==="approved"?"bg-emerald-100 dark:bg-emerald-900/30 text-emerald-700 dark:text-emerald-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:E.status||"Active"}),n.jsx("div",{className:"relative",children:n.jsxs("select",{value:E.role||"Member",onChange:ne=>ce(E.id,ne.target.value),className:"bg-gray-100 dark:bg-gray-800 border border-gray-200 dark:border-gray-700 text-xs font-semibold rounded-xl px-4 py-2 text-gray-700 dark:text-gray-300 appearance-none active:scale-95 transition-all outline-none focus:ring-2 focus:ring-emerald-500",onClick:ne=>ne.stopPropagation(),children:[n.jsx("option",{value:"Member",children:"Member"}),n.jsx("option",{value:"Admin",children:"Admin"})]})}),E.status==="Pending"||E.status==="pending"?n.jsxs(C.button,{whileTap:{scale:.95},className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-teal-600 text-white font-bold rounded-xl shadow-md hover:shadow-lg transition-all flex items-center gap-1 text-xs",onClick:()=>Ce(E.id),children:[n.jsx(Nd,{className:"w-4 h-4"}),"APPROVE"]}):n.jsx("button",{className:"p-2 text-red-500 bg-red-50 dark:bg-red-500/10 active:bg-red-100 dark:active:bg-red-500/20 rounded-xl transition-all active:scale-95 hover:bg-red-100 dark:hover:bg-red-900/20",onClick:()=>Ae(E.id),children:n.jsx(hr,{className:"w-4 h-4"})})]})]})},E.id);return n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-950",children:[n.jsx("div",{className:"fixed inset-0 pointer-events-none overflow-hidden",children:n.jsx(We,{className:"text-emerald-600 dark:text-emerald-400 opacity-[0.02]"})}),n.jsxs(C.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative z-20 bg-gradient-to-r from-emerald-800 via-emerald-700 to-teal-800 text-white shadow-2xl",children:[n.jsxs("div",{className:"px-6 py-4",children:[n.jsxs("div",{className:"flex items-center gap-4 mb-4",children:[n.jsx(C.button,{whileTap:{scale:.9},onClick:()=>e("profile"),className:"p-2 hover:bg-white/10 rounded-xl transition-colors",children:n.jsx(rr,{className:"w-6 h-6"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(hl,{className:"w-6 h-6 text-amber-300"}),n.jsx("h1",{className:"text-xl font-bold",children:"Admin Dashboard"})]}),n.jsx("p",{className:"text-emerald-100 text-sm mt-1",children:"Control Center  jamaah.net"})]}),n.jsxs(C.button,{whileTap:{scale:.9},className:"p-2 hover:bg-white/10 rounded-xl transition-colors relative",children:[n.jsx(Uu,{className:"w-6 h-6"}),n.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]})]}),n.jsxs("div",{className:"inline-flex items-center gap-2 px-4 py-2 bg-amber-500/20 backdrop-blur-md rounded-full border border-amber-400/30",children:[n.jsx("div",{className:"w-2 h-2 bg-amber-400 rounded-full animate-pulse"}),n.jsx("span",{className:"text-sm font-semibold text-amber-200",children:"Admin Mode Active"})]})]}),n.jsxs("div",{className:"px-6 flex gap-2 overflow-x-auto scrollbar-hide pb-2",children:[n.jsx(rs,{active:s==="overview",onClick:()=>i("overview"),icon:jb,label:"Overview"}),n.jsx(rs,{active:s==="users",onClick:()=>i("users"),icon:er,label:"Users"}),n.jsx(rs,{active:s==="timeline",onClick:()=>i("timeline"),icon:_w,label:"Timeline"}),n.jsx(rs,{active:s==="events",onClick:()=>i("events"),icon:Tt,label:"Events"}),n.jsx(rs,{active:s==="marketplace",onClick:()=>i("marketplace"),icon:vn,label:"Marketplace"}),n.jsx(rs,{active:s==="campaigns",onClick:()=>i("campaigns"),icon:pn,label:"Campaigns"}),n.jsx(rs,{active:s==="articles",onClick:()=>i("articles"),icon:lg,label:"Articles"}),n.jsx(rs,{active:s==="moderation",onClick:()=>i("moderation"),icon:f0,label:"Moderation"}),n.jsx(rs,{active:s==="reports",onClick:()=>i("reports"),icon:u0,label:"Reports"})]})]}),n.jsx("div",{className:"relative z-10 p-6 pb-24",children:n.jsxs(sr,{mode:"wait",children:[s==="overview"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs("div",{className:"grid grid-cols-2 gap-4 mb-6",children:[n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.1},className:"bg-gradient-to-br from-emerald-600 to-teal-800 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12 blur-xl"}),n.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-xl w-fit mb-3",children:n.jsx(er,{className:"w-6 h-6 text-white"})}),n.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Total Users"}),n.jsx("h3",{className:"text-3xl font-bold tracking-tight",children:m.totalUsers})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[n.jsxs("div",{children:[n.jsx("p",{className:"text-xs text-emerald-100 uppercase tracking-wider font-semibold",children:"Active"}),n.jsx("p",{className:"text-lg font-bold",children:m.activeUsers})]}),n.jsxs("div",{className:"px-2 py-1 bg-emerald-500/30 rounded-lg text-xs font-bold text-emerald-100 flex items-center gap-1",children:[n.jsx(pn,{className:"w-3 h-3"}),"+12%"]})]})]})]}),n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:.2},className:"bg-gradient-to-br from-emerald-600 to-teal-800 rounded-3xl p-6 text-white relative overflow-hidden shadow-xl",children:[n.jsx("div",{className:"absolute top-0 right-0 w-32 h-32 bg-white/10 rounded-full -mr-16 -mt-16 blur-xl"}),n.jsx("div",{className:"absolute bottom-0 left-0 w-24 h-24 bg-white/10 rounded-full -ml-12 -mb-12 blur-xl"}),n.jsxs("div",{className:"relative z-10 flex flex-col h-full justify-between",children:[n.jsxs("div",{children:[n.jsx("div",{className:"p-2 bg-white/20 backdrop-blur-md rounded-xl w-fit mb-3",children:n.jsx(Bu,{className:"w-6 h-6 text-white"})}),n.jsx("p",{className:"text-emerald-100 text-sm font-medium mb-1",children:"Total Donations"}),n.jsx("h3",{className:"text-2xl font-bold tracking-tight truncate",children:At(m.totalDonations)})]}),n.jsxs("div",{className:"mt-4 pt-4 border-t border-white/10 flex items-center justify-between",children:[n.jsxs("div",{className:"px-2 py-1 bg-emerald-500/30 rounded-lg text-xs font-bold text-emerald-100 flex items-center gap-1",children:[n.jsx(pn,{className:"w-3 h-3"}),"+",m.monthlyGrowth,"%"]}),n.jsx("p",{className:"text-xs text-emerald-100",children:"this month"})]})]})]})]}),n.jsxs("div",{className:"space-y-4 mb-8",children:[n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.3},className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center justify-between group cursor-pointer hover:border-emerald-500/30 transition-all",onClick:()=>i("users"),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-orange-100 dark:bg-orange-900/20 flex items-center justify-center text-orange-600 dark:text-orange-400 group-hover:scale-110 transition-transform",children:n.jsx(Nd,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Pending Users"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Requires approval"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white block",children:m.pendingUsers}),m.pendingUsers>0&&n.jsx("span",{className:"text-xs font-semibold text-orange-600 dark:text-orange-400",children:"Action needed"})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.35},className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center justify-between group cursor-pointer hover:border-emerald-500/30 transition-all",onClick:()=>i("marketplace"),children:[n.jsxs("div",{className:"flex items-center gap-4",children:[n.jsx("div",{className:"w-12 h-12 rounded-xl bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:n.jsx(vn,{className:"w-6 h-6"})}),n.jsxs("div",{children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:"Active Products"}),n.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Marketplace items"})]})]}),n.jsxs("div",{className:"text-right",children:[n.jsx("span",{className:"text-xl font-bold text-gray-900 dark:text-white block",children:m.totalProducts}),n.jsx("span",{className:"text-xs font-semibold text-green-600 dark:text-green-400",children:"+5% growth"})]})]})]}),n.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:[n.jsxs("div",{className:"flex items-center justify-between mb-4 px-1",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Active Campaigns"}),n.jsxs("button",{onClick:()=>i("campaigns"),className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 flex items-center hover:underline",children:["View All ",n.jsx(zs,{className:"w-4 h-4"})]})]}),n.jsxs("div",{className:"space-y-3",children:[S.slice(0,3).map(E=>n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center gap-4",children:[n.jsxs("div",{className:"w-10 h-10 rounded-full bg-emerald-100 dark:bg-emerald-900/30 flex items-center justify-center text-emerald-600 dark:text-emerald-400 font-bold text-sm shrink-0",children:[Math.round(E.collected/E.target*100),"%"]}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsx("h4",{className:"font-semibold text-gray-900 dark:text-white truncate text-sm",children:E.title}),n.jsx("div",{className:"h-1.5 w-full bg-gray-100 dark:bg-gray-800 rounded-full mt-2 overflow-hidden",children:n.jsx("div",{className:"h-full bg-emerald-500 rounded-full",style:{width:`${Math.min(E.collected/E.target*100,100)}%`}})})]}),n.jsxs("div",{className:"text-right shrink-0",children:[n.jsx("span",{className:"text-xs font-bold text-gray-900 dark:text-white block",children:At(E.collected)}),n.jsx("span",{className:"text-[10px] text-gray-500 dark:text-gray-400",children:"raised"})]})]},E.id)),S.length===0&&n.jsx("div",{className:"text-center py-8 text-gray-500 dark:text-gray-400 text-sm bg-white dark:bg-gray-900 rounded-2xl border border-dashed border-gray-300 dark:border-gray-700",children:"No active campaigns"})]})]}),n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.45},children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-4 px-1",children:"Quick Actions"}),n.jsxs("div",{className:"space-y-3",children:[n.jsxs("button",{onClick:()=>Pe(!0),className:"w-full bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center gap-4 group hover:border-blue-500/50 transition-all text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-blue-100 dark:bg-blue-900/20 flex items-center justify-center text-blue-600 dark:text-blue-400 group-hover:scale-110 transition-transform",children:n.jsx(ns,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"New Announcement"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Post update to timeline"})]}),n.jsx(zs,{className:"w-5 h-5 text-gray-400 group-hover:text-blue-500 transition-colors"})]}),n.jsxs("button",{onClick:()=>i("users"),className:"w-full bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center gap-4 group hover:border-emerald-500/50 transition-all text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-emerald-100 dark:bg-emerald-900/20 flex items-center justify-center text-emerald-600 dark:text-emerald-400 group-hover:scale-110 transition-transform",children:n.jsx(Nd,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Approve Users"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Review pending registrations"})]}),n.jsxs("div",{className:"flex items-center gap-2",children:[m.pendingUsers>0&&n.jsx("span",{className:"px-2 py-0.5 bg-red-100 dark:bg-red-900/30 text-red-600 dark:text-red-400 text-[10px] font-bold rounded-full",children:m.pendingUsers}),n.jsx(zs,{className:"w-5 h-5 text-gray-400 group-hover:text-emerald-500 transition-colors"})]})]}),n.jsxs("button",{onClick:()=>i("campaigns"),className:"w-full bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex items-center gap-4 group hover:border-purple-500/50 transition-all text-left",children:[n.jsx("div",{className:"w-10 h-10 rounded-xl bg-purple-100 dark:bg-purple-900/20 flex items-center justify-center text-purple-600 dark:text-purple-400 group-hover:scale-110 transition-transform",children:n.jsx(pn,{className:"w-5 h-5"})}),n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white text-sm",children:"Manage Campaigns"}),n.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Track donations & progress"})]}),n.jsx(zs,{className:"w-5 h-5 text-gray-400 group-hover:text-purple-500 transition-colors"})]})]})]})]})]},"overview"),s==="users"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs("div",{className:"mb-6 space-y-3",children:[n.jsxs("div",{className:"flex gap-3",children:[n.jsxs("div",{className:"flex-1 relative",children:[n.jsx(yi,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-gray-400"}),n.jsx("input",{type:"text",placeholder:"Search users...",value:l,onChange:E=>c(E.target.value),className:"w-full pl-12 pr-4 py-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl text-gray-900 dark:text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-emerald-500"})]}),n.jsx(C.button,{whileTap:{scale:.95},className:"p-3 bg-white dark:bg-gray-900 border border-gray-200 dark:border-gray-800 rounded-2xl",children:n.jsx(dg,{className:"w-6 h-6 text-gray-600 dark:text-gray-400"})})]}),n.jsxs("div",{className:"flex gap-3 overflow-x-auto scrollbar-hide",children:[n.jsx("div",{className:"flex-shrink-0 px-4 py-2 bg-blue-100 dark:bg-blue-900/30 rounded-xl",children:n.jsxs("span",{className:"text-sm font-semibold text-blue-700 dark:text-blue-400",children:["All (",g.length,")"]})}),n.jsx("div",{className:"flex-shrink-0 px-4 py-2 bg-green-100 dark:bg-green-900/30 rounded-xl",children:n.jsxs("span",{className:"text-sm font-semibold text-green-700 dark:text-green-400",children:["Active (",g.filter(E=>E.status==="Active").length,")"]})}),n.jsx("div",{className:"flex-shrink-0 px-4 py-2 bg-orange-100 dark:bg-orange-900/30 rounded-xl",children:n.jsxs("span",{className:"text-sm font-semibold text-orange-700 dark:text-orange-400",children:["Pending (",g.filter(E=>E.status==="Pending").length,")"]})})]})]}),n.jsxs("div",{className:"space-y-8",children:[g.filter(E=>E.role==="Admin").length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[n.jsx(hl,{className:"w-5 h-5 text-amber-500"}),"Admins"]}),n.jsx("div",{className:"space-y-3",children:g.filter(E=>E.role==="Admin").map((E,F)=>n.jsx(xr,{user:E,index:F,handleUpdateRole:Hr,handleDeleteUser:qt,handleApproveUser:us},E.id))})]}),g.filter(E=>E.status==="Pending"||E.status==="pending").length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[n.jsx(as,{className:"w-5 h-5 text-orange-500"}),"Pending Approval"]}),n.jsx("div",{className:"space-y-3",children:g.filter(E=>E.status==="Pending"||E.status==="pending").map((E,F)=>n.jsx(xr,{user:E,index:F,handleUpdateRole:Hr,handleDeleteUser:qt,handleApproveUser:us},E.id))})]}),g.filter(E=>E.role!=="Admin"&&(E.status==="Active"||E.status==="approved")).length>0&&n.jsxs("div",{children:[n.jsxs("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-3 flex items-center gap-2",children:[n.jsx(er,{className:"w-5 h-5 text-emerald-500"}),"Active Members"]}),n.jsx("div",{className:"space-y-3",children:g.filter(E=>E.role!=="Admin"&&(E.status==="Active"||E.status==="approved")).map((E,F)=>n.jsx(xr,{user:E,index:F,handleUpdateRole:Hr,handleDeleteUser:qt,handleApproveUser:us},E.id))})]})]})]},"users"),s==="events"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileTap:{scale:.98},className:"w-full mb-6 bg-gradient-to-r from-teal-500 to-emerald-600 text-white rounded-2xl p-4 shadow-xl flex items-center justify-center gap-3 font-semibold",onClick:()=>J(!0),children:[n.jsx(ns,{className:"w-6 h-6"}),"Create New Event"]}),n.jsx(X4,{session:t,isOpen:je,onClose:()=>J(!1),onSuccess:M}),n.jsx("div",{className:"space-y-3",children:k.map((E,F)=>n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex items-start justify-between",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("span",{className:"text-2xl",children:E.category==="Shalat"?"":E.category==="Kajian"?"":""}),n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:E.title}),n.jsx("span",{className:"px-2 py-0.5 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-full text-xs font-semibold",children:E.category})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 line-clamp-2",children:E.description}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),new Date(E.date).toLocaleDateString("id-ID",{weekday:"long",day:"numeric",month:"long",year:"numeric"})]}),E.location&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx("span",{className:"text-lg",children:""}),E.location]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(er,{className:"w-4 h-4"}),E.rsvp?.length||0," Attending"]})]})]}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl",onClick:()=>ot(E.id),children:n.jsx(hr,{className:"w-5 h-5"})})]})},E.id))})]},"events"),s==="marketplace"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsx("div",{className:"flex gap-2 mb-6 overflow-x-auto pb-2 scrollbar-hide",children:["All","barang","jasa","lainnya"].map(E=>n.jsx("button",{onClick:()=>he(E),className:`px-4 py-2 rounded-xl text-sm font-semibold transition-all whitespace-nowrap capitalize ${se===E?"bg-emerald-600 text-white shadow-lg":"bg-white dark:bg-gray-800 text-gray-600 dark:text-gray-400 border border-gray-200 dark:border-gray-700"}`,children:E},E))}),n.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:_.filter(E=>se==="All"||E.category===se).map((E,F)=>n.jsxs(C.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-4 shadow-sm border border-gray-200 dark:border-gray-800 flex gap-4",children:[n.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-gray-800 rounded-xl flex-shrink-0 overflow-hidden",children:E.images&&E.images[0]?n.jsx("img",{src:E.images[0],alt:E.name,className:"w-full h-full object-cover"}):n.jsx("div",{className:"w-full h-full flex items-center justify-center text-gray-400",children:n.jsx(vn,{className:"w-8 h-8"})})}),n.jsxs("div",{className:"flex-1 min-w-0 flex flex-col justify-between",children:[n.jsxs("div",{children:[n.jsxs("div",{className:"flex justify-between items-start",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white truncate pr-2",children:E.name}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-[10px] font-bold uppercase ${E.status==="approved"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:E.status})]}),n.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400",children:At(E.price)}),n.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400 mt-1 flex items-center gap-1",children:[n.jsx(er,{className:"w-3 h-3"}),E.profiles?.name||"Unknown Seller"]})]}),n.jsxs("div",{className:"flex justify-end pt-2 gap-2",children:[E.status==="pending"&&n.jsxs(n.Fragment,{children:[n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-lg",onClick:()=>kn(E.id),title:"Approve",children:n.jsx(Bs,{className:"w-4 h-4"})}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-lg",onClick:()=>jn(E.id),title:"Reject",children:n.jsx($t,{className:"w-4 h-4"})})]}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-lg",onClick:()=>yr(E.id),title:"Delete",children:n.jsx(hr,{className:"w-4 h-4"})})]})]})]},E.id))})]},"marketplace"),s==="timeline"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileTap:{scale:.98},className:"w-full mb-6 bg-gradient-to-r from-blue-600 to-indigo-600 text-white rounded-2xl p-4 shadow-xl flex items-center justify-center gap-3 font-semibold",onClick:()=>Pe(!0),children:[n.jsx(ns,{className:"w-6 h-6"}),"Create New Timeline Post"]}),n.jsx(Q4,{session:t,isOpen:be,onClose:()=>Pe(!1),onSuccess:M}),n.jsx("div",{className:"space-y-3",children:v.map((E,F)=>n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-start justify-between mb-3",children:[n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:E.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.is_approved?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400"}`,children:E.is_approved?" Approved":" Pending"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3",children:E.content}),n.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),hs(E.date)]}),E.is_approved&&n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(ci,{className:"w-4 h-4"}),E.views," views"]})]})]}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:n.jsx(rl,{className:"w-5 h-5 text-gray-400"})})]}),n.jsxs("div",{className:"flex gap-2",children:[!E.is_approved&&n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",onClick:()=>Wr(E.id),children:[n.jsx(Bs,{className:"w-4 h-4"}),"Approve"]}),E.is_approved&&n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",onClick:()=>Ir(E.id),children:[n.jsx(qb,{className:"w-4 h-4"}),"Hide"]}),n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",onClick:()=>Ks(E.id),children:[n.jsx(hr,{className:"w-4 h-4"}),"Delete"]})]})]},E.id))})]},"timeline"),s==="campaigns"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileTap:{scale:.98},className:"w-full mb-6 bg-gradient-to-r from-purple-600 to-pink-600 text-white rounded-2xl p-4 shadow-xl flex items-center justify-center gap-3 font-semibold",onClick:()=>le(!0),children:[n.jsx(ns,{className:"w-6 h-6"}),"Create New Campaign"]}),n.jsx(Z4,{session:t,isOpen:ge,onClose:()=>le(!1),onSuccess:M}),n.jsx("div",{className:"space-y-4",children:S.map((E,F)=>{const ce=E.collected/E.target*100;return n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-800",children:[n.jsxs("div",{className:"flex items-start justify-between mb-4",children:[n.jsx("div",{className:"flex-1",children:n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:E.title}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.status==="Active"?"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400":E.status==="Completed"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400"}`,children:E.status})]})}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:n.jsx(rl,{className:"w-5 h-5 text-gray-400"})})]}),n.jsxs("div",{className:"mb-4",children:[n.jsxs("div",{className:"flex justify-between text-sm mb-2",children:[n.jsx("span",{className:"font-semibold text-gray-900 dark:text-white",children:At(E.collected)}),n.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:At(E.target)})]}),n.jsx("div",{className:"h-3 bg-gray-200 dark:bg-gray-800 rounded-full overflow-hidden",children:n.jsx(C.div,{initial:{width:0},animate:{width:`${ce}%`},transition:{duration:1,delay:F*.1},className:`h-full ${ce>=100?"bg-gradient-to-r from-blue-500 to-indigo-600":"bg-gradient-to-r from-emerald-500 to-teal-600"}`})}),n.jsxs("div",{className:"flex justify-between mt-2 text-xs text-gray-500 dark:text-gray-400",children:[n.jsxs("span",{children:[ce.toFixed(1),"% completed"]}),n.jsxs("span",{children:[E.donors," donors"]})]})]}),n.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-500 mb-4",children:n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),"Ends ",hs(E.endDate)]})}),n.jsxs("div",{className:"flex gap-2",children:[n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",children:[n.jsx(ru,{className:"w-4 h-4"}),"Edit"]}),n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-gray-100 dark:bg-gray-800 text-gray-700 dark:text-gray-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",children:[n.jsx(ci,{className:"w-4 h-4"}),"View"]})]})]},E.id)})})]},"campaigns"),s==="articles"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs(C.button,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},whileTap:{scale:.98},className:"w-full mb-6 bg-gradient-to-r from-teal-600 to-emerald-600 text-white rounded-2xl p-4 shadow-xl flex items-center justify-center gap-3 font-semibold",onClick:()=>ie(!0),children:[n.jsx(ns,{className:"w-6 h-6"}),"Create New Article"]}),n.jsx(eE,{session:t,isOpen:Y,onClose:()=>ie(!1),onSuccess:M}),n.jsx("div",{className:"space-y-3",children:D.map((E,F)=>n.jsx(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-sm border border-gray-200 dark:border-gray-800",children:n.jsxs("div",{className:"flex items-start gap-4",children:[E.image&&n.jsx("div",{className:"flex-shrink-0 w-24 h-24 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:n.jsx("img",{src:E.image,alt:E.title,className:"w-full h-full object-cover"})}),n.jsxs("div",{className:"flex-1",children:[n.jsxs("div",{className:"flex items-start justify-between mb-2",children:[n.jsxs("div",{className:"flex-1",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white mb-1",children:E.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2 mb-2",children:E.excerpt}),n.jsxs("div",{className:"flex items-center gap-3 text-xs text-gray-500 dark:text-gray-500",children:[n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(er,{className:"w-4 h-4"}),E.author||"Admin"]}),n.jsxs("div",{className:"flex items-center gap-1",children:[n.jsx(Tt,{className:"w-4 h-4"}),new Date(E.created_at).toLocaleDateString("id-ID",{day:"numeric",month:"short",year:"numeric"})]})]})]}),n.jsx(C.button,{whileTap:{scale:.9},className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-800 rounded-xl transition-colors",children:n.jsx(rl,{className:"w-5 h-5 text-gray-400"})})]}),n.jsxs("div",{className:"flex gap-2 mt-3",children:[n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",children:[n.jsx(ru,{className:"w-4 h-4"}),"Edit"]}),n.jsxs(C.button,{whileTap:{scale:.95},className:"flex-1 py-2 bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400 rounded-xl text-sm font-semibold flex items-center justify-center gap-2",onClick:()=>Pt(E.id),children:[n.jsx(hr,{className:"w-4 h-4"}),"Delete"]})]})]})]})},E.id))})]},"articles"),s==="moderation"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(f0,{className:"w-7 h-7 text-red-600 dark:text-red-400"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" Content Moderation"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Review user-generated content and take action on policy violations"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Total Items"}),n.jsx("p",{className:"text-2xl font-bold",children:B.length})]}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-red-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Pending"}),n.jsx("p",{className:"text-2xl font-bold",children:B.filter(E=>E.status==="pending").length})]}),n.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Approved"}),n.jsx("p",{className:"text-2xl font-bold",children:B.filter(E=>E.status==="published"||E.status==="approved").length})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Review Queue"}),B.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-12 text-center border border-gray-200 dark:border-gray-800",children:[n.jsx(Bs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"All Clear!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No content pending moderation at the moment."})]}):B.map((E,F)=>{const ce=new Date(E.timestamp).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:"bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-lg border-2 border-gray-200 dark:border-gray-800 hover:border-emerald-500 dark:hover:border-emerald-500 transition-all",children:[n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-indigo-500 to-purple-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:E.userName.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:E.userName}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.type==="post"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"}`,children:E.type==="post"?" Post":" Product"}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.status==="pending"?"bg-orange-100 dark:bg-orange-900/30 text-orange-700 dark:text-orange-400":"bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400"}`,children:E.status})]}),E.title&&n.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:E.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-3",children:E.content}),E.type==="product"&&E.price&&n.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 mb-2",children:At(E.price)}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-500",children:[n.jsx(as,{className:"w-3 h-3"}),ce]})]}),E.image&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800",children:n.jsx("img",{src:E.image,alt:"Content preview",className:"w-full h-full object-cover",onError:Ae=>{Ae.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="80" height="80"%3E%3Crect fill="%23e5e7eb" width="80" height="80"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%239ca3af" font-family="sans-serif" font-size="12"%3ENo Image%3C/text%3E%3C/svg%3E'}})})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>rt(E.id,E.type),className:"flex-1 py-3 bg-gradient-to-r from-green-500 to-emerald-600 hover:from-green-600 hover:to-emerald-700 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg transition-all",children:[n.jsx(Bs,{className:"w-5 h-5"})," Approve"]}),n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>gr(E.id,E.type),className:"flex-1 py-3 bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg transition-all",children:[n.jsx(hr,{className:"w-5 h-5"})," Take Down"]})]})]},`${E.type}-${E.id}`)})]})]},"moderation"),s==="reports"&&n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},exit:{opacity:0,y:-20},transition:{duration:.2},children:[n.jsxs("div",{className:"mb-6",children:[n.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[n.jsx(u0,{className:"w-7 h-7 text-red-600 dark:text-red-400"}),n.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:" User Reports"})]}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Content flagged by the community - review and take action"})]}),n.jsxs("div",{className:"grid grid-cols-3 gap-3 mb-6",children:[n.jsxs("div",{className:"bg-gradient-to-br from-red-500 to-red-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Total Reports"}),n.jsx("p",{className:"text-2xl font-bold",children:O.length})]}),n.jsxs("div",{className:"bg-gradient-to-br from-orange-500 to-amber-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"High Priority"}),n.jsx("p",{className:"text-2xl font-bold",children:O.filter(E=>E.totalReports>=5).length})]}),n.jsxs("div",{className:"bg-gradient-to-br from-blue-500 to-indigo-600 rounded-2xl p-4 text-white",children:[n.jsx("p",{className:"text-sm opacity-90",children:"Low Priority"}),n.jsx("p",{className:"text-2xl font-bold",children:O.filter(E=>E.totalReports<5).length})]})]}),n.jsxs("div",{className:"space-y-4",children:[n.jsxs("div",{className:"flex items-center justify-between",children:[n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white",children:"Flagged Content"}),n.jsxs("div",{className:"flex items-center gap-2 px-3 py-1 bg-red-100 dark:bg-red-900/30 rounded-full",children:[n.jsx(jd,{className:"w-4 h-4 text-red-600 dark:text-red-400"}),n.jsx("span",{className:"text-sm font-semibold text-red-700 dark:text-red-400",children:"Requires Review"})]})]}),O.length===0?n.jsxs("div",{className:"bg-white dark:bg-gray-900 rounded-2xl p-12 text-center border border-gray-200 dark:border-gray-800",children:[n.jsx(Bs,{className:"w-16 h-16 text-green-500 mx-auto mb-4"}),n.jsx("h3",{className:"text-lg font-bold text-gray-900 dark:text-white mb-2",children:"No Reports!"}),n.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"No content has been flagged by the community."})]}):O.map((E,F)=>{const ce=new Date(E.timestamp).toLocaleString("id-ID",{day:"numeric",month:"short",year:"numeric",hour:"2-digit",minute:"2-digit"});return n.jsxs(C.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:F*.05},className:`bg-white dark:bg-gray-900 rounded-2xl p-5 shadow-lg border-2 transition-all ${E.totalReports>=5?"border-red-300 dark:border-red-700 bg-red-50 dark:bg-red-950/20":"border-gray-200 dark:border-gray-800"} hover:border-red-500 dark:hover:border-red-500`,children:[E.totalReports>=5&&n.jsxs("div",{className:"flex items-center gap-2 mb-3 px-3 py-1 bg-red-600 text-white rounded-full w-fit",children:[n.jsx(jd,{className:"w-4 h-4 animate-pulse"}),n.jsx("span",{className:"text-xs font-bold",children:"HIGH PRIORITY"})]}),n.jsxs("div",{className:"flex gap-4 mb-4",children:[n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-12 h-12 bg-gradient-to-br from-red-500 to-orange-600 rounded-full flex items-center justify-center",children:n.jsx("span",{className:"text-white font-bold text-lg",children:E.authorName.charAt(0).toUpperCase()})})}),n.jsxs("div",{className:"flex-1 min-w-0",children:[n.jsxs("div",{className:"flex items-center gap-2 mb-2 flex-wrap",children:[n.jsx("h4",{className:"font-bold text-gray-900 dark:text-white",children:E.authorName}),n.jsx("span",{className:`px-2 py-0.5 rounded-full text-xs font-semibold ${E.type==="post"?"bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-400":"bg-purple-100 dark:bg-purple-900/30 text-purple-700 dark:text-purple-400"}`,children:E.type==="post"?" Post":" Product"}),n.jsxs("span",{className:"px-2 py-0.5 rounded-full text-xs font-bold bg-red-100 dark:bg-red-900/30 text-red-700 dark:text-red-400",children:[" ",E.totalReports," ",E.totalReports===1?"Report":"Reports"]})]}),n.jsx("div",{className:"mb-2 px-3 py-2 bg-orange-100 dark:bg-orange-900/20 rounded-lg border border-orange-300 dark:border-orange-700",children:n.jsxs("div",{className:"flex items-center gap-2",children:[n.jsx(ha,{className:"w-4 h-4 text-orange-600 dark:text-orange-400"}),n.jsxs("span",{className:"text-sm font-semibold text-orange-800 dark:text-orange-300",children:["Reason: ",E.reason]})]})}),E.title&&n.jsx("h5",{className:"font-semibold text-gray-900 dark:text-white mb-1",children:E.title}),n.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 mb-2 line-clamp-2",children:E.content}),E.type==="product"&&E.price&&n.jsx("p",{className:"text-sm font-semibold text-emerald-600 dark:text-emerald-400 mb-2",children:At(E.price)}),n.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-500 dark:text-gray-500",children:[n.jsx(as,{className:"w-3 h-3"}),ce]})]}),E.image&&n.jsx("div",{className:"flex-shrink-0",children:n.jsx("div",{className:"w-20 h-20 rounded-xl overflow-hidden bg-gray-100 dark:bg-gray-800 border-2 border-red-300 dark:border-red-700",children:n.jsx("img",{src:E.image,alt:"Reported content",className:"w-full h-full object-cover",onError:Ae=>{Ae.target.src='data:image/svg+xml,%3Csvg xmlns="http://www.w3.org/2000/svg" width="80" height="80"%3E%3Crect fill="%23e5e7eb" width="80" height="80"/%3E%3Ctext x="50%25" y="50%25" text-anchor="middle" dy=".3em" fill="%239ca3af" font-family="sans-serif" font-size="12"%3EFlagged%3C/text%3E%3C/svg%3E'}})})})]}),n.jsxs("div",{className:"flex gap-3",children:[n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>ds(E.id,E.type),className:"flex-1 py-3 bg-gray-200 dark:bg-gray-700 hover:bg-gray-300 dark:hover:bg-gray-600 text-gray-800 dark:text-gray-200 rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-md transition-all",children:[n.jsx($t,{className:"w-5 h-5"}),"Dismiss Report"]}),n.jsxs(C.button,{whileTap:{scale:.95},onClick:()=>Fr(E.id,E.type,E.authorId),className:"flex-1 py-3 bg-gradient-to-r from-red-600 to-red-700 hover:from-red-700 hover:to-red-800 text-white rounded-xl font-bold text-sm flex items-center justify-center gap-2 shadow-lg transition-all",children:[n.jsx(jd,{className:"w-5 h-5"})," Take Down & Warn"]})]})]},`${E.type}-${E.id}`)})]})]},"reports")]})})]})}function rs({active:t,onClick:e,icon:s,label:i}){return n.jsxs(C.button,{whileTap:{scale:.95},onClick:e,className:`flex items-center gap-2 px-4 py-2 rounded-xl font-semibold text-sm whitespace-nowrap transition-all ${t?"bg-white text-emerald-700 shadow-lg":"bg-white/10 text-white/70 hover:bg-white/20"}`,children:[n.jsx(s,{className:"w-4 h-4"}),i]})}function rE(){const[t,e]=P.useState(!1);P.useEffect(()=>{localStorage.getItem("jamaah_data_initialized_v2")?e(!0):s()},[]);const s=async()=>{try{await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/announcements`,{method:"POST",headers:{Authorization:`Bearer ${os}`,"Content-Type":"application/json"},body:JSON.stringify({title:"Jadwal Shalat Jumat",content:"Khotbah dimulai pukul 12:00 WIB. Jamaah diharapkan hadir 15 menit sebelumnya.",image:"https://images.unsplash.com/photo-1591604466107-ec97de577aff"})}).catch(()=>{}),await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/announcements`,{method:"POST",headers:{Authorization:`Bearer ${os}`,"Content-Type":"application/json"},body:JSON.stringify({title:"Kajian Rutin Ahad Pagi",content:"Kajian rutin setiap Ahad pukul 08:00 WIB dengan tema Tafsir Al-Quran.",image:"https://images.unsplash.com/photo-1609599006353-e629aaabfeae"})}).catch(()=>{}),localStorage.setItem("jamaah_data_initialized_v2","true"),e(!0)}catch{console.log("Data initialization skipped or already done"),e(!0)}};return null}const Zd=tt();function sE(){const[t,e]=P.useState("splash"),[s,i]=P.useState("home"),[l,c]=P.useState(null),[d,h]=P.useState(null),[m,p]=P.useState(null),[g,y]=P.useState(null),[v,w]=P.useState(null),[k,N]=P.useState(null),[_,T]=P.useState(0),[S,j]=P.useState(()=>localStorage.getItem("jamaah_dark_mode")==="true");P.useEffect(()=>{S?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")},[S]),P.useEffect(()=>{Zd.auth.getSession().then(({data:{session:H}})=>{c(H)});const{data:{subscription:L}}=Zd.auth.onAuthStateChange((H,se)=>{c(se)}),O=setTimeout(()=>{e("home")},3500);return()=>{L.unsubscribe(),clearTimeout(O)}},[]);const D=()=>{j(L=>{const O=!L;return localStorage.setItem("jamaah_dark_mode",String(O)),O})},$=(L,O)=>{i(t),L==="product-detail"?h(O):L==="chat"?p(O):L==="article-detail"?y(O):L==="timeline-detail"&&w(O),e(L)},B=async()=>{await Zd.auth.signOut(),c(null),e("home")};return t==="splash"?n.jsxs(n.Fragment,{children:[n.jsx(k4,{}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="auth"?n.jsxs(n.Fragment,{children:[n.jsx($4,{onSuccess:()=>e("home"),onSignupSuccess:()=>e("pending-approval"),onBack:()=>e("profile")}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="pending-approval"?n.jsxs(n.Fragment,{children:[n.jsx(U4,{onNavigateToLogin:()=>{e("auth")}}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="product-detail"&&d?n.jsxs(n.Fragment,{children:[n.jsx(B4,{product:d,session:l,onBack:()=>e("marketplace"),onStartChat:(L,O)=>{$("chat",{recipientId:L,productId:O})}}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="chat-list"?n.jsxs(n.Fragment,{children:[n.jsx(V4,{session:l,onBack:()=>e("profile"),onSelectChat:L=>$("chat",L)}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="chat"&&m?n.jsxs(n.Fragment,{children:[n.jsx(z4,{chat:m,session:l,onBack:()=>e("chat-list")}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="connections"?n.jsxs(n.Fragment,{children:[n.jsx(H4,{session:l,onBack:()=>e("profile"),onStartChat:async L=>{try{const O=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/chats`,{method:"POST",headers:{Authorization:`Bearer ${l.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({recipient_id:L})});if(O.ok){const H=await O.json();$("chat",H)}}catch(O){console.error("Error starting chat:",O)}}}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="article-detail"&&g?n.jsxs(n.Fragment,{children:[n.jsx(W4,{article:g,session:l,onBack:()=>e(s==="all-articles"?"all-articles":"home")}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="all-articles"?n.jsxs(n.Fragment,{children:[n.jsx(K4,{onBack:()=>e("home"),onSelectArticle:L=>$("article-detail",L)}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="create-timeline"?n.jsxs(n.Fragment,{children:[n.jsx(q4,{session:l,editPost:k,onBack:()=>{N(null),e("home")},onSuccess:()=>{N(null),e("home"),T(L=>L+1)}}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="timeline-detail"&&v?n.jsxs(n.Fragment,{children:[n.jsx(G4,{post:v,session:l,onBack:()=>{e("home"),T(L=>L+1)},onEdit:()=>{N(v),e("create-timeline")},onDelete:async()=>{if(confirm("Yakin ingin menghapus postingan ini?"))try{const L=await fetch(`https://${$e}.supabase.co/functions/v1/make-server-4319e602/api/timeline/${v.id}`,{method:"DELETE",headers:{Authorization:`Bearer ${l?.access_token}`}});if(L.ok)Z.success("Postingan berhasil dihapus"),e("home"),T(O=>O+1);else{const O=await L.json();Z.error(O.error||"Gagal menghapus postingan")}}catch(L){console.error("Error deleting post:",L),Z.error("Gagal menghapus postingan")}}}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="contact"?n.jsxs(n.Fragment,{children:[n.jsx(J4,{onBack:()=>e("profile")}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="about"?n.jsxs(n.Fragment,{children:[n.jsx(Y4,{onBack:()=>e("profile")}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):t==="admin-dashboard"?n.jsxs(n.Fragment,{children:[n.jsx(tE,{session:l,onNavigate:$}),n.jsx(Dt,{position:"top-center",richColors:!0})]}):n.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900 flex flex-col",children:[n.jsx(rE,{}),n.jsx(Dt,{position:"top-center",richColors:!0}),n.jsxs("div",{className:"flex-1 overflow-auto pb-20",children:[t==="home"&&n.jsx(N4,{session:l,onNavigate:$},_),t==="calendar"&&n.jsx(E4,{session:l}),t==="marketplace"&&n.jsx(P4,{session:l,onNavigate:$}),t==="donation"&&n.jsx(I4,{session:l}),t==="profile"&&n.jsx(L4,{session:l,onNavigate:$,onLogout:B,darkMode:S,onToggleDarkMode:D})]}),n.jsx("div",{className:"fixed bottom-0 left-0 right-0 pointer-events-none px-4 pb-6 safe-area-bottom z-50",children:n.jsx(C.div,{initial:{y:100,opacity:0},animate:{y:0,opacity:1},transition:{type:"spring",stiffness:260,damping:20},className:"max-w-md mx-auto pointer-events-auto",children:n.jsxs("div",{className:"relative backdrop-blur-2xl bg-white/70 dark:bg-gray-900/70 rounded-[2rem] shadow-[0_8px_32px_rgba(0,0,0,0.12)] dark:shadow-[0_8px_32px_rgba(0,0,0,0.4)] border border-white/20 dark:border-white/10 overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 bg-gradient-to-b from-white/40 to-transparent dark:from-white/5 pointer-events-none"}),n.jsxs("div",{className:"relative flex justify-around items-center px-2 py-3",children:[n.jsx(ai,{icon:mw,label:"Masjid",active:t==="home",onClick:()=>e("home")}),n.jsx(ai,{icon:Tt,label:"Kegiatan",active:t==="calendar",onClick:()=>e("calendar")}),n.jsx(ai,{icon:hg,label:"Pasar",active:t==="marketplace",onClick:()=>e("marketplace")}),n.jsx(ai,{icon:eu,label:"Donasi",active:t==="donation",onClick:()=>e("donation")}),n.jsx(ai,{icon:mr,label:"Akun",active:t==="profile",onClick:()=>e("profile")})]})]})})})]})}function ai({icon:t,label:e,active:s,onClick:i}){return n.jsxs(C.button,{onClick:i,className:"relative flex flex-col items-center justify-center gap-1 px-4 py-2 min-w-[60px]",whileTap:{scale:.92},transition:{type:"spring",stiffness:400,damping:17},children:[n.jsx(sr,{children:s&&n.jsx(C.div,{layoutId:"tabBubble",className:"absolute inset-0 bg-gradient-to-br from-emerald-500/20 to-teal-500/20 dark:from-emerald-400/20 dark:to-teal-400/20 rounded-2xl",initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},transition:{type:"spring",stiffness:400,damping:25}})}),n.jsx(C.div,{animate:{scale:s?1.1:1,y:s?-2:0},transition:{type:"spring",stiffness:400,damping:17},className:"relative z-10",children:n.jsx(t,{className:`w-5 h-5 transition-colors duration-200 ${s?"text-emerald-600 dark:text-emerald-400":"text-gray-500 dark:text-gray-400"}`,strokeWidth:s?2.5:2})}),n.jsx(C.span,{animate:{opacity:s?1:.7,y:s?0:1},transition:{duration:.2},className:`relative z-10 text-[10px] transition-colors duration-200 ${s?"text-emerald-600 dark:text-emerald-400":"text-gray-500 dark:text-gray-400"}`,children:e}),n.jsx(sr,{children:s&&n.jsx(C.div,{initial:{scale:0,opacity:0},animate:{scale:1,opacity:1},exit:{scale:0,opacity:0},className:"absolute -top-1 w-1 h-1 bg-emerald-500 dark:bg-emerald-400 rounded-full",transition:{type:"spring",stiffness:400,damping:17}})})]})}const nE="modulepreload",aE=function(t){return"/"+t},sg={},iE=function(e,s,i){let l=Promise.resolve();if(s&&s.length>0){let d=function(p){return Promise.all(p.map(g=>Promise.resolve(g).then(y=>({status:"fulfilled",value:y}),y=>({status:"rejected",reason:y}))))};document.getElementsByTagName("link");const h=document.querySelector("meta[property=csp-nonce]"),m=h?.nonce||h?.getAttribute("nonce");l=d(s.map(p=>{if(p=aE(p),p in sg)return;sg[p]=!0;const g=p.endsWith(".css"),y=g?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${y}`))return;const v=document.createElement("link");if(v.rel=g?"stylesheet":nE,g||(v.as="script"),v.crossOrigin="",v.href=p,m&&v.setAttribute("nonce",m),document.head.appendChild(v),g)return new Promise((w,k)=>{v.addEventListener("load",w),v.addEventListener("error",()=>k(new Error(`Unable to preload CSS for ${p}`)))})}))}function c(d){const h=new Event("vite:preloadError",{cancelable:!0});if(h.payload=d,window.dispatchEvent(h),!h.defaultPrevented)throw d}return l.then(d=>{for(const h of d||[])h.status==="rejected"&&c(h.reason);return e().catch(c)})};function oE(t={}){const{immediate:e=!1,onNeedRefresh:s,onOfflineReady:i,onRegistered:l,onRegisteredSW:c,onRegisterError:d}=t;let h,m;const p=async(y=!0)=>{await m};async function g(){if("serviceWorker"in navigator){if(h=await iE(async()=>{const{Workbox:y}=await import("./workbox-window.prod.es5-BIl4cyR9.js");return{Workbox:y}},[]).then(({Workbox:y})=>new y("/sw.js",{scope:"/",type:"classic"})).catch(y=>{d?.(y)}),!h)return;h.addEventListener("activated",y=>{(y.isUpdate||y.isExternal)&&window.location.reload()}),h.addEventListener("installed",y=>{y.isUpdate||i?.()}),h.register({immediate:e}).then(y=>{c?c("/sw.js",y):l?.(y)}).catch(y=>{d?.(y)})}}return m=g(),p}oE({immediate:!0});yb.createRoot(document.getElementById("root")).render(n.jsx(sE,{}));
